var ry=Object.defineProperty;var iy=(e,t,n)=>t in e?ry(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Q=(e,t,n)=>(iy(e,typeof t!="symbol"?t+"":t,n),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();function Sl(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const Ht={},xs=[],Gn=()=>{},sy=()=>!1,oy=/^on[^a-z]/,Zo=e=>oy.test(e),rh=e=>e.startsWith("onUpdate:"),Zt=Object.assign,ih=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},ay=Object.prototype.hasOwnProperty,Nt=(e,t)=>ay.call(e,t),et=Array.isArray,bs=e=>ks(e)==="[object Map]",Hi=e=>ks(e)==="[object Set]",rf=e=>ks(e)==="[object Date]",ly=e=>ks(e)==="[object RegExp]",vt=e=>typeof e=="function",se=e=>typeof e=="string",Mo=e=>typeof e=="symbol",zt=e=>e!==null&&typeof e=="object",sh=e=>zt(e)&&vt(e.then)&&vt(e.catch),Qp=Object.prototype.toString,ks=e=>Qp.call(e),cy=e=>ks(e).slice(8,-1),qp=e=>ks(e)==="[object Object]",oh=e=>se(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,mo=Sl(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ol=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},uy=/-(\w)/g,sn=Ol(e=>e.replace(uy,(t,n)=>n?n.toUpperCase():"")),hy=/\B([A-Z])/g,Tn=Ol(e=>e.replace(hy,"-$1").toLowerCase()),Jo=Ol(e=>e.charAt(0).toUpperCase()+e.slice(1)),vo=Ol(e=>e?`on${Jo(e)}`:""),Ps=(e,t)=>!Object.is(e,t),_s=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},nl=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},rl=e=>{const t=parseFloat(e);return isNaN(t)?e:t},il=e=>{const t=se(e)?Number(e):NaN;return isNaN(t)?e:t};let sf;const au=()=>sf||(sf=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),fy="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",dy=Sl(fy);function kn(e){if(et(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=se(r)?vy(r):kn(r);if(i)for(const o in i)t[o]=i[o]}return t}else{if(se(e))return e;if(zt(e))return e}}const py=/;(?![^(]*\))/g,gy=/:([^]+)/,my=/\/\*[^]*?\*\//g;function vy(e){const t={};return e.replace(my,"").split(py).forEach(n=>{if(n){const r=n.split(gy);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function nr(e){let t="";if(se(e))t=e;else if(et(e))for(let n=0;n<e.length;n++){const r=nr(e[n]);r&&(t+=r+" ")}else if(zt(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function yy(e){if(!e)return null;let{class:t,style:n}=e;return t&&!se(t)&&(e.class=nr(t)),n&&(e.style=kn(n)),e}const xy="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",by=Sl(xy);function tg(e){return!!e||e===""}function _y(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=ri(e[r],t[r]);return n}function ri(e,t){if(e===t)return!0;let n=rf(e),r=rf(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Mo(e),r=Mo(t),n||r)return e===t;if(n=et(e),r=et(t),n||r)return n&&r?_y(e,t):!1;if(n=zt(e),r=zt(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,o=Object.keys(t).length;if(i!==o)return!1;for(const s in e){const a=e.hasOwnProperty(s),l=t.hasOwnProperty(s);if(a&&!l||!a&&l||!ri(e[s],t[s]))return!1}}return String(e)===String(t)}function Cl(e,t){return e.findIndex(n=>ri(n,t))}const oo=e=>se(e)?e:e==null?"":et(e)||zt(e)&&(e.toString===Qp||!vt(e.toString))?JSON.stringify(e,eg,2):String(e),eg=(e,t)=>t&&t.__v_isRef?eg(e,t.value):bs(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:Hi(t)?{[`Set(${t.size})`]:[...t.values()]}:zt(t)&&!et(t)&&!qp(t)?String(t):t;let gn;class ah{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=gn,!t&&gn&&(this.index=(gn.scopes||(gn.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=gn;try{return gn=this,t()}finally{gn=n}}}on(){gn=this}off(){gn=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function wy(e){return new ah(e)}function ng(e,t=gn){t&&t.active&&t.effects.push(e)}function rg(){return gn}function Ey(e){gn&&gn.cleanups.push(e)}const lh=e=>{const t=new Set(e);return t.w=0,t.n=0,t},ig=e=>(e.w&ii)>0,sg=e=>(e.n&ii)>0,Sy=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=ii},Oy=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];ig(i)&&!sg(i)?i.delete(e):t[n++]=i,i.w&=~ii,i.n&=~ii}t.length=n}},sl=new WeakMap;let ao=0,ii=1;const lu=30;let $n;const Li=Symbol(""),cu=Symbol("");class Qo{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,ng(this,r)}run(){if(!this.active)return this.fn();let t=$n,n=Qr;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=$n,$n=this,Qr=!0,ii=1<<++ao,ao<=lu?Sy(this):of(this),this.fn()}finally{ao<=lu&&Oy(this),ii=1<<--ao,$n=this.parent,Qr=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){$n===this?this.deferStop=!0:this.active&&(of(this),this.onStop&&this.onStop(),this.active=!1)}}function of(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function Cy(e,t){e.effect&&(e=e.effect.fn);const n=new Qo(e);t&&(Zt(n,t),t.scope&&ng(n,t.scope)),(!t||!t.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function Py(e){e.effect.stop()}let Qr=!0;const og=[];function $s(){og.push(Qr),Qr=!1}function js(){const e=og.pop();Qr=e===void 0?!0:e}function on(e,t,n){if(Qr&&$n){let r=sl.get(e);r||sl.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=lh()),ag(i)}}function ag(e,t){let n=!1;ao<=lu?sg(e)||(e.n|=ii,n=!ig(e)):n=!e.has($n),n&&(e.add($n),$n.deps.push(e))}function Tr(e,t,n,r,i,o){const s=sl.get(e);if(!s)return;let a=[];if(t==="clear")a=[...s.values()];else if(n==="length"&&et(e)){const l=Number(r);s.forEach((c,h)=>{(h==="length"||h>=l)&&a.push(c)})}else switch(n!==void 0&&a.push(s.get(n)),t){case"add":et(e)?oh(n)&&a.push(s.get("length")):(a.push(s.get(Li)),bs(e)&&a.push(s.get(cu)));break;case"delete":et(e)||(a.push(s.get(Li)),bs(e)&&a.push(s.get(cu)));break;case"set":bs(e)&&a.push(s.get(Li));break}if(a.length===1)a[0]&&uu(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);uu(lh(l))}}function uu(e,t){const n=et(e)?e:[...e];for(const r of n)r.computed&&af(r);for(const r of n)r.computed||af(r)}function af(e,t){(e!==$n||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function Ty(e,t){var n;return(n=sl.get(e))==null?void 0:n.get(t)}const Ly=Sl("__proto__,__v_isRef,__isVue"),lg=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Mo)),Ry=Pl(),My=Pl(!1,!0),Iy=Pl(!0),Ay=Pl(!0,!0),lf=Dy();function Dy(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Mt(this);for(let o=0,s=this.length;o<s;o++)on(r,"get",o+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(Mt)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){$s();const r=Mt(this)[t].apply(this,n);return js(),r}}),e}function By(e){const t=Mt(this);return on(t,"has",e),t.hasOwnProperty(e)}function Pl(e=!1,t=!1){return function(r,i,o){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&o===(e?t?gg:pg:t?dg:fg).get(r))return r;const s=et(r);if(!e){if(s&&Nt(lf,i))return Reflect.get(lf,i,o);if(i==="hasOwnProperty")return By}const a=Reflect.get(r,i,o);return(Mo(i)?lg.has(i):Ly(i))||(e||on(r,"get",i),t)?a:_e(a)?s&&oh(i)?a:a.value:zt(a)?e?Ml(a):Rl(a):a}}const Ny=cg(),Fy=cg(!0);function cg(e=!1){return function(n,r,i,o){let s=n[r];if(Ni(s)&&_e(s)&&!_e(i))return!1;if(!e&&(!Io(i)&&!Ni(i)&&(s=Mt(s),i=Mt(i)),!et(n)&&_e(s)&&!_e(i)))return s.value=i,!0;const a=et(n)&&oh(r)?Number(r)<n.length:Nt(n,r),l=Reflect.set(n,r,i,o);return n===Mt(o)&&(a?Ps(i,s)&&Tr(n,"set",r,i):Tr(n,"add",r,i)),l}}function ky(e,t){const n=Nt(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&Tr(e,"delete",t,void 0),r}function $y(e,t){const n=Reflect.has(e,t);return(!Mo(t)||!lg.has(t))&&on(e,"has",t),n}function jy(e){return on(e,"iterate",et(e)?"length":Li),Reflect.ownKeys(e)}const ug={get:Ry,set:Ny,deleteProperty:ky,has:$y,ownKeys:jy},hg={get:Iy,set(e,t){return!0},deleteProperty(e,t){return!0}},Wy=Zt({},ug,{get:My,set:Fy}),Uy=Zt({},hg,{get:Ay}),ch=e=>e,Tl=e=>Reflect.getPrototypeOf(e);function ha(e,t,n=!1,r=!1){e=e.__v_raw;const i=Mt(e),o=Mt(t);n||(t!==o&&on(i,"get",t),on(i,"get",o));const{has:s}=Tl(i),a=r?ch:n?hh:Ao;if(s.call(i,t))return a(e.get(t));if(s.call(i,o))return a(e.get(o));e!==i&&e.get(t)}function fa(e,t=!1){const n=this.__v_raw,r=Mt(n),i=Mt(e);return t||(e!==i&&on(r,"has",e),on(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function da(e,t=!1){return e=e.__v_raw,!t&&on(Mt(e),"iterate",Li),Reflect.get(e,"size",e)}function cf(e){e=Mt(e);const t=Mt(this);return Tl(t).has.call(t,e)||(t.add(e),Tr(t,"add",e,e)),this}function uf(e,t){t=Mt(t);const n=Mt(this),{has:r,get:i}=Tl(n);let o=r.call(n,e);o||(e=Mt(e),o=r.call(n,e));const s=i.call(n,e);return n.set(e,t),o?Ps(t,s)&&Tr(n,"set",e,t):Tr(n,"add",e,t),this}function hf(e){const t=Mt(this),{has:n,get:r}=Tl(t);let i=n.call(t,e);i||(e=Mt(e),i=n.call(t,e)),r&&r.call(t,e);const o=t.delete(e);return i&&Tr(t,"delete",e,void 0),o}function ff(){const e=Mt(this),t=e.size!==0,n=e.clear();return t&&Tr(e,"clear",void 0,void 0),n}function pa(e,t){return function(r,i){const o=this,s=o.__v_raw,a=Mt(s),l=t?ch:e?hh:Ao;return!e&&on(a,"iterate",Li),s.forEach((c,h)=>r.call(i,l(c),l(h),o))}}function ga(e,t,n){return function(...r){const i=this.__v_raw,o=Mt(i),s=bs(o),a=e==="entries"||e===Symbol.iterator&&s,l=e==="keys"&&s,c=i[e](...r),h=n?ch:t?hh:Ao;return!t&&on(o,"iterate",l?cu:Li),{next(){const{value:u,done:f}=c.next();return f?{value:u,done:f}:{value:a?[h(u[0]),h(u[1])]:h(u),done:f}},[Symbol.iterator](){return this}}}}function Fr(e){return function(...t){return e==="delete"?!1:this}}function Hy(){const e={get(o){return ha(this,o)},get size(){return da(this)},has:fa,add:cf,set:uf,delete:hf,clear:ff,forEach:pa(!1,!1)},t={get(o){return ha(this,o,!1,!0)},get size(){return da(this)},has:fa,add:cf,set:uf,delete:hf,clear:ff,forEach:pa(!1,!0)},n={get(o){return ha(this,o,!0)},get size(){return da(this,!0)},has(o){return fa.call(this,o,!0)},add:Fr("add"),set:Fr("set"),delete:Fr("delete"),clear:Fr("clear"),forEach:pa(!0,!1)},r={get(o){return ha(this,o,!0,!0)},get size(){return da(this,!0)},has(o){return fa.call(this,o,!0)},add:Fr("add"),set:Fr("set"),delete:Fr("delete"),clear:Fr("clear"),forEach:pa(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(o=>{e[o]=ga(o,!1,!1),n[o]=ga(o,!0,!1),t[o]=ga(o,!1,!0),r[o]=ga(o,!0,!0)}),[e,n,t,r]}const[zy,Gy,Yy,Ky]=Hy();function Ll(e,t){const n=t?e?Ky:Yy:e?Gy:zy;return(r,i,o)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Nt(n,i)&&i in r?n:r,i,o)}const Xy={get:Ll(!1,!1)},Vy={get:Ll(!1,!0)},Zy={get:Ll(!0,!1)},Jy={get:Ll(!0,!0)},fg=new WeakMap,dg=new WeakMap,pg=new WeakMap,gg=new WeakMap;function Qy(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function qy(e){return e.__v_skip||!Object.isExtensible(e)?0:Qy(cy(e))}function Rl(e){return Ni(e)?e:Il(e,!1,ug,Xy,fg)}function mg(e){return Il(e,!1,Wy,Vy,dg)}function Ml(e){return Il(e,!0,hg,Zy,pg)}function t0(e){return Il(e,!0,Uy,Jy,gg)}function Il(e,t,n,r,i){if(!zt(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const o=i.get(e);if(o)return o;const s=qy(e);if(s===0)return e;const a=new Proxy(e,s===2?r:n);return i.set(e,a),a}function Ri(e){return Ni(e)?Ri(e.__v_raw):!!(e&&e.__v_isReactive)}function Ni(e){return!!(e&&e.__v_isReadonly)}function Io(e){return!!(e&&e.__v_isShallow)}function uh(e){return Ri(e)||Ni(e)}function Mt(e){const t=e&&e.__v_raw;return t?Mt(t):e}function Al(e){return nl(e,"__v_skip",!0),e}const Ao=e=>zt(e)?Rl(e):e,hh=e=>zt(e)?Ml(e):e;function fh(e){Qr&&$n&&(e=Mt(e),ag(e.dep||(e.dep=lh())))}function Dl(e,t){e=Mt(e);const n=e.dep;n&&uu(n)}function _e(e){return!!(e&&e.__v_isRef===!0)}function $t(e){return vg(e,!1)}function e0(e){return vg(e,!0)}function vg(e,t){return _e(e)?e:new n0(e,t)}class n0{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Mt(t),this._value=n?t:Ao(t)}get value(){return fh(this),this._value}set value(t){const n=this.__v_isShallow||Io(t)||Ni(t);t=n?t:Mt(t),Ps(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Ao(t),Dl(this))}}function r0(e){Dl(e)}function Bl(e){return _e(e)?e.value:e}function i0(e){return vt(e)?e():Bl(e)}const s0={get:(e,t,n)=>Bl(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return _e(i)&&!_e(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function dh(e){return Ri(e)?e:new Proxy(e,s0)}class o0{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=t(()=>fh(this),()=>Dl(this));this._get=n,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function a0(e){return new o0(e)}function l0(e){const t=et(e)?new Array(e.length):{};for(const n in e)t[n]=yg(e,n);return t}class c0{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Ty(Mt(this._object),this._key)}}class u0{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function h0(e,t,n){return _e(e)?e:vt(e)?new u0(e):zt(e)&&arguments.length>1?yg(e,t,n):$t(e)}function yg(e,t,n){const r=e[t];return _e(r)?r:new c0(e,t,n)}class f0{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Qo(t,()=>{this._dirty||(this._dirty=!0,Dl(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=Mt(this);return fh(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function d0(e,t,n=!1){let r,i;const o=vt(e);return o?(r=e,i=Gn):(r=e.get,i=e.set),new f0(r,i,o||!i,n)}function p0(e,...t){}function g0(e,t){}function Sr(e,t,n,r){let i;try{i=r?e(...r):e()}catch(o){zi(o,t,n)}return i}function vn(e,t,n,r){if(vt(e)){const o=Sr(e,t,n,r);return o&&sh(o)&&o.catch(s=>{zi(s,t,n)}),o}const i=[];for(let o=0;o<e.length;o++)i.push(vn(e[o],t,n,r));return i}function zi(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let o=t.parent;const s=t.proxy,a=n;for(;o;){const c=o.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](e,s,a)===!1)return}o=o.parent}const l=t.appContext.config.errorHandler;if(l){Sr(l,null,10,[e,s,a]);return}}m0(e,n,i,r)}function m0(e,t,n,r=!0){console.error(e)}let Do=!1,hu=!1;const Ae=[];let rr=0;const ws=[];let _r=null,Si=0;const xg=Promise.resolve();let ph=null;function gh(e){const t=ph||xg;return e?t.then(this?e.bind(this):e):t}function v0(e){let t=rr+1,n=Ae.length;for(;t<n;){const r=t+n>>>1;Bo(Ae[r])<e?t=r+1:n=r}return t}function Nl(e){(!Ae.length||!Ae.includes(e,Do&&e.allowRecurse?rr+1:rr))&&(e.id==null?Ae.push(e):Ae.splice(v0(e.id),0,e),bg())}function bg(){!Do&&!hu&&(hu=!0,ph=xg.then(_g))}function y0(e){const t=Ae.indexOf(e);t>rr&&Ae.splice(t,1)}function mh(e){et(e)?ws.push(...e):(!_r||!_r.includes(e,e.allowRecurse?Si+1:Si))&&ws.push(e),bg()}function df(e,t=Do?rr+1:0){for(;t<Ae.length;t++){const n=Ae[t];n&&n.pre&&(Ae.splice(t,1),t--,n())}}function ol(e){if(ws.length){const t=[...new Set(ws)];if(ws.length=0,_r){_r.push(...t);return}for(_r=t,_r.sort((n,r)=>Bo(n)-Bo(r)),Si=0;Si<_r.length;Si++)_r[Si]();_r=null,Si=0}}const Bo=e=>e.id==null?1/0:e.id,x0=(e,t)=>{const n=Bo(e)-Bo(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function _g(e){hu=!1,Do=!0,Ae.sort(x0);const t=Gn;try{for(rr=0;rr<Ae.length;rr++){const n=Ae[rr];n&&n.active!==!1&&Sr(n,null,14)}}finally{rr=0,Ae.length=0,ol(),Do=!1,ph=null,(Ae.length||ws.length)&&_g()}}let fs,ma=[];function wg(e,t){var n,r;fs=e,fs?(fs.enabled=!0,ma.forEach(({event:i,args:o})=>fs.emit(i,...o)),ma=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(o=>{wg(o,t)}),setTimeout(()=>{fs||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,ma=[])},3e3)):ma=[]}function b0(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||Ht;let i=n;const o=t.startsWith("update:"),s=o&&t.slice(7);if(s&&s in r){const h=`${s==="modelValue"?"model":s}Modifiers`,{number:u,trim:f}=r[h]||Ht;f&&(i=n.map(d=>se(d)?d.trim():d)),u&&(i=n.map(rl))}let a,l=r[a=vo(t)]||r[a=vo(sn(t))];!l&&o&&(l=r[a=vo(Tn(t))]),l&&vn(l,e,6,i);const c=r[a+"Once"];if(c){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,vn(c,e,6,i)}}function Eg(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const o=e.emits;let s={},a=!1;if(!vt(e)){const l=c=>{const h=Eg(c,t,!0);h&&(a=!0,Zt(s,h))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!o&&!a?(zt(e)&&r.set(e,null),null):(et(o)?o.forEach(l=>s[l]=null):Zt(s,o),zt(e)&&r.set(e,s),s)}function Fl(e,t){return!e||!Zo(t)?!1:(t=t.slice(2).replace(/Once$/,""),Nt(e,t[0].toLowerCase()+t.slice(1))||Nt(e,Tn(t))||Nt(e,t))}let we=null,kl=null;function No(e){const t=we;return we=e,kl=e&&e.type.__scopeId||null,t}function Sg(e){kl=e}function Og(){kl=null}const _0=e=>$l;function $l(e,t=we,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&yu(-1);const o=No(t);let s;try{s=e(...i)}finally{No(o),r._d&&yu(1)}return s};return r._n=!0,r._c=!0,r._d=!0,r}function Ga(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:o,propsOptions:[s],slots:a,attrs:l,emit:c,render:h,renderCache:u,data:f,setupState:d,ctx:g,inheritAttrs:m}=e;let b,x;const p=No(e);try{if(n.shapeFlag&4){const y=i||r;b=mn(h.call(y,y,u,o,d,f,g)),x=l}else{const y=t;b=mn(y.length>1?y(o,{attrs:l,slots:a,emit:c}):y(o,null)),x=t.props?l:E0(l)}}catch(y){_o.length=0,zi(y,e,1),b=Yt(ke)}let v=b;if(x&&m!==!1){const y=Object.keys(x),{shapeFlag:_}=v;y.length&&_&7&&(s&&y.some(rh)&&(x=S0(x,s)),v=lr(v,x))}return n.dirs&&(v=lr(v),v.dirs=v.dirs?v.dirs.concat(n.dirs):n.dirs),n.transition&&(v.transition=n.transition),b=v,No(p),b}function w0(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(si(r)){if(r.type!==ke||r.children==="v-if"){if(t)return;t=r}}else return}return t}const E0=e=>{let t;for(const n in e)(n==="class"||n==="style"||Zo(n))&&((t||(t={}))[n]=e[n]);return t},S0=(e,t)=>{const n={};for(const r in e)(!rh(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function O0(e,t,n){const{props:r,children:i,component:o}=e,{props:s,children:a,patchFlag:l}=t,c=o.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?pf(r,s,c):!!s;if(l&8){const h=t.dynamicProps;for(let u=0;u<h.length;u++){const f=h[u];if(s[f]!==r[f]&&!Fl(c,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===s?!1:r?s?pf(r,s,c):!0:!!s;return!1}function pf(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const o=r[i];if(t[o]!==e[o]&&!Fl(n,o))return!0}return!1}function vh({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const Cg=e=>e.__isSuspense,C0={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,o,s,a,l,c){e==null?T0(t,n,r,i,o,s,a,l,c):L0(e,t,n,r,i,s,a,l,c)},hydrate:R0,create:yh,normalize:M0},P0=C0;function Fo(e,t){const n=e.props&&e.props[t];vt(n)&&n()}function T0(e,t,n,r,i,o,s,a,l){const{p:c,o:{createElement:h}}=l,u=h("div"),f=e.suspense=yh(e,i,r,t,u,n,o,s,a,l);c(null,f.pendingBranch=e.ssContent,u,null,r,f,o,s),f.deps>0?(Fo(e,"onPending"),Fo(e,"onFallback"),c(null,e.ssFallback,t,n,r,null,o,s),Es(f,e.ssFallback)):f.resolve(!1,!0)}function L0(e,t,n,r,i,o,s,a,{p:l,um:c,o:{createElement:h}}){const u=t.suspense=e.suspense;u.vnode=t,t.el=e.el;const f=t.ssContent,d=t.ssFallback,{activeBranch:g,pendingBranch:m,isInFallback:b,isHydrating:x}=u;if(m)u.pendingBranch=f,jn(f,m)?(l(m,f,u.hiddenContainer,null,i,u,o,s,a),u.deps<=0?u.resolve():b&&(l(g,d,n,r,i,null,o,s,a),Es(u,d))):(u.pendingId++,x?(u.isHydrating=!1,u.activeBranch=m):c(m,i,u),u.deps=0,u.effects.length=0,u.hiddenContainer=h("div"),b?(l(null,f,u.hiddenContainer,null,i,u,o,s,a),u.deps<=0?u.resolve():(l(g,d,n,r,i,null,o,s,a),Es(u,d))):g&&jn(f,g)?(l(g,f,n,r,i,u,o,s,a),u.resolve(!0)):(l(null,f,u.hiddenContainer,null,i,u,o,s,a),u.deps<=0&&u.resolve()));else if(g&&jn(f,g))l(g,f,n,r,i,u,o,s,a),Es(u,f);else if(Fo(t,"onPending"),u.pendingBranch=f,u.pendingId++,l(null,f,u.hiddenContainer,null,i,u,o,s,a),u.deps<=0)u.resolve();else{const{timeout:p,pendingId:v}=u;p>0?setTimeout(()=>{u.pendingId===v&&u.fallback(d)},p):p===0&&u.fallback(d)}}function yh(e,t,n,r,i,o,s,a,l,c,h=!1){const{p:u,m:f,um:d,n:g,o:{parentNode:m,remove:b}}=c;let x;const p=I0(e);p&&t!=null&&t.pendingBranch&&(x=t.pendingId,t.deps++);const v=e.props?il(e.props.timeout):void 0,y={vnode:e,parent:t,parentComponent:n,isSVG:s,container:r,hiddenContainer:i,anchor:o,deps:0,pendingId:0,timeout:typeof v=="number"?v:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:h,isUnmounted:!1,effects:[],resolve(_=!1,w=!1){const{vnode:C,activeBranch:E,pendingBranch:S,pendingId:T,effects:R,parentComponent:B,container:L}=y;if(y.isHydrating)y.isHydrating=!1;else if(!_){const D=E&&S.transition&&S.transition.mode==="out-in";D&&(E.transition.afterLeave=()=>{T===y.pendingId&&f(S,L,j,0)});let{anchor:j}=y;E&&(j=g(E),d(E,B,y,!0)),D||f(S,L,j,0)}Es(y,S),y.pendingBranch=null,y.isInFallback=!1;let M=y.parent,$=!1;for(;M;){if(M.pendingBranch){M.effects.push(...R),$=!0;break}M=M.parent}$||mh(R),y.effects=[],p&&t&&t.pendingBranch&&x===t.pendingId&&(t.deps--,t.deps===0&&!w&&t.resolve()),Fo(C,"onResolve")},fallback(_){if(!y.pendingBranch)return;const{vnode:w,activeBranch:C,parentComponent:E,container:S,isSVG:T}=y;Fo(w,"onFallback");const R=g(C),B=()=>{y.isInFallback&&(u(null,_,S,R,E,null,T,a,l),Es(y,_))},L=_.transition&&_.transition.mode==="out-in";L&&(C.transition.afterLeave=B),y.isInFallback=!0,d(C,E,null,!0),L||B()},move(_,w,C){y.activeBranch&&f(y.activeBranch,_,w,C),y.container=_},next(){return y.activeBranch&&g(y.activeBranch)},registerDep(_,w){const C=!!y.pendingBranch;C&&y.deps++;const E=_.vnode.el;_.asyncDep.catch(S=>{zi(S,_,0)}).then(S=>{if(_.isUnmounted||y.isUnmounted||y.pendingId!==_.suspenseId)return;_.asyncResolved=!0;const{vnode:T}=_;xu(_,S,!1),E&&(T.el=E);const R=!E&&_.subTree.el;w(_,T,m(E||_.subTree.el),E?null:g(_.subTree),y,s,l),R&&b(R),vh(_,T.el),C&&--y.deps===0&&y.resolve()})},unmount(_,w){y.isUnmounted=!0,y.activeBranch&&d(y.activeBranch,n,_,w),y.pendingBranch&&d(y.pendingBranch,n,_,w)}};return y}function R0(e,t,n,r,i,o,s,a,l){const c=t.suspense=yh(t,r,n,e.parentNode,document.createElement("div"),null,i,o,s,a,!0),h=l(e,c.pendingBranch=t.ssContent,n,c,o,s);return c.deps===0&&c.resolve(!1,!0),h}function M0(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=gf(r?n.default:n),e.ssFallback=r?gf(n.fallback):Yt(ke)}function gf(e){let t;if(vt(e)){const n=$i&&e._c;n&&(e._d=!1,Fn()),e=e(),n&&(e._d=!0,t=nn,rm())}return et(e)&&(e=w0(e)),e=mn(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function Pg(e,t){t&&t.pendingBranch?et(e)?t.effects.push(...e):t.effects.push(e):mh(e)}function Es(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e,i=n.el=t.el;r&&r.subTree===n&&(r.vnode.el=i,vh(r,i))}function I0(e){var t;return((t=e.props)==null?void 0:t.suspensible)!=null&&e.props.suspensible!==!1}function A0(e,t){return qo(e,null,t)}function Tg(e,t){return qo(e,null,{flush:"post"})}function D0(e,t){return qo(e,null,{flush:"sync"})}const va={};function sr(e,t,n){return qo(e,t,n)}function qo(e,t,{immediate:n,deep:r,flush:i,onTrack:o,onTrigger:s}=Ht){var a;const l=rg()===((a=xe)==null?void 0:a.scope)?xe:null;let c,h=!1,u=!1;if(_e(e)?(c=()=>e.value,h=Io(e)):Ri(e)?(c=()=>e,r=!0):et(e)?(u=!0,h=e.some(y=>Ri(y)||Io(y)),c=()=>e.map(y=>{if(_e(y))return y.value;if(Ri(y))return Ci(y);if(vt(y))return Sr(y,l,2)})):vt(e)?t?c=()=>Sr(e,l,2):c=()=>{if(!(l&&l.isUnmounted))return f&&f(),vn(e,l,3,[d])}:c=Gn,t&&r){const y=c;c=()=>Ci(y())}let f,d=y=>{f=p.onStop=()=>{Sr(y,l,4)}},g;if(Ls)if(d=Gn,t?n&&vn(t,l,3,[c(),u?[]:void 0,d]):c(),i==="sync"){const y=gm();g=y.__watcherHandles||(y.__watcherHandles=[])}else return Gn;let m=u?new Array(e.length).fill(va):va;const b=()=>{if(p.active)if(t){const y=p.run();(r||h||(u?y.some((_,w)=>Ps(_,m[w])):Ps(y,m)))&&(f&&f(),vn(t,l,3,[y,m===va?void 0:u&&m[0]===va?[]:m,d]),m=y)}else p.run()};b.allowRecurse=!!t;let x;i==="sync"?x=b:i==="post"?x=()=>Oe(b,l&&l.suspense):(b.pre=!0,l&&(b.id=l.uid),x=()=>Nl(b));const p=new Qo(c,x);t?n?b():m=p.run():i==="post"?Oe(p.run.bind(p),l&&l.suspense):p.run();const v=()=>{p.stop(),l&&l.scope&&ih(l.scope.effects,p)};return g&&g.push(v),v}function B0(e,t,n){const r=this.proxy,i=se(e)?e.includes(".")?Lg(r,e):()=>r[e]:e.bind(r,r);let o;vt(t)?o=t:(o=t.handler,n=t);const s=xe;ai(this);const a=qo(i,o.bind(r),n);return s?ai(s):qr(),a}function Lg(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function Ci(e,t){if(!zt(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),_e(e))Ci(e.value,t);else if(et(e))for(let n=0;n<e.length;n++)Ci(e[n],t);else if(Hi(e)||bs(e))e.forEach(n=>{Ci(n,t)});else if(qp(e))for(const n in e)Ci(e[n],t);return e}function lo(e,t){const n=we;if(n===null)return e;const r=Yl(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let o=0;o<t.length;o++){let[s,a,l,c=Ht]=t[o];s&&(vt(s)&&(s={mounted:s,updated:s}),s.deep&&Ci(a),i.push({dir:s,instance:r,value:a,oldValue:void 0,arg:l,modifiers:c}))}return e}function Qn(e,t,n,r){const i=e.dirs,o=t&&t.dirs;for(let s=0;s<i.length;s++){const a=i[s];o&&(a.oldValue=o[s].value);let l=a.dir[r];l&&($s(),vn(l,n,8,[e.el,a,e,t]),js())}}function xh(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Gi(()=>{e.isMounted=!0}),Hl(()=>{e.isUnmounting=!0}),e}const yn=[Function,Array],bh={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yn,onEnter:yn,onAfterEnter:yn,onEnterCancelled:yn,onBeforeLeave:yn,onLeave:yn,onAfterLeave:yn,onLeaveCancelled:yn,onBeforeAppear:yn,onAppear:yn,onAfterAppear:yn,onAppearCancelled:yn},N0={name:"BaseTransition",props:bh,setup(e,{slots:t}){const n=Dr(),r=xh();let i;return()=>{const o=t.default&&jl(t.default(),!0);if(!o||!o.length)return;let s=o[0];if(o.length>1){for(const m of o)if(m.type!==ke){s=m;break}}const a=Mt(e),{mode:l}=a;if(r.isLeaving)return ic(s);const c=mf(s);if(!c)return ic(s);const h=Ts(c,a,r,n);Fi(c,h);const u=n.subTree,f=u&&mf(u);let d=!1;const{getTransitionKey:g}=c.type;if(g){const m=g();i===void 0?i=m:m!==i&&(i=m,d=!0)}if(f&&f.type!==ke&&(!jn(c,f)||d)){const m=Ts(f,a,r,n);if(Fi(f,m),l==="out-in")return r.isLeaving=!0,m.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},ic(s);l==="in-out"&&c.type!==ke&&(m.delayLeave=(b,x,p)=>{const v=Mg(r,f);v[String(f.key)]=f,b._leaveCb=()=>{x(),b._leaveCb=void 0,delete h.delayedLeave},h.delayedLeave=p})}return s}}},Rg=N0;function Mg(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Ts(e,t,n,r){const{appear:i,mode:o,persisted:s=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:c,onEnterCancelled:h,onBeforeLeave:u,onLeave:f,onAfterLeave:d,onLeaveCancelled:g,onBeforeAppear:m,onAppear:b,onAfterAppear:x,onAppearCancelled:p}=t,v=String(e.key),y=Mg(n,e),_=(E,S)=>{E&&vn(E,r,9,S)},w=(E,S)=>{const T=S[1];_(E,S),et(E)?E.every(R=>R.length<=1)&&T():E.length<=1&&T()},C={mode:o,persisted:s,beforeEnter(E){let S=a;if(!n.isMounted)if(i)S=m||a;else return;E._leaveCb&&E._leaveCb(!0);const T=y[v];T&&jn(e,T)&&T.el._leaveCb&&T.el._leaveCb(),_(S,[E])},enter(E){let S=l,T=c,R=h;if(!n.isMounted)if(i)S=b||l,T=x||c,R=p||h;else return;let B=!1;const L=E._enterCb=M=>{B||(B=!0,M?_(R,[E]):_(T,[E]),C.delayedLeave&&C.delayedLeave(),E._enterCb=void 0)};S?w(S,[E,L]):L()},leave(E,S){const T=String(e.key);if(E._enterCb&&E._enterCb(!0),n.isUnmounting)return S();_(u,[E]);let R=!1;const B=E._leaveCb=L=>{R||(R=!0,S(),L?_(g,[E]):_(d,[E]),E._leaveCb=void 0,y[T]===e&&delete y[T])};y[T]=e,f?w(f,[E,B]):B()},clone(E){return Ts(E,t,n,r)}};return C}function ic(e){if(ea(e))return e=lr(e),e.children=null,e}function mf(e){return ea(e)?e.children?e.children[0]:void 0:e}function Fi(e,t){e.shapeFlag&6&&e.component?Fi(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function jl(e,t=!1,n){let r=[],i=0;for(let o=0;o<e.length;o++){let s=e[o];const a=n==null?s.key:String(n)+String(s.key!=null?s.key:o);s.type===be?(s.patchFlag&128&&i++,r=r.concat(jl(s.children,t,a))):(t||s.type!==ke)&&r.push(a!=null?lr(s,{key:a}):s)}if(i>1)for(let o=0;o<r.length;o++)r[o].patchFlag=-2;return r}function ta(e,t){return vt(e)?(()=>Zt({name:e.name},t,{setup:e}))():e}const Mi=e=>!!e.type.__asyncLoader;function F0(e){vt(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:i=200,timeout:o,suspensible:s=!0,onError:a}=e;let l=null,c,h=0;const u=()=>(h++,l=null,f()),f=()=>{let d;return l||(d=l=t().catch(g=>{if(g=g instanceof Error?g:new Error(String(g)),a)return new Promise((m,b)=>{a(g,()=>m(u()),()=>b(g),h+1)});throw g}).then(g=>d!==l&&l?l:(g&&(g.__esModule||g[Symbol.toStringTag]==="Module")&&(g=g.default),c=g,g)))};return ta({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return c},setup(){const d=xe;if(c)return()=>sc(c,d);const g=p=>{l=null,zi(p,d,13,!r)};if(s&&d.suspense||Ls)return f().then(p=>()=>sc(p,d)).catch(p=>(g(p),()=>r?Yt(r,{error:p}):null));const m=$t(!1),b=$t(),x=$t(!!i);return i&&setTimeout(()=>{x.value=!1},i),o!=null&&setTimeout(()=>{if(!m.value&&!b.value){const p=new Error(`Async component timed out after ${o}ms.`);g(p),b.value=p}},o),f().then(()=>{m.value=!0,d.parent&&ea(d.parent.vnode)&&Nl(d.parent.update)}).catch(p=>{g(p),b.value=p}),()=>{if(m.value&&c)return sc(c,d);if(b.value&&r)return Yt(r,{error:b.value});if(n&&!x.value)return Yt(n)}}})}function sc(e,t){const{ref:n,props:r,children:i,ce:o}=t.vnode,s=Yt(e,r,i);return s.ref=n,s.ce=o,delete t.vnode.ce,s}const ea=e=>e.type.__isKeepAlive,k0={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Dr(),r=n.ctx;if(!r.renderer)return()=>{const p=t.default&&t.default();return p&&p.length===1?p[0]:p};const i=new Map,o=new Set;let s=null;const a=n.suspense,{renderer:{p:l,m:c,um:h,o:{createElement:u}}}=r,f=u("div");r.activate=(p,v,y,_,w)=>{const C=p.component;c(p,v,y,0,a),l(C.vnode,p,v,y,C,a,_,p.slotScopeIds,w),Oe(()=>{C.isDeactivated=!1,C.a&&_s(C.a);const E=p.props&&p.props.onVnodeMounted;E&&qe(E,C.parent,p)},a)},r.deactivate=p=>{const v=p.component;c(p,f,null,1,a),Oe(()=>{v.da&&_s(v.da);const y=p.props&&p.props.onVnodeUnmounted;y&&qe(y,v.parent,p),v.isDeactivated=!0},a)};function d(p){oc(p),h(p,n,a,!0)}function g(p){i.forEach((v,y)=>{const _=_u(v.type);_&&(!p||!p(_))&&m(y)})}function m(p){const v=i.get(p);!s||!jn(v,s)?d(v):s&&oc(s),i.delete(p),o.delete(p)}sr(()=>[e.include,e.exclude],([p,v])=>{p&&g(y=>co(p,y)),v&&g(y=>!co(v,y))},{flush:"post",deep:!0});let b=null;const x=()=>{b!=null&&i.set(b,ac(n.subTree))};return Gi(x),Ul(x),Hl(()=>{i.forEach(p=>{const{subTree:v,suspense:y}=n,_=ac(v);if(p.type===_.type&&p.key===_.key){oc(_);const w=_.component.da;w&&Oe(w,y);return}d(p)})}),()=>{if(b=null,!t.default)return null;const p=t.default(),v=p[0];if(p.length>1)return s=null,p;if(!si(v)||!(v.shapeFlag&4)&&!(v.shapeFlag&128))return s=null,v;let y=ac(v);const _=y.type,w=_u(Mi(y)?y.type.__asyncResolved||{}:_),{include:C,exclude:E,max:S}=e;if(C&&(!w||!co(C,w))||E&&w&&co(E,w))return s=y,v;const T=y.key==null?_:y.key,R=i.get(T);return y.el&&(y=lr(y),v.shapeFlag&128&&(v.ssContent=y)),b=T,R?(y.el=R.el,y.component=R.component,y.transition&&Fi(y,y.transition),y.shapeFlag|=512,o.delete(T),o.add(T)):(o.add(T),S&&o.size>parseInt(S,10)&&m(o.values().next().value)),y.shapeFlag|=256,s=y,Cg(v.type)?v:y}}},$0=k0;function co(e,t){return et(e)?e.some(n=>co(n,t)):se(e)?e.split(",").includes(t):ly(e)?e.test(t):!1}function Ig(e,t){Dg(e,"a",t)}function Ag(e,t){Dg(e,"da",t)}function Dg(e,t,n=xe){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(Wl(t,r,n),n){let i=n.parent;for(;i&&i.parent;)ea(i.parent.vnode)&&j0(r,t,n,i),i=i.parent}}function j0(e,t,n,r){const i=Wl(t,e,r,!0);zl(()=>{ih(r[t],i)},n)}function oc(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function ac(e){return e.shapeFlag&128?e.ssContent:e}function Wl(e,t,n=xe,r=!1){if(n){const i=n[e]||(n[e]=[]),o=t.__weh||(t.__weh=(...s)=>{if(n.isUnmounted)return;$s(),ai(n);const a=vn(t,n,e,s);return qr(),js(),a});return r?i.unshift(o):i.push(o),o}}const Ar=e=>(t,n=xe)=>(!Ls||e==="sp")&&Wl(e,(...r)=>t(...r),n),Bg=Ar("bm"),Gi=Ar("m"),Ng=Ar("bu"),Ul=Ar("u"),Hl=Ar("bum"),zl=Ar("um"),Fg=Ar("sp"),kg=Ar("rtg"),$g=Ar("rtc");function jg(e,t=xe){Wl("ec",e,t)}const _h="components",W0="directives";function U0(e,t){return wh(_h,e,!0,t)||e}const Wg=Symbol.for("v-ndc");function H0(e){return se(e)?wh(_h,e,!1)||e:e||Wg}function z0(e){return wh(W0,e)}function wh(e,t,n=!0,r=!1){const i=we||xe;if(i){const o=i.type;if(e===_h){const a=_u(o,!1);if(a&&(a===t||a===sn(t)||a===Jo(sn(t))))return o}const s=vf(i[e]||o[e],t)||vf(i.appContext[e],t);return!s&&r?o:s}}function vf(e,t){return e&&(e[t]||e[sn(t)]||e[Jo(sn(t))])}function Ug(e,t,n,r){let i;const o=n&&n[r];if(et(e)||se(e)){i=new Array(e.length);for(let s=0,a=e.length;s<a;s++)i[s]=t(e[s],s,void 0,o&&o[s])}else if(typeof e=="number"){i=new Array(e);for(let s=0;s<e;s++)i[s]=t(s+1,s,void 0,o&&o[s])}else if(zt(e))if(e[Symbol.iterator])i=Array.from(e,(s,a)=>t(s,a,void 0,o&&o[a]));else{const s=Object.keys(e);i=new Array(s.length);for(let a=0,l=s.length;a<l;a++){const c=s[a];i[a]=t(e[c],c,a,o&&o[a])}}else i=[];return n&&(n[r]=i),i}function G0(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(et(r))for(let i=0;i<r.length;i++)e[r[i].name]=r[i].fn;else r&&(e[r.name]=r.key?(...i)=>{const o=r.fn(...i);return o&&(o.key=r.key),o}:r.fn)}return e}function Y0(e,t,n={},r,i){if(we.isCE||we.parent&&Mi(we.parent)&&we.parent.isCE)return t!=="default"&&(n.name=t),Yt("slot",n,r&&r());let o=e[t];o&&o._c&&(o._d=!1),Fn();const s=o&&Hg(o(n)),a=Ch(be,{key:n.key||s&&s.key||`_${t}`},s||(r?r():[]),s&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),o&&o._c&&(o._d=!0),a}function Hg(e){return e.some(t=>si(t)?!(t.type===ke||t.type===be&&!Hg(t.children)):!0)?e:null}function K0(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:vo(r)]=e[r];return n}const fu=e=>e?cm(e)?Yl(e)||e.proxy:fu(e.parent):null,yo=Zt(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>fu(e.parent),$root:e=>fu(e.root),$emit:e=>e.emit,$options:e=>Eh(e),$forceUpdate:e=>e.f||(e.f=()=>Nl(e.update)),$nextTick:e=>e.n||(e.n=gh.bind(e.proxy)),$watch:e=>B0.bind(e)}),lc=(e,t)=>e!==Ht&&!e.__isScriptSetup&&Nt(e,t),du={get({_:e},t){const{ctx:n,setupState:r,data:i,props:o,accessCache:s,type:a,appContext:l}=e;let c;if(t[0]!=="$"){const d=s[t];if(d!==void 0)switch(d){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return o[t]}else{if(lc(r,t))return s[t]=1,r[t];if(i!==Ht&&Nt(i,t))return s[t]=2,i[t];if((c=e.propsOptions[0])&&Nt(c,t))return s[t]=3,o[t];if(n!==Ht&&Nt(n,t))return s[t]=4,n[t];pu&&(s[t]=0)}}const h=yo[t];let u,f;if(h)return t==="$attrs"&&on(e,"get",t),h(e);if((u=a.__cssModules)&&(u=u[t]))return u;if(n!==Ht&&Nt(n,t))return s[t]=4,n[t];if(f=l.config.globalProperties,Nt(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:o}=e;return lc(i,t)?(i[t]=n,!0):r!==Ht&&Nt(r,t)?(r[t]=n,!0):Nt(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(o[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:o}},s){let a;return!!n[s]||e!==Ht&&Nt(e,s)||lc(t,s)||(a=o[0])&&Nt(a,s)||Nt(r,s)||Nt(yo,s)||Nt(i.config.globalProperties,s)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Nt(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},X0=Zt({},du,{get(e,t){if(t!==Symbol.unscopables)return du.get(e,t,e)},has(e,t){return t[0]!=="_"&&!dy(t)}});function V0(){return null}function Z0(){return null}function J0(e){}function Q0(e){}function q0(){return null}function tx(){}function ex(e,t){return null}function nx(){return zg().slots}function rx(){return zg().attrs}function ix(e,t,n){const r=Dr();if(n&&n.local){const i=$t(e[t]);return sr(()=>e[t],o=>i.value=o),sr(i,o=>{o!==e[t]&&r.emit(`update:${t}`,o)}),i}else return{__v_isRef:!0,get value(){return e[t]},set value(i){r.emit(`update:${t}`,i)}}}function zg(){const e=Dr();return e.setupContext||(e.setupContext=fm(e))}function ko(e){return et(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function sx(e,t){const n=ko(e);for(const r in t){if(r.startsWith("__skip"))continue;let i=n[r];i?et(i)||vt(i)?i=n[r]={type:i,default:t[r]}:i.default=t[r]:i===null&&(i=n[r]={default:t[r]}),i&&t[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function ox(e,t){return!e||!t?e||t:et(e)&&et(t)?e.concat(t):Zt({},ko(e),ko(t))}function ax(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function lx(e){const t=Dr();let n=e();return qr(),sh(n)&&(n=n.catch(r=>{throw ai(t),r})),[n,()=>ai(t)]}let pu=!0;function cx(e){const t=Eh(e),n=e.proxy,r=e.ctx;pu=!1,t.beforeCreate&&yf(t.beforeCreate,e,"bc");const{data:i,computed:o,methods:s,watch:a,provide:l,inject:c,created:h,beforeMount:u,mounted:f,beforeUpdate:d,updated:g,activated:m,deactivated:b,beforeDestroy:x,beforeUnmount:p,destroyed:v,unmounted:y,render:_,renderTracked:w,renderTriggered:C,errorCaptured:E,serverPrefetch:S,expose:T,inheritAttrs:R,components:B,directives:L,filters:M}=t;if(c&&ux(c,r,null),s)for(const j in s){const X=s[j];vt(X)&&(r[j]=X.bind(n))}if(i){const j=i.call(n,n);zt(j)&&(e.data=Rl(j))}if(pu=!0,o)for(const j in o){const X=o[j],Ot=vt(X)?X.bind(n,n):vt(X.get)?X.get.bind(n,n):Gn,Dt=!vt(X)&&vt(X.set)?X.set.bind(n):Gn,Tt=Ss({get:Ot,set:Dt});Object.defineProperty(r,j,{enumerable:!0,configurable:!0,get:()=>Tt.value,set:xt=>Tt.value=xt})}if(a)for(const j in a)Gg(a[j],r,n,j);if(l){const j=vt(l)?l.call(n):l;Reflect.ownKeys(j).forEach(X=>{Kg(X,j[X])})}h&&yf(h,e,"c");function D(j,X){et(X)?X.forEach(Ot=>j(Ot.bind(n))):X&&j(X.bind(n))}if(D(Bg,u),D(Gi,f),D(Ng,d),D(Ul,g),D(Ig,m),D(Ag,b),D(jg,E),D($g,w),D(kg,C),D(Hl,p),D(zl,y),D(Fg,S),et(T))if(T.length){const j=e.exposed||(e.exposed={});T.forEach(X=>{Object.defineProperty(j,X,{get:()=>n[X],set:Ot=>n[X]=Ot})})}else e.exposed||(e.exposed={});_&&e.render===Gn&&(e.render=_),R!=null&&(e.inheritAttrs=R),B&&(e.components=B),L&&(e.directives=L)}function ux(e,t,n=Gn){et(e)&&(e=gu(e));for(const r in e){const i=e[r];let o;zt(i)?"default"in i?o=xo(i.from||r,i.default,!0):o=xo(i.from||r):o=xo(i),_e(o)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>o.value,set:s=>o.value=s}):t[r]=o}}function yf(e,t,n){vn(et(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function Gg(e,t,n,r){const i=r.includes(".")?Lg(n,r):()=>n[r];if(se(e)){const o=t[e];vt(o)&&sr(i,o)}else if(vt(e))sr(i,e.bind(n));else if(zt(e))if(et(e))e.forEach(o=>Gg(o,t,n,r));else{const o=vt(e.handler)?e.handler.bind(n):t[e.handler];vt(o)&&sr(i,o,e)}}function Eh(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:o,config:{optionMergeStrategies:s}}=e.appContext,a=o.get(t);let l;return a?l=a:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(c=>al(l,c,s,!0)),al(l,t,s)),zt(t)&&o.set(t,l),l}function al(e,t,n,r=!1){const{mixins:i,extends:o}=t;o&&al(e,o,n,!0),i&&i.forEach(s=>al(e,s,n,!0));for(const s in t)if(!(r&&s==="expose")){const a=hx[s]||n&&n[s];e[s]=a?a(e[s],t[s]):t[s]}return e}const hx={data:xf,props:bf,emits:bf,methods:uo,computed:uo,beforeCreate:We,created:We,beforeMount:We,mounted:We,beforeUpdate:We,updated:We,beforeDestroy:We,beforeUnmount:We,destroyed:We,unmounted:We,activated:We,deactivated:We,errorCaptured:We,serverPrefetch:We,components:uo,directives:uo,watch:dx,provide:xf,inject:fx};function xf(e,t){return t?e?function(){return Zt(vt(e)?e.call(this,this):e,vt(t)?t.call(this,this):t)}:t:e}function fx(e,t){return uo(gu(e),gu(t))}function gu(e){if(et(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function We(e,t){return e?[...new Set([].concat(e,t))]:t}function uo(e,t){return e?Zt(Object.create(null),e,t):t}function bf(e,t){return e?et(e)&&et(t)?[...new Set([...e,...t])]:Zt(Object.create(null),ko(e),ko(t??{})):t}function dx(e,t){if(!e)return t;if(!t)return e;const n=Zt(Object.create(null),e);for(const r in t)n[r]=We(e[r],t[r]);return n}function Yg(){return{app:null,config:{isNativeTag:sy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let px=0;function gx(e,t){return function(r,i=null){vt(r)||(r=Zt({},r)),i!=null&&!zt(i)&&(i=null);const o=Yg(),s=new Set;let a=!1;const l=o.app={_uid:px++,_component:r,_props:i,_container:null,_context:o,_instance:null,version:vm,get config(){return o.config},set config(c){},use(c,...h){return s.has(c)||(c&&vt(c.install)?(s.add(c),c.install(l,...h)):vt(c)&&(s.add(c),c(l,...h))),l},mixin(c){return o.mixins.includes(c)||o.mixins.push(c),l},component(c,h){return h?(o.components[c]=h,l):o.components[c]},directive(c,h){return h?(o.directives[c]=h,l):o.directives[c]},mount(c,h,u){if(!a){const f=Yt(r,i);return f.appContext=o,h&&t?t(f,c):e(f,c,u),a=!0,l._container=c,c.__vue_app__=l,Yl(f.component)||f.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(c,h){return o.provides[c]=h,l},runWithContext(c){$o=l;try{return c()}finally{$o=null}}};return l}}let $o=null;function Kg(e,t){if(xe){let n=xe.provides;const r=xe.parent&&xe.parent.provides;r===n&&(n=xe.provides=Object.create(r)),n[e]=t}}function xo(e,t,n=!1){const r=xe||we;if(r||$o){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:$o._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&vt(t)?t.call(r&&r.proxy):t}}function mx(){return!!(xe||we||$o)}function vx(e,t,n,r=!1){const i={},o={};nl(o,Gl,1),e.propsDefaults=Object.create(null),Xg(e,t,i,o);for(const s in e.propsOptions[0])s in i||(i[s]=void 0);n?e.props=r?i:mg(i):e.type.props?e.props=i:e.props=o,e.attrs=o}function yx(e,t,n,r){const{props:i,attrs:o,vnode:{patchFlag:s}}=e,a=Mt(i),[l]=e.propsOptions;let c=!1;if((r||s>0)&&!(s&16)){if(s&8){const h=e.vnode.dynamicProps;for(let u=0;u<h.length;u++){let f=h[u];if(Fl(e.emitsOptions,f))continue;const d=t[f];if(l)if(Nt(o,f))d!==o[f]&&(o[f]=d,c=!0);else{const g=sn(f);i[g]=mu(l,a,g,d,e,!1)}else d!==o[f]&&(o[f]=d,c=!0)}}}else{Xg(e,t,i,o)&&(c=!0);let h;for(const u in a)(!t||!Nt(t,u)&&((h=Tn(u))===u||!Nt(t,h)))&&(l?n&&(n[u]!==void 0||n[h]!==void 0)&&(i[u]=mu(l,a,u,void 0,e,!0)):delete i[u]);if(o!==a)for(const u in o)(!t||!Nt(t,u))&&(delete o[u],c=!0)}c&&Tr(e,"set","$attrs")}function Xg(e,t,n,r){const[i,o]=e.propsOptions;let s=!1,a;if(t)for(let l in t){if(mo(l))continue;const c=t[l];let h;i&&Nt(i,h=sn(l))?!o||!o.includes(h)?n[h]=c:(a||(a={}))[h]=c:Fl(e.emitsOptions,l)||(!(l in r)||c!==r[l])&&(r[l]=c,s=!0)}if(o){const l=Mt(n),c=a||Ht;for(let h=0;h<o.length;h++){const u=o[h];n[u]=mu(i,l,u,c[u],e,!Nt(c,u))}}return s}function mu(e,t,n,r,i,o){const s=e[n];if(s!=null){const a=Nt(s,"default");if(a&&r===void 0){const l=s.default;if(s.type!==Function&&!s.skipFactory&&vt(l)){const{propsDefaults:c}=i;n in c?r=c[n]:(ai(i),r=c[n]=l.call(null,t),qr())}else r=l}s[0]&&(o&&!a?r=!1:s[1]&&(r===""||r===Tn(n))&&(r=!0))}return r}function Vg(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const o=e.props,s={},a=[];let l=!1;if(!vt(e)){const h=u=>{l=!0;const[f,d]=Vg(u,t,!0);Zt(s,f),d&&a.push(...d)};!n&&t.mixins.length&&t.mixins.forEach(h),e.extends&&h(e.extends),e.mixins&&e.mixins.forEach(h)}if(!o&&!l)return zt(e)&&r.set(e,xs),xs;if(et(o))for(let h=0;h<o.length;h++){const u=sn(o[h]);_f(u)&&(s[u]=Ht)}else if(o)for(const h in o){const u=sn(h);if(_f(u)){const f=o[h],d=s[u]=et(f)||vt(f)?{type:f}:Zt({},f);if(d){const g=Sf(Boolean,d.type),m=Sf(String,d.type);d[0]=g>-1,d[1]=m<0||g<m,(g>-1||Nt(d,"default"))&&a.push(u)}}}const c=[s,a];return zt(e)&&r.set(e,c),c}function _f(e){return e[0]!=="$"}function wf(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function Ef(e,t){return wf(e)===wf(t)}function Sf(e,t){return et(t)?t.findIndex(n=>Ef(n,e)):vt(t)&&Ef(t,e)?0:-1}const Zg=e=>e[0]==="_"||e==="$stable",Sh=e=>et(e)?e.map(mn):[mn(e)],xx=(e,t,n)=>{if(t._n)return t;const r=$l((...i)=>Sh(t(...i)),n);return r._c=!1,r},Jg=(e,t,n)=>{const r=e._ctx;for(const i in e){if(Zg(i))continue;const o=e[i];if(vt(o))t[i]=xx(i,o,r);else if(o!=null){const s=Sh(o);t[i]=()=>s}}},Qg=(e,t)=>{const n=Sh(t);e.slots.default=()=>n},bx=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Mt(t),nl(t,"_",n)):Jg(t,e.slots={})}else e.slots={},t&&Qg(e,t);nl(e.slots,Gl,1)},_x=(e,t,n)=>{const{vnode:r,slots:i}=e;let o=!0,s=Ht;if(r.shapeFlag&32){const a=t._;a?n&&a===1?o=!1:(Zt(i,t),!n&&a===1&&delete i._):(o=!t.$stable,Jg(t,i)),s=t}else t&&(Qg(e,t),s={default:1});if(o)for(const a in i)!Zg(a)&&!(a in s)&&delete i[a]};function ll(e,t,n,r,i=!1){if(et(e)){e.forEach((f,d)=>ll(f,t&&(et(t)?t[d]:t),n,r,i));return}if(Mi(r)&&!i)return;const o=r.shapeFlag&4?Yl(r.component)||r.component.proxy:r.el,s=i?null:o,{i:a,r:l}=e,c=t&&t.r,h=a.refs===Ht?a.refs={}:a.refs,u=a.setupState;if(c!=null&&c!==l&&(se(c)?(h[c]=null,Nt(u,c)&&(u[c]=null)):_e(c)&&(c.value=null)),vt(l))Sr(l,a,12,[s,h]);else{const f=se(l),d=_e(l);if(f||d){const g=()=>{if(e.f){const m=f?Nt(u,l)?u[l]:h[l]:l.value;i?et(m)&&ih(m,o):et(m)?m.includes(o)||m.push(o):f?(h[l]=[o],Nt(u,l)&&(u[l]=h[l])):(l.value=[o],e.k&&(h[e.k]=l.value))}else f?(h[l]=s,Nt(u,l)&&(u[l]=s)):d&&(l.value=s,e.k&&(h[e.k]=s))};s?(g.id=-1,Oe(g,n)):g()}}}let kr=!1;const ya=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",xa=e=>e.nodeType===8;function wx(e){const{mt:t,p:n,o:{patchProp:r,createText:i,nextSibling:o,parentNode:s,remove:a,insert:l,createComment:c}}=e,h=(x,p)=>{if(!p.hasChildNodes()){n(null,x,p),ol(),p._vnode=x;return}kr=!1,u(p.firstChild,x,null,null,null),ol(),p._vnode=x,kr&&console.error("Hydration completed but contains mismatches.")},u=(x,p,v,y,_,w=!1)=>{const C=xa(x)&&x.data==="[",E=()=>m(x,p,v,y,_,C),{type:S,ref:T,shapeFlag:R,patchFlag:B}=p;let L=x.nodeType;p.el=x,B===-2&&(w=!1,p.dynamicChildren=null);let M=null;switch(S){case ki:L!==3?p.children===""?(l(p.el=i(""),s(x),x),M=x):M=E():(x.data!==p.children&&(kr=!0,x.data=p.children),M=o(x));break;case ke:L!==8||C?M=E():M=o(x);break;case Ii:if(C&&(x=o(x),L=x.nodeType),L===1||L===3){M=x;const $=!p.children.length;for(let D=0;D<p.staticCount;D++)$&&(p.children+=M.nodeType===1?M.outerHTML:M.data),D===p.staticCount-1&&(p.anchor=M),M=o(M);return C?o(M):M}else E();break;case be:C?M=g(x,p,v,y,_,w):M=E();break;default:if(R&1)L!==1||p.type.toLowerCase()!==x.tagName.toLowerCase()?M=E():M=f(x,p,v,y,_,w);else if(R&6){p.slotScopeIds=_;const $=s(x);if(t(p,$,null,v,y,ya($),w),M=C?b(x):o(x),M&&xa(M)&&M.data==="teleport end"&&(M=o(M)),Mi(p)){let D;C?(D=Yt(be),D.anchor=M?M.previousSibling:$.lastChild):D=x.nodeType===3?oi(""):Yt("div"),D.el=x,p.component.subTree=D}}else R&64?L!==8?M=E():M=p.type.hydrate(x,p,v,y,_,w,e,d):R&128&&(M=p.type.hydrate(x,p,v,y,ya(s(x)),_,w,e,u))}return T!=null&&ll(T,null,y,p),M},f=(x,p,v,y,_,w)=>{w=w||!!p.dynamicChildren;const{type:C,props:E,patchFlag:S,shapeFlag:T,dirs:R}=p,B=C==="input"&&R||C==="option";if(B||S!==-1){if(R&&Qn(p,null,v,"created"),E)if(B||!w||S&48)for(const M in E)(B&&M.endsWith("value")||Zo(M)&&!mo(M))&&r(x,M,null,E[M],!1,void 0,v);else E.onClick&&r(x,"onClick",null,E.onClick,!1,void 0,v);let L;if((L=E&&E.onVnodeBeforeMount)&&qe(L,v,p),R&&Qn(p,null,v,"beforeMount"),((L=E&&E.onVnodeMounted)||R)&&Pg(()=>{L&&qe(L,v,p),R&&Qn(p,null,v,"mounted")},y),T&16&&!(E&&(E.innerHTML||E.textContent))){let M=d(x.firstChild,p,x,v,y,_,w);for(;M;){kr=!0;const $=M;M=M.nextSibling,a($)}}else T&8&&x.textContent!==p.children&&(kr=!0,x.textContent=p.children)}return x.nextSibling},d=(x,p,v,y,_,w,C)=>{C=C||!!p.dynamicChildren;const E=p.children,S=E.length;for(let T=0;T<S;T++){const R=C?E[T]:E[T]=mn(E[T]);if(x)x=u(x,R,y,_,w,C);else{if(R.type===ki&&!R.children)continue;kr=!0,n(null,R,v,null,y,_,ya(v),w)}}return x},g=(x,p,v,y,_,w)=>{const{slotScopeIds:C}=p;C&&(_=_?_.concat(C):C);const E=s(x),S=d(o(x),p,E,v,y,_,w);return S&&xa(S)&&S.data==="]"?o(p.anchor=S):(kr=!0,l(p.anchor=c("]"),E,S),S)},m=(x,p,v,y,_,w)=>{if(kr=!0,p.el=null,w){const S=b(x);for(;;){const T=o(x);if(T&&T!==S)a(T);else break}}const C=o(x),E=s(x);return a(x),n(null,p,E,C,v,y,ya(E),_),C},b=x=>{let p=0;for(;x;)if(x=o(x),x&&xa(x)&&(x.data==="["&&p++,x.data==="]")){if(p===0)return o(x);p--}return x};return[h,u]}const Oe=Pg;function qg(e){return em(e)}function tm(e){return em(e,wx)}function em(e,t){const n=au();n.__VUE__=!0;const{insert:r,remove:i,patchProp:o,createElement:s,createText:a,createComment:l,setText:c,setElementText:h,parentNode:u,nextSibling:f,setScopeId:d=Gn,insertStaticContent:g}=e,m=(O,P,N,U=null,W=null,G=null,Z=!1,K=null,Y=!!P.dynamicChildren)=>{if(O===P)return;O&&!jn(O,P)&&(U=Wt(O),xt(O,W,G,!0),O=null),P.patchFlag===-2&&(Y=!1,P.dynamicChildren=null);const{type:H,ref:st,shapeFlag:tt}=P;switch(H){case ki:b(O,P,N,U);break;case ke:x(O,P,N,U);break;case Ii:O==null&&p(P,N,U,Z);break;case be:B(O,P,N,U,W,G,Z,K,Y);break;default:tt&1?_(O,P,N,U,W,G,Z,K,Y):tt&6?L(O,P,N,U,W,G,Z,K,Y):(tt&64||tt&128)&&H.process(O,P,N,U,W,G,Z,K,Y,ce)}st!=null&&W&&ll(st,O&&O.ref,G,P||O,!P)},b=(O,P,N,U)=>{if(O==null)r(P.el=a(P.children),N,U);else{const W=P.el=O.el;P.children!==O.children&&c(W,P.children)}},x=(O,P,N,U)=>{O==null?r(P.el=l(P.children||""),N,U):P.el=O.el},p=(O,P,N,U)=>{[O.el,O.anchor]=g(O.children,P,N,U,O.el,O.anchor)},v=({el:O,anchor:P},N,U)=>{let W;for(;O&&O!==P;)W=f(O),r(O,N,U),O=W;r(P,N,U)},y=({el:O,anchor:P})=>{let N;for(;O&&O!==P;)N=f(O),i(O),O=N;i(P)},_=(O,P,N,U,W,G,Z,K,Y)=>{Z=Z||P.type==="svg",O==null?w(P,N,U,W,G,Z,K,Y):S(O,P,W,G,Z,K,Y)},w=(O,P,N,U,W,G,Z,K)=>{let Y,H;const{type:st,props:tt,shapeFlag:ot,transition:ft,dirs:wt}=O;if(Y=O.el=s(O.type,G,tt&&tt.is,tt),ot&8?h(Y,O.children):ot&16&&E(O.children,Y,null,U,W,G&&st!=="foreignObject",Z,K),wt&&Qn(O,null,U,"created"),C(Y,O,O.scopeId,Z,U),tt){for(const At in tt)At!=="value"&&!mo(At)&&o(Y,At,null,tt[At],G,O.children,U,W,It);"value"in tt&&o(Y,"value",null,tt.value),(H=tt.onVnodeBeforeMount)&&qe(H,U,O)}wt&&Qn(O,null,U,"beforeMount");const Ft=(!W||W&&!W.pendingBranch)&&ft&&!ft.persisted;Ft&&ft.beforeEnter(Y),r(Y,P,N),((H=tt&&tt.onVnodeMounted)||Ft||wt)&&Oe(()=>{H&&qe(H,U,O),Ft&&ft.enter(Y),wt&&Qn(O,null,U,"mounted")},W)},C=(O,P,N,U,W)=>{if(N&&d(O,N),U)for(let G=0;G<U.length;G++)d(O,U[G]);if(W){let G=W.subTree;if(P===G){const Z=W.vnode;C(O,Z,Z.scopeId,Z.slotScopeIds,W.parent)}}},E=(O,P,N,U,W,G,Z,K,Y=0)=>{for(let H=Y;H<O.length;H++){const st=O[H]=K?Yr(O[H]):mn(O[H]);m(null,st,P,N,U,W,G,Z,K)}},S=(O,P,N,U,W,G,Z)=>{const K=P.el=O.el;let{patchFlag:Y,dynamicChildren:H,dirs:st}=P;Y|=O.patchFlag&16;const tt=O.props||Ht,ot=P.props||Ht;let ft;N&&mi(N,!1),(ft=ot.onVnodeBeforeUpdate)&&qe(ft,N,P,O),st&&Qn(P,O,N,"beforeUpdate"),N&&mi(N,!0);const wt=W&&P.type!=="foreignObject";if(H?T(O.dynamicChildren,H,K,N,U,wt,G):Z||X(O,P,K,null,N,U,wt,G,!1),Y>0){if(Y&16)R(K,P,tt,ot,N,U,W);else if(Y&2&&tt.class!==ot.class&&o(K,"class",null,ot.class,W),Y&4&&o(K,"style",tt.style,ot.style,W),Y&8){const Ft=P.dynamicProps;for(let At=0;At<Ft.length;At++){const I=Ft[At],A=tt[I],k=ot[I];(k!==A||I==="value")&&o(K,I,A,k,W,O.children,N,U,It)}}Y&1&&O.children!==P.children&&h(K,P.children)}else!Z&&H==null&&R(K,P,tt,ot,N,U,W);((ft=ot.onVnodeUpdated)||st)&&Oe(()=>{ft&&qe(ft,N,P,O),st&&Qn(P,O,N,"updated")},U)},T=(O,P,N,U,W,G,Z)=>{for(let K=0;K<P.length;K++){const Y=O[K],H=P[K],st=Y.el&&(Y.type===be||!jn(Y,H)||Y.shapeFlag&70)?u(Y.el):N;m(Y,H,st,null,U,W,G,Z,!0)}},R=(O,P,N,U,W,G,Z)=>{if(N!==U){if(N!==Ht)for(const K in N)!mo(K)&&!(K in U)&&o(O,K,N[K],null,Z,P.children,W,G,It);for(const K in U){if(mo(K))continue;const Y=U[K],H=N[K];Y!==H&&K!=="value"&&o(O,K,H,Y,Z,P.children,W,G,It)}"value"in U&&o(O,"value",N.value,U.value)}},B=(O,P,N,U,W,G,Z,K,Y)=>{const H=P.el=O?O.el:a(""),st=P.anchor=O?O.anchor:a("");let{patchFlag:tt,dynamicChildren:ot,slotScopeIds:ft}=P;ft&&(K=K?K.concat(ft):ft),O==null?(r(H,N,U),r(st,N,U),E(P.children,N,st,W,G,Z,K,Y)):tt>0&&tt&64&&ot&&O.dynamicChildren?(T(O.dynamicChildren,ot,N,W,G,Z,K),(P.key!=null||W&&P===W.subTree)&&Oh(O,P,!0)):X(O,P,N,st,W,G,Z,K,Y)},L=(O,P,N,U,W,G,Z,K,Y)=>{P.slotScopeIds=K,O==null?P.shapeFlag&512?W.ctx.activate(P,N,U,Z,Y):M(P,N,U,W,G,Z,Y):$(O,P,Y)},M=(O,P,N,U,W,G,Z)=>{const K=O.component=lm(O,U,W);if(ea(O)&&(K.ctx.renderer=ce),um(K),K.asyncDep){if(W&&W.registerDep(K,D),!O.el){const Y=K.subTree=Yt(ke);x(null,Y,P,N)}return}D(K,O,P,N,W,G,Z)},$=(O,P,N)=>{const U=P.component=O.component;if(O0(O,P,N))if(U.asyncDep&&!U.asyncResolved){j(U,P,N);return}else U.next=P,y0(U.update),U.update();else P.el=O.el,U.vnode=P},D=(O,P,N,U,W,G,Z)=>{const K=()=>{if(O.isMounted){let{next:st,bu:tt,u:ot,parent:ft,vnode:wt}=O,Ft=st,At;mi(O,!1),st?(st.el=wt.el,j(O,st,Z)):st=wt,tt&&_s(tt),(At=st.props&&st.props.onVnodeBeforeUpdate)&&qe(At,ft,st,wt),mi(O,!0);const I=Ga(O),A=O.subTree;O.subTree=I,m(A,I,u(A.el),Wt(A),O,W,G),st.el=I.el,Ft===null&&vh(O,I.el),ot&&Oe(ot,W),(At=st.props&&st.props.onVnodeUpdated)&&Oe(()=>qe(At,ft,st,wt),W)}else{let st;const{el:tt,props:ot}=P,{bm:ft,m:wt,parent:Ft}=O,At=Mi(P);if(mi(O,!1),ft&&_s(ft),!At&&(st=ot&&ot.onVnodeBeforeMount)&&qe(st,Ft,P),mi(O,!0),tt&&In){const I=()=>{O.subTree=Ga(O),In(tt,O.subTree,O,W,null)};At?P.type.__asyncLoader().then(()=>!O.isUnmounted&&I()):I()}else{const I=O.subTree=Ga(O);m(null,I,N,U,O,W,G),P.el=I.el}if(wt&&Oe(wt,W),!At&&(st=ot&&ot.onVnodeMounted)){const I=P;Oe(()=>qe(st,Ft,I),W)}(P.shapeFlag&256||Ft&&Mi(Ft.vnode)&&Ft.vnode.shapeFlag&256)&&O.a&&Oe(O.a,W),O.isMounted=!0,P=N=U=null}},Y=O.effect=new Qo(K,()=>Nl(H),O.scope),H=O.update=()=>Y.run();H.id=O.uid,mi(O,!0),H()},j=(O,P,N)=>{P.component=O;const U=O.vnode.props;O.vnode=P,O.next=null,yx(O,P.props,U,N),_x(O,P.children,N),$s(),df(),js()},X=(O,P,N,U,W,G,Z,K,Y=!1)=>{const H=O&&O.children,st=O?O.shapeFlag:0,tt=P.children,{patchFlag:ot,shapeFlag:ft}=P;if(ot>0){if(ot&128){Dt(H,tt,N,U,W,G,Z,K,Y);return}else if(ot&256){Ot(H,tt,N,U,W,G,Z,K,Y);return}}ft&8?(st&16&&It(H,W,G),tt!==H&&h(N,tt)):st&16?ft&16?Dt(H,tt,N,U,W,G,Z,K,Y):It(H,W,G,!0):(st&8&&h(N,""),ft&16&&E(tt,N,U,W,G,Z,K,Y))},Ot=(O,P,N,U,W,G,Z,K,Y)=>{O=O||xs,P=P||xs;const H=O.length,st=P.length,tt=Math.min(H,st);let ot;for(ot=0;ot<tt;ot++){const ft=P[ot]=Y?Yr(P[ot]):mn(P[ot]);m(O[ot],ft,N,null,W,G,Z,K,Y)}H>st?It(O,W,G,!0,!1,tt):E(P,N,U,W,G,Z,K,Y,tt)},Dt=(O,P,N,U,W,G,Z,K,Y)=>{let H=0;const st=P.length;let tt=O.length-1,ot=st-1;for(;H<=tt&&H<=ot;){const ft=O[H],wt=P[H]=Y?Yr(P[H]):mn(P[H]);if(jn(ft,wt))m(ft,wt,N,null,W,G,Z,K,Y);else break;H++}for(;H<=tt&&H<=ot;){const ft=O[tt],wt=P[ot]=Y?Yr(P[ot]):mn(P[ot]);if(jn(ft,wt))m(ft,wt,N,null,W,G,Z,K,Y);else break;tt--,ot--}if(H>tt){if(H<=ot){const ft=ot+1,wt=ft<st?P[ft].el:U;for(;H<=ot;)m(null,P[H]=Y?Yr(P[H]):mn(P[H]),N,wt,W,G,Z,K,Y),H++}}else if(H>ot)for(;H<=tt;)xt(O[H],W,G,!0),H++;else{const ft=H,wt=H,Ft=new Map;for(H=wt;H<=ot;H++){const ct=P[H]=Y?Yr(P[H]):mn(P[H]);ct.key!=null&&Ft.set(ct.key,H)}let At,I=0;const A=ot-wt+1;let k=!1,z=0;const J=new Array(A);for(H=0;H<A;H++)J[H]=0;for(H=ft;H<=tt;H++){const ct=O[H];if(I>=A){xt(ct,W,G,!0);continue}let Et;if(ct.key!=null)Et=Ft.get(ct.key);else for(At=wt;At<=ot;At++)if(J[At-wt]===0&&jn(ct,P[At])){Et=At;break}Et===void 0?xt(ct,W,G,!0):(J[Et-wt]=H+1,Et>=z?z=Et:k=!0,m(ct,P[Et],N,null,W,G,Z,K,Y),I++)}const dt=k?Ex(J):xs;for(At=dt.length-1,H=A-1;H>=0;H--){const ct=wt+H,Et=P[ct],ee=ct+1<st?P[ct+1].el:U;J[H]===0?m(null,Et,N,ee,W,G,Z,K,Y):k&&(At<0||H!==dt[At]?Tt(Et,N,ee,2):At--)}}},Tt=(O,P,N,U,W=null)=>{const{el:G,type:Z,transition:K,children:Y,shapeFlag:H}=O;if(H&6){Tt(O.component.subTree,P,N,U);return}if(H&128){O.suspense.move(P,N,U);return}if(H&64){Z.move(O,P,N,ce);return}if(Z===be){r(G,P,N);for(let tt=0;tt<Y.length;tt++)Tt(Y[tt],P,N,U);r(O.anchor,P,N);return}if(Z===Ii){v(O,P,N);return}if(U!==2&&H&1&&K)if(U===0)K.beforeEnter(G),r(G,P,N),Oe(()=>K.enter(G),W);else{const{leave:tt,delayLeave:ot,afterLeave:ft}=K,wt=()=>r(G,P,N),Ft=()=>{tt(G,()=>{wt(),ft&&ft()})};ot?ot(G,wt,Ft):Ft()}else r(G,P,N)},xt=(O,P,N,U=!1,W=!1)=>{const{type:G,props:Z,ref:K,children:Y,dynamicChildren:H,shapeFlag:st,patchFlag:tt,dirs:ot}=O;if(K!=null&&ll(K,null,N,O,!0),st&256){P.ctx.deactivate(O);return}const ft=st&1&&ot,wt=!Mi(O);let Ft;if(wt&&(Ft=Z&&Z.onVnodeBeforeUnmount)&&qe(Ft,P,O),st&6)le(O.component,N,U);else{if(st&128){O.suspense.unmount(N,U);return}ft&&Qn(O,null,P,"beforeUnmount"),st&64?O.type.remove(O,P,N,W,ce,U):H&&(G!==be||tt>0&&tt&64)?It(H,P,N,!1,!0):(G===be&&tt&384||!W&&st&16)&&It(Y,P,N),U&&ae(O)}(wt&&(Ft=Z&&Z.onVnodeUnmounted)||ft)&&Oe(()=>{Ft&&qe(Ft,P,O),ft&&Qn(O,null,P,"unmounted")},N)},ae=O=>{const{type:P,el:N,anchor:U,transition:W}=O;if(P===be){me(N,U);return}if(P===Ii){y(O);return}const G=()=>{i(N),W&&!W.persisted&&W.afterLeave&&W.afterLeave()};if(O.shapeFlag&1&&W&&!W.persisted){const{leave:Z,delayLeave:K}=W,Y=()=>Z(N,G);K?K(O.el,G,Y):Y()}else G()},me=(O,P)=>{let N;for(;O!==P;)N=f(O),i(O),O=N;i(P)},le=(O,P,N)=>{const{bum:U,scope:W,update:G,subTree:Z,um:K}=O;U&&_s(U),W.stop(),G&&(G.active=!1,xt(Z,O,P,N)),K&&Oe(K,P),Oe(()=>{O.isUnmounted=!0},P),P&&P.pendingBranch&&!P.isUnmounted&&O.asyncDep&&!O.asyncResolved&&O.suspenseId===P.pendingId&&(P.deps--,P.deps===0&&P.resolve())},It=(O,P,N,U=!1,W=!1,G=0)=>{for(let Z=G;Z<O.length;Z++)xt(O[Z],P,N,U,W)},Wt=O=>O.shapeFlag&6?Wt(O.component.subTree):O.shapeFlag&128?O.suspense.next():f(O.anchor||O.el),Te=(O,P,N)=>{O==null?P._vnode&&xt(P._vnode,null,null,!0):m(P._vnode||null,O,P,null,null,null,N),df(),ol(),P._vnode=O},ce={p:m,um:xt,m:Tt,r:ae,mt:M,mc:E,pc:X,pbc:T,n:Wt,o:e};let un,In;return t&&([un,In]=t(ce)),{render:Te,hydrate:un,createApp:gx(Te,un)}}function mi({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Oh(e,t,n=!1){const r=e.children,i=t.children;if(et(r)&&et(i))for(let o=0;o<r.length;o++){const s=r[o];let a=i[o];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[o]=Yr(i[o]),a.el=s.el),n||Oh(s,a)),a.type===ki&&(a.el=s.el)}}function Ex(e){const t=e.slice(),n=[0];let r,i,o,s,a;const l=e.length;for(r=0;r<l;r++){const c=e[r];if(c!==0){if(i=n[n.length-1],e[i]<c){t[r]=i,n.push(r);continue}for(o=0,s=n.length-1;o<s;)a=o+s>>1,e[n[a]]<c?o=a+1:s=a;c<e[n[o]]&&(o>0&&(t[r]=n[o-1]),n[o]=r)}}for(o=n.length,s=n[o-1];o-- >0;)n[o]=s,s=t[s];return n}const Sx=e=>e.__isTeleport,bo=e=>e&&(e.disabled||e.disabled===""),Of=e=>typeof SVGElement<"u"&&e instanceof SVGElement,vu=(e,t)=>{const n=e&&e.to;return se(n)?t?t(n):null:n},Ox={__isTeleport:!0,process(e,t,n,r,i,o,s,a,l,c){const{mc:h,pc:u,pbc:f,o:{insert:d,querySelector:g,createText:m,createComment:b}}=c,x=bo(t.props);let{shapeFlag:p,children:v,dynamicChildren:y}=t;if(e==null){const _=t.el=m(""),w=t.anchor=m("");d(_,n,r),d(w,n,r);const C=t.target=vu(t.props,g),E=t.targetAnchor=m("");C&&(d(E,C),s=s||Of(C));const S=(T,R)=>{p&16&&h(v,T,R,i,o,s,a,l)};x?S(n,w):C&&S(C,E)}else{t.el=e.el;const _=t.anchor=e.anchor,w=t.target=e.target,C=t.targetAnchor=e.targetAnchor,E=bo(e.props),S=E?n:w,T=E?_:C;if(s=s||Of(w),y?(f(e.dynamicChildren,y,S,i,o,s,a),Oh(e,t,!0)):l||u(e,t,S,T,i,o,s,a,!1),x)E||ba(t,n,_,c,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const R=t.target=vu(t.props,g);R&&ba(t,R,null,c,0)}else E&&ba(t,w,C,c,1)}nm(t)},remove(e,t,n,r,{um:i,o:{remove:o}},s){const{shapeFlag:a,children:l,anchor:c,targetAnchor:h,target:u,props:f}=e;if(u&&o(h),(s||!bo(f))&&(o(c),a&16))for(let d=0;d<l.length;d++){const g=l[d];i(g,t,n,!0,!!g.dynamicChildren)}},move:ba,hydrate:Cx};function ba(e,t,n,{o:{insert:r},m:i},o=2){o===0&&r(e.targetAnchor,t,n);const{el:s,anchor:a,shapeFlag:l,children:c,props:h}=e,u=o===2;if(u&&r(s,t,n),(!u||bo(h))&&l&16)for(let f=0;f<c.length;f++)i(c[f],t,n,2);u&&r(a,t,n)}function Cx(e,t,n,r,i,o,{o:{nextSibling:s,parentNode:a,querySelector:l}},c){const h=t.target=vu(t.props,l);if(h){const u=h._lpa||h.firstChild;if(t.shapeFlag&16)if(bo(t.props))t.anchor=c(s(e),t,a(e),n,r,i,o),t.targetAnchor=u;else{t.anchor=s(e);let f=u;for(;f;)if(f=s(f),f&&f.nodeType===8&&f.data==="teleport anchor"){t.targetAnchor=f,h._lpa=t.targetAnchor&&s(t.targetAnchor);break}c(u,t,h,n,r,i,o)}nm(t)}return t.anchor&&s(t.anchor)}const Px=Ox;function nm(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const be=Symbol.for("v-fgt"),ki=Symbol.for("v-txt"),ke=Symbol.for("v-cmt"),Ii=Symbol.for("v-stc"),_o=[];let nn=null;function Fn(e=!1){_o.push(nn=e?null:[])}function rm(){_o.pop(),nn=_o[_o.length-1]||null}let $i=1;function yu(e){$i+=e}function im(e){return e.dynamicChildren=$i>0?nn||xs:null,rm(),$i>0&&nn&&nn.push(e),e}function Gr(e,t,n,r,i,o){return im(ht(e,t,n,r,i,o,!0))}function Ch(e,t,n,r,i){return im(Yt(e,t,n,r,i,!0))}function si(e){return e?e.__v_isVNode===!0:!1}function jn(e,t){return e.type===t.type&&e.key===t.key}function Tx(e){}const Gl="__vInternal",sm=({key:e})=>e??null,Ya=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?se(e)||_e(e)||vt(e)?{i:we,r:e,k:t,f:!!n}:e:null);function ht(e,t=null,n=null,r=0,i=null,o=e===be?0:1,s=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&sm(t),ref:t&&Ya(t),scopeId:kl,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:o,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:we};return a?(Ph(l,n),o&128&&e.normalize(l)):n&&(l.shapeFlag|=se(n)?8:16),$i>0&&!s&&nn&&(l.patchFlag>0||o&6)&&l.patchFlag!==32&&nn.push(l),l}const Yt=Lx;function Lx(e,t=null,n=null,r=0,i=null,o=!1){if((!e||e===Wg)&&(e=ke),si(e)){const a=lr(e,t,!0);return n&&Ph(a,n),$i>0&&!o&&nn&&(a.shapeFlag&6?nn[nn.indexOf(e)]=a:nn.push(a)),a.patchFlag|=-2,a}if(kx(e)&&(e=e.__vccOpts),t){t=om(t);let{class:a,style:l}=t;a&&!se(a)&&(t.class=nr(a)),zt(l)&&(uh(l)&&!et(l)&&(l=Zt({},l)),t.style=kn(l))}const s=se(e)?1:Cg(e)?128:Sx(e)?64:zt(e)?4:vt(e)?2:0;return ht(e,t,n,r,i,s,o,!0)}function om(e){return e?uh(e)||Gl in e?Zt({},e):e:null}function lr(e,t,n=!1){const{props:r,ref:i,patchFlag:o,children:s}=e,a=t?am(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&sm(a),ref:t&&t.ref?n&&i?et(i)?i.concat(Ya(t)):[i,Ya(t)]:Ya(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:s,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==be?o===-1?16:o|16:o,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&lr(e.ssContent),ssFallback:e.ssFallback&&lr(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function oi(e=" ",t=0){return Yt(ki,null,e,t)}function Rx(e,t){const n=Yt(Ii,null,e);return n.staticCount=t,n}function Mx(e="",t=!1){return t?(Fn(),Ch(ke,null,e)):Yt(ke,null,e)}function mn(e){return e==null||typeof e=="boolean"?Yt(ke):et(e)?Yt(be,null,e.slice()):typeof e=="object"?Yr(e):Yt(ki,null,String(e))}function Yr(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:lr(e)}function Ph(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(et(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),Ph(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(Gl in t)?t._ctx=we:i===3&&we&&(we.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else vt(t)?(t={default:t,_ctx:we},n=32):(t=String(t),r&64?(n=16,t=[oi(t)]):n=8);e.children=t,e.shapeFlag|=n}function am(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=nr([t.class,r.class]));else if(i==="style")t.style=kn([t.style,r.style]);else if(Zo(i)){const o=t[i],s=r[i];s&&o!==s&&!(et(o)&&o.includes(s))&&(t[i]=o?[].concat(o,s):s)}else i!==""&&(t[i]=r[i])}return t}function qe(e,t,n,r=null){vn(e,t,7,[n,r])}const Ix=Yg();let Ax=0;function lm(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||Ix,o={uid:Ax++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new ah(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Vg(r,i),emitsOptions:Eg(r,i),emit:null,emitted:null,propsDefaults:Ht,inheritAttrs:r.inheritAttrs,ctx:Ht,data:Ht,props:Ht,attrs:Ht,slots:Ht,refs:Ht,setupState:Ht,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return o.ctx={_:o},o.root=t?t.root:o,o.emit=b0.bind(null,o),e.ce&&e.ce(o),o}let xe=null;const Dr=()=>xe||we;let Th,Zi,Cf="__VUE_INSTANCE_SETTERS__";(Zi=au()[Cf])||(Zi=au()[Cf]=[]),Zi.push(e=>xe=e),Th=e=>{Zi.length>1?Zi.forEach(t=>t(e)):Zi[0](e)};const ai=e=>{Th(e),e.scope.on()},qr=()=>{xe&&xe.scope.off(),Th(null)};function cm(e){return e.vnode.shapeFlag&4}let Ls=!1;function um(e,t=!1){Ls=t;const{props:n,children:r}=e.vnode,i=cm(e);vx(e,n,i,t),bx(e,r);const o=i?Dx(e,t):void 0;return Ls=!1,o}function Dx(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Al(new Proxy(e.ctx,du));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?fm(e):null;ai(e),$s();const o=Sr(r,e,0,[e.props,i]);if(js(),qr(),sh(o)){if(o.then(qr,qr),t)return o.then(s=>{xu(e,s,t)}).catch(s=>{zi(s,e,0)});e.asyncDep=o}else xu(e,o,t)}else hm(e,t)}function xu(e,t,n){vt(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:zt(t)&&(e.setupState=dh(t)),hm(e,n)}let cl,bu;function Bx(e){cl=e,bu=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,X0))}}const Nx=()=>!cl;function hm(e,t,n){const r=e.type;if(!e.render){if(!t&&cl&&!r.render){const i=r.template||Eh(e).template;if(i){const{isCustomElement:o,compilerOptions:s}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,c=Zt(Zt({isCustomElement:o,delimiters:a},s),l);r.render=cl(i,c)}}e.render=r.render||Gn,bu&&bu(e)}ai(e),$s(),cx(e),js(),qr()}function Fx(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return on(e,"get","$attrs"),t[n]}}))}function fm(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return Fx(e)},slots:e.slots,emit:e.emit,expose:t}}function Yl(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(dh(Al(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in yo)return yo[n](e)},has(t,n){return n in t||n in yo}}))}function _u(e,t=!0){return vt(e)?e.displayName||e.name:e.name||t&&e.__name}function kx(e){return vt(e)&&"__vccOpts"in e}const Ss=(e,t)=>d0(e,t,Ls);function dm(e,t,n){const r=arguments.length;return r===2?zt(t)&&!et(t)?si(t)?Yt(e,null,[t]):Yt(e,t):Yt(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&si(n)&&(n=[n]),Yt(e,t,n))}const pm=Symbol.for("v-scx"),gm=()=>xo(pm);function $x(){}function jx(e,t,n,r){const i=n[r];if(i&&mm(i,e))return i;const o=t();return o.memo=e.slice(),n[r]=o}function mm(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(Ps(n[r],t[r]))return!1;return $i>0&&nn&&nn.push(e),!0}const vm="3.3.4",Wx={createComponentInstance:lm,setupComponent:um,renderComponentRoot:Ga,setCurrentRenderingInstance:No,isVNode:si,normalizeVNode:mn},Ux=Wx,Hx=null,zx=null,Gx="http://www.w3.org/2000/svg",Oi=typeof document<"u"?document:null,Pf=Oi&&Oi.createElement("template"),Yx={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?Oi.createElementNS(Gx,e):Oi.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>Oi.createTextNode(e),createComment:e=>Oi.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Oi.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,o){const s=n?n.previousSibling:t.lastChild;if(i&&(i===o||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===o||!(i=i.nextSibling)););else{Pf.innerHTML=r?`<svg>${e}</svg>`:e;const a=Pf.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[s?s.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function Kx(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function Xx(e,t,n){const r=e.style,i=se(n);if(n&&!i){if(t&&!se(t))for(const o in t)n[o]==null&&wu(r,o,"");for(const o in n)wu(r,o,n[o])}else{const o=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=o)}}const Tf=/\s*!important$/;function wu(e,t,n){if(et(n))n.forEach(r=>wu(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=Vx(e,t);Tf.test(n)?e.setProperty(Tn(r),n.replace(Tf,""),"important"):e[r]=n}}const Lf=["Webkit","Moz","ms"],cc={};function Vx(e,t){const n=cc[t];if(n)return n;let r=sn(t);if(r!=="filter"&&r in e)return cc[t]=r;r=Jo(r);for(let i=0;i<Lf.length;i++){const o=Lf[i]+r;if(o in e)return cc[t]=o}return t}const Rf="http://www.w3.org/1999/xlink";function Zx(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(Rf,t.slice(6,t.length)):e.setAttributeNS(Rf,t,n);else{const o=by(t);n==null||o&&!tg(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}function Jx(e,t,n,r,i,o,s){if(t==="innerHTML"||t==="textContent"){r&&s(r,i,o),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const c=a==="OPTION"?e.getAttribute("value"):e.value,h=n??"";c!==h&&(e.value=h),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const c=typeof e[t];c==="boolean"?n=tg(n):n==null&&c==="string"?(n="",l=!0):c==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function Er(e,t,n,r){e.addEventListener(t,n,r)}function Qx(e,t,n,r){e.removeEventListener(t,n,r)}function qx(e,t,n,r,i=null){const o=e._vei||(e._vei={}),s=o[t];if(r&&s)s.value=r;else{const[a,l]=tb(t);if(r){const c=o[t]=rb(r,i);Er(e,a,c,l)}else s&&(Qx(e,a,s,l),o[t]=void 0)}}const Mf=/(?:Once|Passive|Capture)$/;function tb(e){let t;if(Mf.test(e)){t={};let r;for(;r=e.match(Mf);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):Tn(e.slice(2)),t]}let uc=0;const eb=Promise.resolve(),nb=()=>uc||(eb.then(()=>uc=0),uc=Date.now());function rb(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;vn(ib(r,n.value),t,5,[r])};return n.value=e,n.attached=nb(),n}function ib(e,t){if(et(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const If=/^on[a-z]/,sb=(e,t,n,r,i=!1,o,s,a,l)=>{t==="class"?Kx(e,r,i):t==="style"?Xx(e,n,r):Zo(t)?rh(t)||qx(e,t,n,r,s):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):ob(e,t,r,i))?Jx(e,t,r,o,s,a,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),Zx(e,t,r,i))};function ob(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&If.test(t)&&vt(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||If.test(t)&&se(n)?!1:t in e}function ym(e,t){const n=ta(e);class r extends Kl{constructor(o){super(n,o,t)}}return r.def=n,r}const ab=e=>ym(e,Am),lb=typeof HTMLElement<"u"?HTMLElement:class{};class Kl extends lb{constructor(t,n={},r){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,gh(()=>{this._connected||(Cu(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}).observe(this,{attributes:!0});const t=(r,i=!1)=>{const{props:o,styles:s}=r;let a;if(o&&!et(o))for(const l in o){const c=o[l];(c===Number||c&&c.type===Number)&&(l in this._props&&(this._props[l]=il(this._props[l])),(a||(a=Object.create(null)))[sn(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this._applyStyles(s),this._update()},n=this._def.__asyncLoader;n?n().then(r=>t(r,!0)):t(this._def)}_resolveProps(t){const{props:n}=t,r=et(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(sn))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(o){this._setProp(i,o)}})}_setAttr(t){let n=this.getAttribute(t);const r=sn(t);this._numberProps&&this._numberProps[r]&&(n=il(n)),this._setProp(r,n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,r=!0,i=!0){n!==this._props[t]&&(this._props[t]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(Tn(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(Tn(t),n+""):n||this.removeAttribute(Tn(t))))}_update(){Cu(this._createVNode(),this.shadowRoot)}_createVNode(){const t=Yt(this._def,Zt({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0;const r=(o,s)=>{this.dispatchEvent(new CustomEvent(o,{detail:s}))};n.emit=(o,...s)=>{r(o,s),Tn(o)!==o&&r(Tn(o),s)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof Kl){n.parent=i._instance,n.provides=i._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function cb(e="$style"){{const t=Dr();if(!t)return Ht;const n=t.type.__cssModules;if(!n)return Ht;const r=n[e];return r||Ht}}function ub(e){const t=Dr();if(!t)return;const n=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(o=>Su(o,i))},r=()=>{const i=e(t.proxy);Eu(t.subTree,i),n(i)};Tg(r),Gi(()=>{const i=new MutationObserver(r);i.observe(t.subTree.el.parentNode,{childList:!0}),zl(()=>i.disconnect())})}function Eu(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{Eu(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)Su(e.el,t);else if(e.type===be)e.children.forEach(n=>Eu(n,t));else if(e.type===Ii){let{el:n,anchor:r}=e;for(;n&&(Su(n,t),n!==r);)n=n.nextSibling}}function Su(e,t){if(e.nodeType===1){const n=e.style;for(const r in t)n.setProperty(`--${r}`,t[r])}}const $r="transition",Hs="animation",Lh=(e,{slots:t})=>dm(Rg,bm(e),t);Lh.displayName="Transition";const xm={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},hb=Lh.props=Zt({},bh,xm),vi=(e,t=[])=>{et(e)?e.forEach(n=>n(...t)):e&&e(...t)},Af=e=>e?et(e)?e.some(t=>t.length>1):e.length>1:!1;function bm(e){const t={};for(const B in e)B in xm||(t[B]=e[B]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:o=`${n}-enter-from`,enterActiveClass:s=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=o,appearActiveClass:c=s,appearToClass:h=a,leaveFromClass:u=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:d=`${n}-leave-to`}=e,g=fb(i),m=g&&g[0],b=g&&g[1],{onBeforeEnter:x,onEnter:p,onEnterCancelled:v,onLeave:y,onLeaveCancelled:_,onBeforeAppear:w=x,onAppear:C=p,onAppearCancelled:E=v}=t,S=(B,L,M)=>{zr(B,L?h:a),zr(B,L?c:s),M&&M()},T=(B,L)=>{B._isLeaving=!1,zr(B,u),zr(B,d),zr(B,f),L&&L()},R=B=>(L,M)=>{const $=B?C:p,D=()=>S(L,B,M);vi($,[L,D]),Df(()=>{zr(L,B?l:o),br(L,B?h:a),Af($)||Bf(L,r,m,D)})};return Zt(t,{onBeforeEnter(B){vi(x,[B]),br(B,o),br(B,s)},onBeforeAppear(B){vi(w,[B]),br(B,l),br(B,c)},onEnter:R(!1),onAppear:R(!0),onLeave(B,L){B._isLeaving=!0;const M=()=>T(B,L);br(B,u),wm(),br(B,f),Df(()=>{B._isLeaving&&(zr(B,u),br(B,d),Af(y)||Bf(B,r,b,M))}),vi(y,[B,M])},onEnterCancelled(B){S(B,!1),vi(v,[B])},onAppearCancelled(B){S(B,!0),vi(E,[B])},onLeaveCancelled(B){T(B),vi(_,[B])}})}function fb(e){if(e==null)return null;if(zt(e))return[hc(e.enter),hc(e.leave)];{const t=hc(e);return[t,t]}}function hc(e){return il(e)}function br(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function zr(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function Df(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let db=0;function Bf(e,t,n,r){const i=e._endId=++db,o=()=>{i===e._endId&&r()};if(n)return setTimeout(o,n);const{type:s,timeout:a,propCount:l}=_m(e,t);if(!s)return r();const c=s+"end";let h=0;const u=()=>{e.removeEventListener(c,f),o()},f=d=>{d.target===e&&++h>=l&&u()};setTimeout(()=>{h<l&&u()},a+1),e.addEventListener(c,f)}function _m(e,t){const n=window.getComputedStyle(e),r=g=>(n[g]||"").split(", "),i=r(`${$r}Delay`),o=r(`${$r}Duration`),s=Nf(i,o),a=r(`${Hs}Delay`),l=r(`${Hs}Duration`),c=Nf(a,l);let h=null,u=0,f=0;t===$r?s>0&&(h=$r,u=s,f=o.length):t===Hs?c>0&&(h=Hs,u=c,f=l.length):(u=Math.max(s,c),h=u>0?s>c?$r:Hs:null,f=h?h===$r?o.length:l.length:0);const d=h===$r&&/\b(transform|all)(,|$)/.test(r(`${$r}Property`).toString());return{type:h,timeout:u,propCount:f,hasTransform:d}}function Nf(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>Ff(n)+Ff(e[r])))}function Ff(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function wm(){return document.body.offsetHeight}const Em=new WeakMap,Sm=new WeakMap,Om={name:"TransitionGroup",props:Zt({},hb,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Dr(),r=xh();let i,o;return Ul(()=>{if(!i.length)return;const s=e.moveClass||`${e.name||"v"}-move`;if(!xb(i[0].el,n.vnode.el,s))return;i.forEach(mb),i.forEach(vb);const a=i.filter(yb);wm(),a.forEach(l=>{const c=l.el,h=c.style;br(c,s),h.transform=h.webkitTransform=h.transitionDuration="";const u=c._moveCb=f=>{f&&f.target!==c||(!f||/transform$/.test(f.propertyName))&&(c.removeEventListener("transitionend",u),c._moveCb=null,zr(c,s))};c.addEventListener("transitionend",u)})}),()=>{const s=Mt(e),a=bm(s);let l=s.tag||be;i=o,o=t.default?jl(t.default()):[];for(let c=0;c<o.length;c++){const h=o[c];h.key!=null&&Fi(h,Ts(h,a,r,n))}if(i)for(let c=0;c<i.length;c++){const h=i[c];Fi(h,Ts(h,a,r,n)),Em.set(h,h.el.getBoundingClientRect())}return Yt(l,null,o)}}},pb=e=>delete e.mode;Om.props;const gb=Om;function mb(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function vb(e){Sm.set(e,e.el.getBoundingClientRect())}function yb(e){const t=Em.get(e),n=Sm.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const o=e.el.style;return o.transform=o.webkitTransform=`translate(${r}px,${i}px)`,o.transitionDuration="0s",e}}function xb(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach(s=>{s.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(s=>s&&r.classList.add(s)),r.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(r);const{hasTransform:o}=_m(r);return i.removeChild(r),o}const li=e=>{const t=e.props["onUpdate:modelValue"]||!1;return et(t)?n=>_s(t,n):t};function bb(e){e.target.composing=!0}function kf(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Rs={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=li(i);const o=r||i.props&&i.props.type==="number";Er(e,t?"change":"input",s=>{if(s.target.composing)return;let a=e.value;n&&(a=a.trim()),o&&(a=rl(a)),e._assign(a)}),n&&Er(e,"change",()=>{e.value=e.value.trim()}),t||(Er(e,"compositionstart",bb),Er(e,"compositionend",kf),Er(e,"change",kf))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},o){if(e._assign=li(o),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(i||e.type==="number")&&rl(e.value)===t))return;const s=t??"";e.value!==s&&(e.value=s)}},Rh={deep:!0,created(e,t,n){e._assign=li(n),Er(e,"change",()=>{const r=e._modelValue,i=Ms(e),o=e.checked,s=e._assign;if(et(r)){const a=Cl(r,i),l=a!==-1;if(o&&!l)s(r.concat(i));else if(!o&&l){const c=[...r];c.splice(a,1),s(c)}}else if(Hi(r)){const a=new Set(r);o?a.add(i):a.delete(i),s(a)}else s(Pm(e,o))})},mounted:$f,beforeUpdate(e,t,n){e._assign=li(n),$f(e,t,n)}};function $f(e,{value:t,oldValue:n},r){e._modelValue=t,et(t)?e.checked=Cl(t,r.props.value)>-1:Hi(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=ri(t,Pm(e,!0)))}const Mh={created(e,{value:t},n){e.checked=ri(t,n.props.value),e._assign=li(n),Er(e,"change",()=>{e._assign(Ms(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=li(r),t!==n&&(e.checked=ri(t,r.props.value))}},Cm={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=Hi(t);Er(e,"change",()=>{const o=Array.prototype.filter.call(e.options,s=>s.selected).map(s=>n?rl(Ms(s)):Ms(s));e._assign(e.multiple?i?new Set(o):o:o[0])}),e._assign=li(r)},mounted(e,{value:t}){jf(e,t)},beforeUpdate(e,t,n){e._assign=li(n)},updated(e,{value:t}){jf(e,t)}};function jf(e,t){const n=e.multiple;if(!(n&&!et(t)&&!Hi(t))){for(let r=0,i=e.options.length;r<i;r++){const o=e.options[r],s=Ms(o);if(n)et(t)?o.selected=Cl(t,s)>-1:o.selected=t.has(s);else if(ri(Ms(o),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Ms(e){return"_value"in e?e._value:e.value}function Pm(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const Tm={created(e,t,n){_a(e,t,n,null,"created")},mounted(e,t,n){_a(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){_a(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){_a(e,t,n,r,"updated")}};function Lm(e,t){switch(e){case"SELECT":return Cm;case"TEXTAREA":return Rs;default:switch(t){case"checkbox":return Rh;case"radio":return Mh;default:return Rs}}}function _a(e,t,n,r,i){const s=Lm(e.tagName,n.props&&n.props.type)[i];s&&s(e,t,n,r)}function _b(){Rs.getSSRProps=({value:e})=>({value:e}),Mh.getSSRProps=({value:e},t)=>{if(t.props&&ri(t.props.value,e))return{checked:!0}},Rh.getSSRProps=({value:e},t)=>{if(et(e)){if(t.props&&Cl(e,t.props.value)>-1)return{checked:!0}}else if(Hi(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},Tm.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=Lm(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const wb=["ctrl","shift","alt","meta"],Eb={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>wb.some(n=>e[`${n}Key`]&&!t.includes(n))},Ou=(e,t)=>(n,...r)=>{for(let i=0;i<t.length;i++){const o=Eb[t[i]];if(o&&o(n,t))return}return e(n,...r)},Sb={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Ob=(e,t)=>n=>{if(!("key"in n))return;const r=Tn(n.key);if(t.some(i=>i===r||Sb[i]===r))return e(n)},ul={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):zs(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),zs(e,!0),r.enter(e)):r.leave(e,()=>{zs(e,!1)}):zs(e,t))},beforeUnmount(e,{value:t}){zs(e,t)}};function zs(e,t){e.style.display=t?e._vod:"none"}function Cb(){ul.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const Rm=Zt({patchProp:sb},Yx);let wo,Wf=!1;function Mm(){return wo||(wo=qg(Rm))}function Im(){return wo=Wf?wo:tm(Rm),Wf=!0,wo}const Cu=(...e)=>{Mm().render(...e)},Am=(...e)=>{Im().hydrate(...e)},Dm=(...e)=>{const t=Mm().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=Bm(r);if(!i)return;const o=t._component;!vt(o)&&!o.render&&!o.template&&(o.template=i.innerHTML),i.innerHTML="";const s=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),s},t},Pb=(...e)=>{const t=Im().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=Bm(r);if(i)return n(i,!0,i instanceof SVGElement)},t};function Bm(e){return se(e)?document.querySelector(e):e}let Uf=!1;const Tb=()=>{Uf||(Uf=!0,_b(),Cb())},Lb=()=>{},Rb=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:Rg,BaseTransitionPropsValidators:bh,Comment:ke,EffectScope:ah,Fragment:be,KeepAlive:$0,ReactiveEffect:Qo,Static:Ii,Suspense:P0,Teleport:Px,Text:ki,Transition:Lh,TransitionGroup:gb,VueElement:Kl,assertNumber:g0,callWithAsyncErrorHandling:vn,callWithErrorHandling:Sr,camelize:sn,capitalize:Jo,cloneVNode:lr,compatUtils:zx,compile:Lb,computed:Ss,createApp:Dm,createBlock:Ch,createCommentVNode:Mx,createElementBlock:Gr,createElementVNode:ht,createHydrationRenderer:tm,createPropsRestProxy:ax,createRenderer:qg,createSSRApp:Pb,createSlots:G0,createStaticVNode:Rx,createTextVNode:oi,createVNode:Yt,customRef:a0,defineAsyncComponent:F0,defineComponent:ta,defineCustomElement:ym,defineEmits:Z0,defineExpose:J0,defineModel:tx,defineOptions:Q0,defineProps:V0,defineSSRCustomElement:ab,defineSlots:q0,get devtools(){return fs},effect:Cy,effectScope:wy,getCurrentInstance:Dr,getCurrentScope:rg,getTransitionRawChildren:jl,guardReactiveProps:om,h:dm,handleError:zi,hasInjectionContext:mx,hydrate:Am,initCustomFormatter:$x,initDirectivesForSSR:Tb,inject:xo,isMemoSame:mm,isProxy:uh,isReactive:Ri,isReadonly:Ni,isRef:_e,isRuntimeOnly:Nx,isShallow:Io,isVNode:si,markRaw:Al,mergeDefaults:sx,mergeModels:ox,mergeProps:am,nextTick:gh,normalizeClass:nr,normalizeProps:yy,normalizeStyle:kn,onActivated:Ig,onBeforeMount:Bg,onBeforeUnmount:Hl,onBeforeUpdate:Ng,onDeactivated:Ag,onErrorCaptured:jg,onMounted:Gi,onRenderTracked:$g,onRenderTriggered:kg,onScopeDispose:Ey,onServerPrefetch:Fg,onUnmounted:zl,onUpdated:Ul,openBlock:Fn,popScopeId:Og,provide:Kg,proxyRefs:dh,pushScopeId:Sg,queuePostFlushCb:mh,reactive:Rl,readonly:Ml,ref:$t,registerRuntimeCompiler:Bx,render:Cu,renderList:Ug,renderSlot:Y0,resolveComponent:U0,resolveDirective:z0,resolveDynamicComponent:H0,resolveFilter:Hx,resolveTransitionHooks:Ts,setBlockTracking:yu,setDevtoolsHook:wg,setTransitionHooks:Fi,shallowReactive:mg,shallowReadonly:t0,shallowRef:e0,ssrContextKey:pm,ssrUtils:Ux,stop:Py,toDisplayString:oo,toHandlerKey:vo,toHandlers:K0,toRaw:Mt,toRef:h0,toRefs:l0,toValue:i0,transformVNodeArgs:Tx,triggerRef:r0,unref:Bl,useAttrs:rx,useCssModule:cb,useCssVars:ub,useModel:ix,useSSRContext:gm,useSlots:nx,useTransitionState:xh,vModelCheckbox:Rh,vModelDynamic:Tm,vModelRadio:Mh,vModelSelect:Cm,vModelText:Rs,vShow:ul,version:vm,warn:p0,watch:sr,watchEffect:A0,watchPostEffect:Tg,watchSyncEffect:D0,withAsyncContext:lx,withCtx:$l,withDefaults:ex,withDirectives:lo,withKeys:Ob,withMemo:jx,withModifiers:Ou,withScopeId:_0},Symbol.toStringTag,{value:"Module"}));const ut={image:{maxCacheSize:2560*1600,maxPatternSize:4096*2160,suffix:"leaf"}},Ce={},Lr={RUNTIME:"runtime",LEAF:"leaf",TASK:"task",CNAVAS:"canvas",IMAGE:"image",types:{},create(e){const{types:t}=Mb;return t[e]?t[e]++:(t[e]=1,0)}},Mb=Lr,{round:Ib,pow:Ab,PI:Ih}=Math,Yi={within(e,t,n){return e<t&&(e=t),e>n&&(e=n),e},fourNumber(e,t){let n;if(e instanceof Array)switch(e.length){case 4:n=e;break;case 2:n=[e[0],e[1],e[0],e[1]];break;case 3:n=[e[0],e[1],e[2],e[1]];break;case 1:e=e[0];break;default:e=0}if(n||(n=[e,e,e,e]),t)for(let r=0;r<4;r++)n[r]>t&&(n[r]=t);return n},formatRotation(e,t){return e%=360,t?e<0&&(e+=360):(e>180&&(e-=360),e<-180&&(e+=360)),e},getGapRotation(e,t,n=0){let r=e+n;if(t>1){const i=Math.abs(r%t);(i<1||i>t-1)&&(r=Math.round(r/t)*t)}return r-n},float(e,t){const n=t?Ab(10,t):1e12;return e=Ib(e*n)/n,e===-0?0:e}},jt=Ih/180,On=Ih*2,ds=Ih/2,{sin:fc,cos:dc,acos:wa,sqrt:Hf}=Math,{float:Gs}=Yi,Ji={};function Pu(){return{a:1,b:0,c:0,d:1,e:0,f:0}}function zf(){return Object.assign(Object.assign({},Pu()),{x:0,y:0,width:0,height:0,scaleX:1,scaleY:1,rotation:0,skewX:0,skewY:0})}const Pt={defaultMatrix:Pu(),defaultWorld:zf(),tempMatrix:{},set(e,t=1,n=0,r=0,i=1,o=0,s=0){e.a=t,e.b=n,e.c=r,e.d=i,e.e=o,e.f=s},get:Pu,getWorld:zf,copy(e,t){e.a=t.a,e.b=t.b,e.c=t.c,e.d=t.d,e.e=t.e,e.f=t.f},translate(e,t,n){e.e+=t,e.f+=n},translateInner(e,t,n){e.e+=e.a*t+e.c*n,e.f+=e.b*t+e.d*n},scale(e,t,n=t){e.a*=t,e.b*=t,e.c*=n,e.d*=n},scaleOfOuter(e,t,n,r){Xt.toInnerPoint(e,t,Ji),Xt.scaleOfInner(e,Ji,n,r)},scaleOfInner(e,t,n,r=n){Xt.translateInner(e,t.x,t.y),Xt.scale(e,n,r),Xt.translateInner(e,-t.x,-t.y)},rotate(e,t){const{a:n,b:r,c:i,d:o}=e;t*=jt;const s=dc(t),a=fc(t);e.a=n*s-r*a,e.b=n*a+r*s,e.c=i*s-o*a,e.d=i*a+o*s},rotateOfOuter(e,t,n){Xt.toInnerPoint(e,t,Ji),Xt.rotateOfInner(e,Ji,n)},rotateOfInner(e,t,n){Xt.translateInner(e,t.x,t.y),Xt.rotate(e,n),Xt.translateInner(e,-t.x,-t.y)},skew(e,t,n){const{a:r,b:i,c:o,d:s}=e;n&&(n*=jt,e.a=r+o*n,e.b=i+s*n),t&&(t*=jt,e.c=o+r*t,e.d=s+i*t)},skewOfOuter(e,t,n,r){Xt.toInnerPoint(e,t,Ji),Xt.skewOfInner(e,Ji,n,r)},skewOfInner(e,t,n,r=0){Xt.translateInner(e,t.x,t.y),Xt.skew(e,n,r),Xt.translateInner(e,-t.x,-t.y)},multiply(e,t){const{a:n,b:r,c:i,d:o,e:s,f:a}=e;e.a=t.a*n+t.b*i,e.b=t.a*r+t.b*o,e.c=t.c*n+t.d*i,e.d=t.c*r+t.d*o,e.e=t.e*n+t.f*i+s,e.f=t.e*r+t.f*o+a},multiplyParent(e,t,n,r,i){const{e:o,f:s}=e;if(n||(n=e),r===void 0&&(r=e.a!==1||e.b||e.c||e.d!==1),r){const{a,b:l,c,d:h}=e;n.a=a*t.a+l*t.c,n.b=a*t.b+l*t.d,n.c=c*t.a+h*t.c,n.d=c*t.b+h*t.d,i&&Xt.multiplyParentLayout(n,t,i)}else n.a=t.a,n.b=t.b,n.c=t.c,n.d=t.d,i&&Xt.multiplyParentLayout(n,t);n.e=o*t.a+s*t.c+t.e,n.f=o*t.b+s*t.d+t.f},multiplyParentLayout(e,t,n){n?(e.scaleX=t.scaleX*n.scaleX,e.scaleY=t.scaleY*n.scaleY,e.rotation=t.rotation+n.rotation,e.skewX=t.skewX+n.skewX,e.skewY=t.skewY+n.skewY):(e.scaleX=t.scaleX,e.scaleY=t.scaleY,e.rotation=t.rotation,e.skewX=t.skewX,e.skewY=t.skewY)},divide(e,t){Xt.multiply(e,Xt.tempInvert(t))},divideParent(e,t){Xt.multiplyParent(e,Xt.tempInvert(t))},tempInvert(e){const{tempMatrix:t}=Xt;return Xt.copy(t,e),Xt.invert(t),t},invert(e){const{a:t,b:n,c:r,d:i,e:o,f:s}=e;if(!n&&!r)if(t===1&&i===1)e.e=-o,e.f=-s;else{const a=1/(t*i);e.a=i*a,e.d=t*a,e.e=-o*i*a,e.f=-s*t*a}else{const a=1/(t*i-n*r);e.a=i*a,e.b=-n*a,e.c=-r*a,e.d=t*a,e.e=-(o*i-s*r)*a,e.f=-(s*t-o*n)*a}},toOuterPoint(e,t,n,r){const{x:i,y:o}=t;n||(n=t),n.x=i*e.a+o*e.c,n.y=i*e.b+o*e.d,r||(n.x+=e.e,n.y+=e.f)},toInnerPoint(e,t,n,r){const{a:i,b:o,c:s,d:a}=e,l=1/(i*a-o*s),{x:c,y:h}=t;if(n||(n=t),n.x=(c*a-h*s)*l,n.y=(h*i-c*o)*l,!r){const{e:u,f}=e;n.x-=(u*a-f*s)*l,n.y-=(f*i-u*o)*l}},setLayout(e,t,n,r){const{x:i,y:o,scaleX:s,scaleY:a}=t;if(r===void 0&&(r=t.rotation||t.skewX||t.skewY),r){const{rotation:l,skewX:c,skewY:h}=t,u=l*jt,f=dc(u),d=fc(u);if(c||h){const g=c*jt,m=h*jt;e.a=(f+m*-d)*s,e.b=(d+m*f)*s,e.c=(-d+g*f)*a,e.d=(f+g*d)*a}else e.a=f*s,e.b=d*s,e.c=-d*a,e.d=f*a}else e.a=s,e.b=0,e.c=0,e.d=a;e.e=i,e.f=o,n&&Xt.translateInner(e,-n.x,-n.y)},getLayout(e,t,n){const{a:r,b:i,c:o,d:s,e:a,f:l}=e;let c=a,h=l,u,f,d,g,m;if(i||o){const b=r*s-i*o;if(o&&!n){u=Hf(r*r+i*i),f=b/u;const v=r/u;d=i>0?wa(v):-wa(v)}else{f=Hf(o*o+s*s),u=b/f;const v=o/f;d=ds-(s>0?wa(-v):-wa(v))}const x=dc(d),p=fc(d);u=Gs(u),f=Gs(f),g=Gs((o/f+p)/x/jt),m=Gs((i/u-p)/x/jt),d=Gs(d/jt)}else u=r,f=s,d=g=m=0;return t&&(c+=t.x*r+t.y*o,h+=t.x*i+t.y*s),{x:c,y:h,scaleX:u,scaleY:f,rotation:d,skewX:g,skewY:m}},reset(e){Xt.set(e)}},Xt=Pt,{toInnerPoint:pc,toOuterPoint:Gf}=Pt,{sin:Yf,cos:Kf,abs:Xf,sqrt:Db,atan2:gc,min:Bb,PI:Nb}=Math,ge={defaultPoint:{x:0,y:0},tempPoint:{},tempRadiusPoint:{},set(e,t=0,n=0){e.x=t,e.y=n},setRadius(e,t,n){e.radiusX=t,e.radiusY=n===void 0?t:n},copy(e,t){e.x=t.x,e.y=t.y},move(e,t,n){e.x+=t,e.y+=n},rotate(e,t,n){n||(n=Xe.defaultPoint),t*=jt;const r=Kf(t),i=Yf(t),o=e.x-n.x,s=e.y-n.y;e.x=n.x+o*r-s*i,e.y=n.y+o*i+s*r},tempToInnerOf(e,t){const{tempPoint:n}=Xe;return Xe.copy(n,e),pc(t,n,n),n},tempToOuterOf(e,t){const{tempPoint:n}=Xe;return Xe.copy(n,e),Gf(t,n,n),n},tempToInnerRadiusPointOf(e,t){const{tempRadiusPoint:n}=Xe;return Xe.copy(n,e),Xe.toInnerRadiusPointOf(e,t,n),n},toInnerRadiusPointOf(e,t,n){n||(n=e),pc(t,e,n),n.radiusX=Math.abs(e.radiusX/t.scaleX),n.radiusY=Math.abs(e.radiusY/t.scaleY)},toInnerOf(e,t,n){pc(t,e,n)},toOuterOf(e,t,n){Gf(t,e,n)},getCenter(e,t){return{x:e.x+(t.x-e.x)/2,y:e.y+(t.y-e.y)/2}},getCenterX(e,t){return e+(t-e)/2},getCenterY(e,t){return e+(t-e)/2},getDistance(e,t){return Xe.getDistanceFrom(e.x,e.y,t.x,t.y)},getDistanceFrom(e,t,n,r){const i=Xf(n-e),o=Xf(r-t);return Db(i*i+o*o)},getMinDistanceFrom(e,t,n,r,i,o){return Bb(Xe.getDistanceFrom(e,t,n,r),Xe.getDistanceFrom(n,r,i,o))},getAngle(e,t){return Xe.getAtan2(e,t)/jt},getRotation(e,t,n,r){return r||(r=t),Xe.getRadianFrom(e.x,e.y,t.x,t.y,n.x,n.y,r.x,r.y)/jt},getRadianFrom(e,t,n,r,i,o,s,a){s===void 0&&(s=n,a=r);let l=gc(t-r,e-n);const h=gc(o-a,i-s)-l;return h<-Nb?h+On:h},getAtan2(e,t){return gc(t.y-e.y,t.x-e.x)},getDistancePoint(e,t,n){const r=Xe.getAtan2(e,t);return{x:e.x+Kf(r)*n,y:e.y+Yf(r)*n}},reset(e){}},Xe=ge;class Is{constructor(t,n,r,i,o,s){this.set(t,n,r,i,o,s)}set(t,n,r,i,o,s){return typeof t=="object"?Pt.copy(this,t):Pt.set(this,t,n,r,i,o,s),this}get(){const{a:t,b:n,c:r,d:i,e:o,f:s}=this;return{a:t,b:n,c:r,d:i,e:o,f:s}}clone(){return new Is(this)}translate(t,n){return Pt.translate(this,t,n),this}translateInner(t,n){return Pt.translateInner(this,t,n),this}scale(t,n){return Pt.scale(this,t,n),this}scaleOfOuter(t,n,r){return Pt.scaleOfOuter(this,t,n,r),this}scaleOfInner(t,n,r){return Pt.scaleOfInner(this,t,n,r),this}rotate(t){return Pt.rotate(this,t),this}rotateOfOuter(t,n){return Pt.rotateOfOuter(this,t,n),this}rotateOfInner(t,n){return Pt.rotateOfInner(this,t,n),this}skew(t,n){return Pt.skew(this,t,n),this}skewOfOuter(t,n,r){return Pt.skewOfOuter(this,t,n,r),this}skewOfInner(t,n,r){return Pt.skewOfInner(this,t,n,r),this}multiply(t){return Pt.multiply(this,t),this}multiplyParent(t){return Pt.multiplyParent(this,t),this}divide(t){return Pt.divide(this,t),this}divideParent(t){return Pt.divideParent(this,t),this}invert(){return Pt.invert(this),this}toOuterPoint(t,n,r){Pt.toOuterPoint(this,t,n,r)}toInnerPoint(t,n,r){Pt.toInnerPoint(this,t,n,r)}setLayout(t,n){return Pt.setLayout(this,t,n),this}getLayout(t,n){return Pt.getLayout(this,t,n)}reset(){Pt.reset(this)}}const Xl={tempPointBounds:{},setPoint(e,t,n){e.minX=e.maxX=t,e.minY=e.maxY=n},addPoint(e,t,n){e.minX=t<e.minX?t:e.minX,e.minY=n<e.minY?n:e.minY,e.maxX=t>e.maxX?t:e.maxX,e.maxY=n>e.maxY?n:e.maxY},addBounds(e,t,n,r,i){Vf(e,t,n),Vf(e,t+r,n+i)},copy(e,t){e.minX=t.minX,e.minY=t.minY,e.maxX=t.maxX,e.maxY=t.maxY},addPointBounds(e,t){e.minX=t.minX<e.minX?t.minX:e.minX,e.minY=t.minY<e.minY?t.minY:e.minY,e.maxX=t.maxX>e.maxX?t.maxX:e.maxX,e.maxY=t.maxY>e.maxY?t.maxY:e.maxY},toBounds(e,t){t.x=e.minX,t.y=e.minY,t.width=e.maxX-e.minX,t.height=e.maxY-e.minY}},{addPoint:Vf}=Xl,{tempPointBounds:jr,setPoint:Zf,addPoint:Ea,toBounds:Jf}=Xl,{toOuterPoint:Sa}=Pt;let Vn,Zn,Qi,qi;const gr={},xn={},_t={tempBounds:{},set(e,t=0,n=0,r=0,i=0){e.x=t,e.y=n,e.width=r,e.height=i},copy(e,t){e.x=t.x,e.y=t.y,e.width=t.width,e.height=t.height},copyAndSpread(e,t,n,r){r||(r=n),ne.set(e,t.x-n,t.y-r,t.width+n*2,t.height+r*2)},minX(e){return e.width>0?e.x:e.x+e.width},minY(e){return e.height>0?e.y:e.y+e.height},maxX(e){return e.width>0?e.x+e.width:e.x},maxY(e){return e.height>0?e.y+e.height:e.y},move(e,t,n){e.x+=t,e.y+=n},getByMove(e,t,n){return e=Object.assign({},e),ne.move(e,t,n),e},toOffsetOutBounds(e,t,n){t?Qf(t,e):t=e,n?(t.offsetX=-(ne.maxX(n)-e.x),t.offsetY=-(ne.maxY(n)-e.y)):(t.offsetX=e.x+e.width,t.offsetY=e.y+e.height),ne.move(t,-t.offsetX,-t.offsetY)},scale(e,t,n=t){e.x&&(e.x*=t),e.y&&(e.y*=n),e.width*=t,e.height*=n},scaleOf(e,t,n,r){e.x+=(e.x-t.x)*(n-1),e.y+=(e.y-t.y)*(r-1),e.width*=n,e.height*=r},tempToOuterOf(e,t){return ne.copy(ne.tempBounds,e),ne.toOuterOf(ne.tempBounds,t),ne.tempBounds},getOuterOf(e,t){return e=Object.assign({},e),ne.toOuterOf(e,t),e},toOuterOf(e,t,n){if(n||(n=e),t.b===0&&t.c===0){const{a:r,d:i}=t;r>0?(n.width=e.width*r,n.x=t.e+e.x*r):(n.width=e.width*-r,n.x=t.e+e.x*r-n.width),i>0?(n.height=e.height*i,n.y=t.f+e.y*i):(n.height=e.height*-i,n.y=t.f+e.y*i-n.height)}else gr.x=e.x,gr.y=e.y,Sa(t,gr,xn),Zf(jr,xn.x,xn.y),gr.x=e.x+e.width,Sa(t,gr,xn),Ea(jr,xn.x,xn.y),gr.y=e.y+e.height,Sa(t,gr,xn),Ea(jr,xn.x,xn.y),gr.x=e.x,Sa(t,gr,xn),Ea(jr,xn.x,xn.y),Jf(jr,n)},getFitMatrix(e,t){const n=Math.min(1,Math.min(e.width/t.width,e.height/t.height));return new Is(n,0,0,n,-t.x*n,-t.y*n)},getSpread(e,t,n){const r={};return ne.copyAndSpread(r,e,t,n),r},spread(e,t,n=t){ne.copyAndSpread(e,e,t,n)},ceil(e){e.x=Math.floor(e.x),e.y=Math.floor(e.y),e.width=Math.ceil(e.width),e.height=Math.ceil(e.height)},unsign(e){e.width<0&&(e.x+=e.width,e.width=-e.width),e.height<0&&(e.y+=e.height,e.height=-e.height)},add(e,t){Vn=e.x+e.width,Zn=e.y+e.height,Qi=t.x+t.width,qi=t.y+t.height,Vn=Vn>Qi?Vn:Qi,Zn=Zn>qi?Zn:qi,e.x=e.x<t.x?e.x:t.x,e.y=e.y<t.y?e.y:t.y,e.width=Vn-e.x,e.height=Zn-e.y},addList(e,t){ne.setListWithFn(e,t,void 0,!0)},setList(e,t,n=!1){ne.setListWithFn(e,t,void 0,n)},addListWithFn(e,t,n){ne.setListWithFn(e,t,n,!0)},setListWithFn(e,t,n,r=!1){let i,o=!0;for(let s=0,a=t.length;s<a;s++)i=n?n(t[s]):t[s],i&&(i.width||i.height)&&(o?(o=!1,r||Qf(e,i)):Fb(e,i));o&&ne.reset(e)},setPoints(e,t){t.forEach((n,r)=>r===0?Zf(jr,n.x,n.y):Ea(jr,n.x,n.y)),Jf(jr,e)},getPoints(e){const{x:t,y:n,width:r,height:i}=e;return[{x:t,y:n},{x:t+r,y:n},{x:t+r,y:n+i},{x:t,y:n+i}]},hitRadiusPoint(e,t,n){return n&&(t=ge.tempToInnerRadiusPointOf(t,n)),t.x>=e.x-t.radiusX&&t.x<=e.x+e.width+t.radiusX&&t.y>=e.y-t.radiusY&&t.y<=e.y+e.height+t.radiusY},hitPoint(e,t,n){return n&&(t=ge.tempToInnerOf(t,n)),t.x>=e.x&&t.x<=e.x+e.width&&t.y>=e.y&&t.y<=e.y+e.height},hit(e,t,n){return n&&(t=ne.tempToOuterOf(t,n)),!(e.y+e.height<t.y||t.y+t.height<e.y||e.x+e.width<t.x||t.x+t.width<e.x)},includes(e,t,n){return n&&(t=ne.tempToOuterOf(t,n)),e.x<=t.x&&e.y<=t.y&&e.x+e.width>=t.x+t.width&&e.y+e.height>=t.y+t.height},getIntersectData(e,t,n){n&&(t=ne.tempToOuterOf(t,n));let{x:r,y:i,width:o,height:s}=t;return Vn=r+o,Zn=i+s,Qi=e.x+e.width,qi=e.y+e.height,r=r>e.x?r:e.x,i=i>e.y?i:e.y,Vn=Vn<Qi?Vn:Qi,Zn=Zn<qi?Zn:qi,o=Vn-r,s=Zn-i,{x:r,y:i,width:o,height:s}},intersect(e,t,n){ne.copy(e,ne.getIntersectData(e,t,n))},isSame(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height},isEmpty(e){return e.x===0&&e.y===0&&e.width===0&&e.height===0},reset(e){ne.set(e)}},ne=_t,{add:Fb,copy:Qf}=ne;class De{get minX(){return _t.minX(this)}get minY(){return _t.minY(this)}get maxX(){return _t.maxX(this)}get maxY(){return _t.maxY(this)}constructor(t,n,r,i){this.set(t,n,r,i)}set(t,n,r,i){return typeof t=="object"?_t.copy(this,t):_t.set(this,t,n,r,i),this}get(){const{x:t,y:n,width:r,height:i}=this;return{x:t,y:n,width:r,height:i}}clone(){return new De(this)}scale(t,n){return _t.scale(this,t,n),this}scaleOf(t,n,r){return _t.scaleOf(this,t,n,r),this}toOuterOf(t,n){return _t.toOuterOf(this,t,n),this}getFitMatrix(t){return _t.getFitMatrix(this,t)}spread(t,n){return _t.spread(this,t,n),this}ceil(){return _t.ceil(this),this}unsign(){return _t.unsign(this),this}add(t){return _t.add(this,t),this}addList(t){return _t.setList(this,t,!0),this}setList(t){return _t.setList(this,t),this}addListWithFn(t,n){return _t.setListWithFn(this,t,n,!0),this}setListWithFn(t,n){return _t.setListWithFn(this,t,n),this}setPoints(t){return _t.setPoints(this,t),this}getPoints(){return _t.getPoints(this)}hitPoint(t,n){return _t.hitPoint(this,t,n)}hitRadiusPoint(t,n){return _t.hitRadiusPoint(this,t,n)}hit(t,n){return _t.hit(this,t,n)}includes(t,n){return _t.includes(this,t,n)}intersect(t,n){return _t.intersect(this,t,n),this}getIntersect(t,n){return new De(_t.getIntersectData(this,t,n))}isSame(t){return _t.isSame(this,t)}isEmpty(){return _t.isEmpty(this)}reset(){_t.reset(this)}}class kb{constructor(t,n,r,i,o,s){typeof t=="object"?this.copy(t):this.set(t,n,r,i,o,s)}set(t=0,n=0,r=0,i=0,o=0,s=0){this.top=t,this.right=n,this.bottom=r,this.left=i,this.width=o,this.height=s}copy(t){const{top:n,right:r,bottom:i,left:o,width:s,height:a}=t;this.set(n,r,i,o,s,a)}getBoundsFrom(t){const{top:n,right:r,bottom:i,left:o,width:s,height:a}=this;return new De(o,n,s||t.width-o-r,a||t.height-n-i)}}var Tu;(function(e){e[e.top=0]="top",e[e.right=1]="right",e[e.bottom=2]="bottom",e[e.left=3]="left"})(Tu||(Tu={}));var Lu;(function(e){e[e.topLeft=0]="topLeft",e[e.top=1]="top",e[e.topRight=2]="topRight",e[e.right=3]="right",e[e.bottomRight=4]="bottomRight",e[e.bottom=5]="bottom",e[e.bottomLeft=6]="bottomLeft",e[e.left=7]="left",e[e.center=8]="center"})(Lu||(Lu={}));const Nm=[{x:0,y:0},{x:.5,y:0},{x:1,y:0},{x:1,y:.5},{x:1,y:1},{x:.5,y:1},{x:0,y:1},{x:0,y:.5},{x:.5,y:.5}],$b={directionData:Nm,tempPoint:{},get:qf,toPoint(e,t,n,r){n||(n={});const i=qf(e);n.x=i.x*t.width,n.y=i.y*t.height,r||(n.x+=t.x,n.y+=t.y)}};function qf(e){return typeof e=="string"?Nm[Lu[e]]:e}const jb={0:1,1:1,2:1,3:1,4:1,5:1,6:1,7:1,8:1,9:1,".":1,e:1,E:1};class Kt{constructor(t){this.repeatMap={},this.name=t}static get(t){return new Kt(t)}static set filter(t){t?typeof t=="string"&&(t=[t]):t=[],this.filterList=t}static set exclude(t){t?typeof t=="string"&&(t=[t]):t=[],this.excludeList=t}log(...t){if(ts.enable){if(ts.filterList.length&&ts.filterList.every(n=>n!==this.name)||ts.excludeList.length&&ts.excludeList.some(n=>n===this.name))return;console.log("%c"+this.name,"color:#21ae62",...t)}}tip(...t){ts.enable&&console.warn(this.name,...t)}warn(...t){console.warn(this.name,...t)}repeat(t,...n){this.repeatMap[t]||(this.warn("repeat:"+t,...n),this.repeatMap[t]=!0)}error(...t){try{throw new Error}catch(n){console.error(this.name,...t,n)}}}Kt.filterList=[];Kt.excludeList=[];const ts=Kt,Wb=Kt.get("RunTime"),Wn={currentId:0,currentName:"",idMap:{},nameMap:{},nameToIdMap:{},start(e,t){const n=Lr.create(Lr.RUNTIME);return bn.currentId=bn.idMap[n]=t?performance.now():Date.now(),bn.currentName=bn.nameMap[n]=e,bn.nameToIdMap[e]=n,n},end(e,t){const n=bn.idMap[e],r=bn.nameMap[e],i=t?(performance.now()-n)/1e3:Date.now()-n;bn.idMap[e]=bn.nameMap[e]=bn.nameToIdMap[r]=void 0,Wb.log(r,i,"ms")},endOfName(e,t){const n=bn.nameToIdMap[e];n!==void 0&&bn.end(n,t)}},bn=Wn,Ub=Kt.get("UICreator"),Vl={list:{},register(e){const{__tag:t}=e.prototype;mc[t]?Ub.repeat(t):mc[t]=e},get(e,t,n,r,i,o){const s=new mc[e](t);return n!==void 0&&(s.x=n,r&&(s.y=r),i&&(s.width=i),o&&(s.height=o)),s}},{list:mc}=Vl,Hb=Kt.get("EventCreator"),As={nameList:{},register(e){let t;Object.keys(e).forEach(n=>{t=e[n],typeof t=="string"&&(Ys[t]?Hb.repeat(t):Ys[t]=e)})},changeName(e,t){const n=Ys[e];if(n){const r=Object.keys(n).find(i=>n[i]===e);r&&(n[r]=t,Ys[t]=n)}},has(e){return!!this.nameList[e]},get(e,...t){return new Ys[e](...t)}},{nameList:Ys}=As;class Fm{constructor(){this.list=[]}add(t){t.manager=this,this.list.push(t)}get(t){let n;const{list:r}=this;for(let o=0,s=r.length;o<s;o++)if(n=r[o],n.recycled&&n.isSameSize(t))return n.recycled=!1,n.manager||(n.manager=this),n;const i=Ce.canvas(t);return this.add(i),i}recycle(t){t.recycled||(t.clear(),t.recycled=!0)}clearRecycled(){let t;const n=[];for(let r=0,i=this.list.length;r<i;r++)t=this.list[r],t.recycled?t.destroy():n.push(t);this.list=n}clear(){this.list.forEach(t=>{t.destroy()}),this.list.length=0}destroy(){this.clear()}}class Ee{get length(){return this.list.length}constructor(t){this.reset(),t&&(t instanceof Array?this.addList(t):this.add(t))}has(t){return t&&this.keys[t.innerId]!==void 0}indexAt(t){return this.list[t]}indexOf(t){const n=this.keys[t.innerId];return n===void 0?-1:n}add(t){const{list:n,keys:r}=this;r[t.innerId]===void 0&&(n.push(t),r[t.innerId]=n.length-1)}addAt(t,n=0){const{keys:r}=this;if(r[t.innerId]===void 0){const{list:i}=this;for(let o=n,s=i.length;o<s;o++)r[i[o].innerId]++;n===0?i.unshift(t):(n>i.length&&(n=i.length),i.splice(n,0,t)),r[t.innerId]=n}}addList(t){for(let n=0;n<t.length;n++)this.add(t[n])}remove(t){const{list:n}=this;let r;for(let i=0,o=n.length;i<o;i++)r!==void 0?this.keys[n[i].innerId]=i-1:n[i].innerId===t.innerId&&(r=i,delete this.keys[t.innerId]);r!==void 0&&n.splice(r,1)}sort(t){const{list:n}=this;t?n.sort((r,i)=>i.__level-r.__level):n.sort((r,i)=>r.__level-i.__level)}forEach(t){this.list.forEach(t)}clone(){const t=new Ee;return t.list=[...this.list],t.keys=Object.assign({},this.keys),t}update(){this.keys={};const{list:t,keys:n}=this;for(let r=0,i=t.length;r<i;r++)n[t[r].innerId]=r}reset(){this.list=[],this.keys={}}destroy(){this.reset()}}class zb{get length(){return this._length}constructor(t){this._length=0,this.reset(),t&&(t instanceof Array?this.addList(t):this.add(t))}has(t){return this.keys[t.innerId]!==void 0}without(t){return this.keys[t.innerId]===void 0}sort(t){const{levels:n}=this;t?n.sort((r,i)=>i-r):n.sort((r,i)=>r-i)}addList(t){t.forEach(n=>{this.add(n)})}add(t){const{keys:n,levelMap:r}=this;n[t.innerId]||(n[t.innerId]=1,r[t.__level]?r[t.__level].push(t):(r[t.__level]=[t],this.levels.push(t.__level)),this._length++)}forEach(t){let n;this.levels.forEach(r=>{n=this.levelMap[r];for(let i=0,o=n.length;i<o;i++)t(n[i])})}reset(){this.levelMap={},this.keys={},this.levels=[],this._length=0}destroy(){this.levelMap=null}}class Gb extends Fm{constructor(){super(...arguments),this.pathTypeList=new Ee,this.imageTypeList=new Ee}getImageType(t,n){return this.imageTypeList.add(t),Ce.hitCanvas(n)}getPathType(t){return this.pathTypeList.add(t),Ce.hitCanvas()}clearImageType(){this.__clearLeafList(this.imageTypeList)}clearPathType(){this.__clearLeafList(this.pathTypeList)}__clearLeafList(t){t.length&&(t.forEach(n=>{n.__hitCanvas&&(n.__hitCanvas.destroy(),n.__hitCanvas=null)}),t.reset())}clear(){this.clearPathType(),this.clearImageType()}}const Be={default(e,t){return vc(t,e),vc(e,t),e},assign(e,t){let n;Object.keys(t).forEach(r=>{var i;n=t[r],(n==null?void 0:n.constructor)===Object&&((i=e[r])===null||i===void 0?void 0:i.constructor)===Object?vc(e[r],t[r]):e[r]=t[r]})},copyAttrs(e,t,n){return n.forEach(r=>{t[r]!==void 0&&(e[r]=t[r])}),e},clone(e){return JSON.parse(JSON.stringify(e))}},{assign:vc}=Be;class km{constructor(t){this.__leaf=t}__get(t){if(this.__input){const n=this.__input[t];if(n!==void 0)return n}return this[t]}__getData(){const t={tag:this.__leaf.tag},{__input:n}=this;let r;for(let i in this)i[0]!=="_"&&(r=n?n[i]:void 0,t[i]=r===void 0?this[i]:r);return t}__setInput(t,n){this.__input||(this.__input={}),this.__input[t]=n}__getInput(t){if(this.__input){const n=this.__input[t];if(n!==void 0)return n}return this["_"+t]}__removeInput(t){this.__input&&this.__input[t]!==void 0&&(this.__input[t]=void 0)}__getInputData(){const t={tag:this.__leaf.tag},{__input:n}=this;let r,i;for(let o in this)o[0]!=="_"&&(r=this["_"+o],r!==void 0&&(i=n?n[o]:void 0,t[o]=i===void 0?r:i));return t}__setMiddle(t,n){this.__middle||(this.__middle={}),this.__middle[t]=n}__getMiddle(t){return this.__middle&&this.__middle[t]}__checkSingle(){this.blendMode==="pass-through"?this.__leaf.__hasEraser||this.isEraser?this.__single=!0:this.__single&&(this.__single=!1):this.__single=!0}destroy(){this.__input=this.__middle=null}}const Ai={opacityTypes:["png","webp","svg"],upperCaseTypeMap:{},mineType(e){return!e||e.startsWith("image")?e:(e==="jpg"&&(e="jpeg"),"image/"+e)},fileType(e){const t=e.split(".");return t[t.length-1]}};Ai.opacityTypes.forEach(e=>Ai.upperCaseTypeMap[e]=e.toUpperCase());function q(e,t,n,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function $m(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{c(r.next(h))}catch(u){s(u)}}function l(h){try{c(r.throw(h))}catch(u){s(u)}}function c(h){h.done?o(h.value):i(h.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}function qt(e){return(t,n)=>{e||(e=n),Object.defineProperty(t,n,{get(){return this.context[e]},set(r){this.context[e]=r}})}}const jm=[];function kt(){return(e,t)=>{jm.push(t)}}const Yb=[];let lt=class{set blendMode(t){t==="normal"&&(t="source-over"),this.context.globalCompositeOperation=t}get blendMode(){return this.context.globalCompositeOperation}set dashPattern(t){this.context.setLineDash(t||Yb)}get dashPattern(){return this.context.getLineDash()}__bindContext(){let t;jm.forEach(n=>{t=this.context[n],t&&(this[n]=t.bind(this.context))}),this.textBaseline="alphabetic"}setTransform(t,n,r,i,o,s){}resetTransform(){}getTransform(){}save(){}restore(){}transform(t,n,r,i,o,s){typeof t=="object"?this.context.transform(t.a,t.b,t.c,t.d,t.e,t.f):this.context.transform(t,n,r,i,o,s)}translate(t,n){}scale(t,n){}rotate(t){}fill(t,n){}stroke(t){}clip(t,n){}fillRect(t,n,r,i){}strokeRect(t,n,r,i){}clearRect(t,n,r,i){}drawImage(t,n,r,i,o,s,a,l,c){switch(arguments.length){case 9:if(n<0){const h=-n/i*l;i+=n,n=0,s+=h,l-=h}if(r<0){const h=-r/o*c;o+=r,r=0,a+=h,c-=h}this.context.drawImage(t,n,r,i,o,s,a,l,c);break;case 5:this.context.drawImage(t,n,r,i,o);break;case 3:this.context.drawImage(t,n,r)}}beginPath(){}moveTo(t,n){}lineTo(t,n){}bezierCurveTo(t,n,r,i,o,s){}quadraticCurveTo(t,n,r,i){}closePath(){}arc(t,n,r,i,o,s){}arcTo(t,n,r,i,o){}ellipse(t,n,r,i,o,s,a,l){}rect(t,n,r,i){}roundRect(t,n,r,i,o){}createConicGradient(t,n,r){}createLinearGradient(t,n,r,i){}createPattern(t,n){}createRadialGradient(t,n,r,i,o,s){}fillText(t,n,r,i){}measureText(t){}strokeText(t,n,r,i){}destroy(){this.context=null}};q([qt("imageSmoothingEnabled")],lt.prototype,"smooth",void 0);q([qt("imageSmoothingQuality")],lt.prototype,"smoothLevel",void 0);q([qt("globalAlpha")],lt.prototype,"opacity",void 0);q([qt()],lt.prototype,"fillStyle",void 0);q([qt()],lt.prototype,"strokeStyle",void 0);q([qt("lineWidth")],lt.prototype,"strokeWidth",void 0);q([qt("lineCap")],lt.prototype,"strokeCap",void 0);q([qt("lineJoin")],lt.prototype,"strokeJoin",void 0);q([qt("lineDashOffset")],lt.prototype,"dashOffset",void 0);q([qt()],lt.prototype,"miterLimit",void 0);q([qt()],lt.prototype,"shadowBlur",void 0);q([qt()],lt.prototype,"shadowColor",void 0);q([qt()],lt.prototype,"shadowOffsetX",void 0);q([qt()],lt.prototype,"shadowOffsetY",void 0);q([qt()],lt.prototype,"filter",void 0);q([qt()],lt.prototype,"font",void 0);q([qt()],lt.prototype,"fontKerning",void 0);q([qt()],lt.prototype,"fontStretch",void 0);q([qt()],lt.prototype,"fontVariantCaps",void 0);q([qt()],lt.prototype,"textAlign",void 0);q([qt()],lt.prototype,"textBaseline",void 0);q([qt()],lt.prototype,"textRendering",void 0);q([qt()],lt.prototype,"wordSpacing",void 0);q([qt()],lt.prototype,"letterSpacing",void 0);q([qt()],lt.prototype,"direction",void 0);q([kt()],lt.prototype,"setTransform",null);q([kt()],lt.prototype,"resetTransform",null);q([kt()],lt.prototype,"getTransform",null);q([kt()],lt.prototype,"save",null);q([kt()],lt.prototype,"restore",null);q([kt()],lt.prototype,"translate",null);q([kt()],lt.prototype,"scale",null);q([kt()],lt.prototype,"rotate",null);q([kt()],lt.prototype,"fill",null);q([kt()],lt.prototype,"stroke",null);q([kt()],lt.prototype,"clip",null);q([kt()],lt.prototype,"fillRect",null);q([kt()],lt.prototype,"strokeRect",null);q([kt()],lt.prototype,"clearRect",null);q([kt()],lt.prototype,"beginPath",null);q([kt()],lt.prototype,"moveTo",null);q([kt()],lt.prototype,"lineTo",null);q([kt()],lt.prototype,"bezierCurveTo",null);q([kt()],lt.prototype,"quadraticCurveTo",null);q([kt()],lt.prototype,"closePath",null);q([kt()],lt.prototype,"arc",null);q([kt()],lt.prototype,"arcTo",null);q([kt()],lt.prototype,"ellipse",null);q([kt()],lt.prototype,"rect",null);q([kt()],lt.prototype,"roundRect",null);q([kt()],lt.prototype,"createConicGradient",null);q([kt()],lt.prototype,"createLinearGradient",null);q([kt()],lt.prototype,"createPattern",null);q([kt()],lt.prototype,"createRadialGradient",null);q([kt()],lt.prototype,"fillText",null);q([kt()],lt.prototype,"measureText",null);q([kt()],lt.prototype,"strokeText",null);const ue=new De,Kb={width:1,height:1,pixelRatio:1},td=Kt.get("LeaferCanvasBase"),wr=["width","height","pixelRatio"];class Xb extends lt{get pixelWidth(){return this.width*this.pixelRatio}get pixelHeight(){return this.height*this.pixelRatio}get allowBackgroundColor(){return this.view&&this.parentView}constructor(t,n){super(),this.worldTransform={},t||(t=Kb),t.pixelRatio||(t.pixelRatio=ut.devicePixelRatio),this.manager=n,this.innerId=Lr.create(Lr.CNAVAS);const{width:r,height:i,pixelRatio:o}=t;this.autoLayout=!r||!i,this.pixelRatio=o,this.config=t,this.init()}init(){}__createContext(){this.context=this.view.getContext("2d"),this.__bindContext()}toBlob(t,n){return new Promise(r=>{const i=this.getSaveCanvas(t);ut.origin.canvasToBolb(i.view,t,n).then(o=>{i.recycle(),r(o)}).catch(o=>{td.error(o),r(null)})})}toDataURL(t,n){const r=this.getSaveCanvas(t),i=ut.origin.canvasToDataURL(r.view,t,n);return r.recycle(),i}saveAs(t,n){return new Promise(r=>{const i=this.getSaveCanvas(Ai.fileType(t));ut.origin.canvasSaveAs(i.view,t,n).then(()=>{i.recycle(),r(!0)}).catch(o=>{td.error(o),r(!1)})})}getSaveCanvas(t){const{backgroundColor:n,bounds:r}=this,i=this.getSameCanvas();return["jpg","jpeg"].includes(t)&&i.fillWorld(r,"#FFFFFF"),n&&i.fillWorld(r,n),i.copyWorld(this),i}resize(t){if(this.isSameSize(t))return;let n;this.context&&!this.unreal&&this.width&&(n=this.getSameCanvas(),n.copyWorld(this)),Be.copyAttrs(this,t,wr),this.bounds=new De(0,0,this.width,this.height),this.pixelRatio||(this.pixelRatio=1),this.unreal||(this.updateViewSize(),this.smooth=this.config.smooth),this.updateClientBounds(),this.context&&!this.unreal&&n&&(this.clearWorld(n.bounds),this.copyWorld(n),n.recycle())}updateViewSize(){}updateClientBounds(){}startAutoLayout(t,n){}stopAutoLayout(){}setCursor(t){}setWorld(t,n,r){const{pixelRatio:i}=this,o=this.worldTransform;if(n)if(r)this.setTransform(o.a=t.a*i,o.b=t.b*i,o.c=t.c*i,o.d=t.d*i,o.e=(t.e+n.e)*i,o.f=(t.f+n.f)*i);else{const{a:s,b:a,c:l,d:c,e:h,f:u}=n;this.setTransform(o.a=(t.a*s+t.b*l)*i,o.b=(t.a*a+t.b*c)*i,o.c=(t.c*s+t.d*l)*i,o.d=(t.c*a+t.d*c)*i,o.e=(t.e*s+t.f*l+h)*i,o.f=(t.e*a+t.f*c+u)*i)}else this.setTransform(o.a=t.a*i,o.b=t.b*i,o.c=t.c*i,o.d=t.d*i,o.e=t.e*i,o.f=t.f*i)}useWorldTransform(t){t&&(this.worldTransform=t);const n=this.worldTransform;n&&this.setTransform(n.a,n.b,n.c,n.d,n.e,n.f)}setStroke(t,n,r){n&&(this.strokeWidth=n),t&&(this.strokeStyle=t),r&&this.setStrokeOptions(r)}setStrokeOptions(t){this.strokeCap=t.strokeCap,this.strokeJoin=t.strokeJoin,this.dashPattern=t.dashPattern,this.dashOffset=t.dashOffset,this.miterLimit=t.miterLimit}saveBlendMode(t){this.savedBlendMode=this.blendMode,this.blendMode=t}restoreBlendMode(){this.blendMode=this.savedBlendMode}hitFill(t,n){return n?this.context.isPointInPath(t.x,t.y,n):this.context.isPointInPath(t.x,t.y)}hitStroke(t,n){return this.strokeWidth=n,this.context.isPointInStroke(t.x,t.y)}setWorldShadow(t,n,r,i){const{pixelRatio:o}=this;this.shadowOffsetX=t*o,this.shadowOffsetY=n*o,this.shadowBlur=r*o,this.shadowColor=i||"black"}setWorldBlur(t){const{pixelRatio:n}=this;this.filter=`blur(${t*n}px)`}copyWorld(t,n,r,i){if(i&&(this.blendMode=i),n){const{pixelRatio:o}=this;r||(r=n),this.drawImage(t.view,n.x*o,n.y*o,n.width*o,n.height*o,r.x*o,r.y*o,r.width*o,r.height*o)}else this.drawImage(t.view,0,0);i&&(this.blendMode="source-over")}copyWorldToInner(t,n,r,i){if(i&&(this.blendMode=i),n.b||n.c)this.save(),this.resetTransform(),this.copyWorld(t,n,_t.tempToOuterOf(r,n)),this.restore();else{const{pixelRatio:o}=this;this.drawImage(t.view,n.x*o,n.y*o,n.width*o,n.height*o,r.x,r.y,r.width,r.height)}i&&(this.blendMode="source-over")}copyWorldByReset(t,n,r,i){this.resetTransform(),this.copyWorld(t,n,r,i),this.useWorldTransform()}useMask(t,n,r){this.copyWorld(t,n,r,"destination-in")}useEraser(t,n,r){this.copyWorld(t,n,r,"destination-out")}fillWorld(t,n,r){r&&(this.blendMode=r),this.fillStyle=n,ue.set(t).scale(this.pixelRatio),this.fillRect(ue.x,ue.y,ue.width,ue.height),r&&(this.blendMode="source-over")}strokeWorld(t,n,r){r&&(this.blendMode=r),this.strokeStyle=n,ue.set(t).scale(this.pixelRatio),this.strokeRect(ue.x,ue.y,ue.width,ue.height),r&&(this.blendMode="source-over")}clearWorld(t,n){ue.set(t).scale(this.pixelRatio),n&&ue.ceil(),this.clearRect(ue.x,ue.y,ue.width,ue.height)}clipWorld(t,n){this.beginPath(),ue.set(t).scale(this.pixelRatio),n&&ue.ceil(),this.rect(ue.x,ue.y,ue.width,ue.height),this.clip()}clear(){const{pixelRatio:t}=this;this.clearRect(0,0,this.width*t,this.height*t)}isSameSize(t){return this.width===t.width&&this.height===t.height&&this.pixelRatio===t.pixelRatio}getSameCanvas(t,n){const{width:r,height:i,pixelRatio:o}=this,s={width:r,height:i,pixelRatio:o},a=this.manager?this.manager.get(s):Ce.canvas(s);return a.save(),t&&a.useWorldTransform(Object.assign({},this.worldTransform)),n&&(a.smooth=this.smooth),a}getBiggerCanvas(t,n){let{width:r,height:i,pixelRatio:o}=this;t&&(r+=t),n&&(i+=n);const s={width:r,height:i,pixelRatio:o},a=this.manager?this.manager.get(s):Ce.canvas(s);return a.save(),a}recycle(){this.recycled||(this.restore(),this.manager?this.manager.recycle(this):this.destroy())}updateRender(){}unrealCanvas(){}destroy(){this.manager=this.view=this.parentView=null}}const tr={creator:{},parse(e,t){},convertToCanvasData(e,t){}},Wm={N:21,D:22,X:23,G:24,F:25,O:26,P:27,U:28},Ln=Object.assign({M:1,m:10,L:2,l:20,H:3,h:30,V:4,v:40,C:5,c:50,S:6,s:60,Q:7,q:70,T:8,t:80,A:9,a:90,Z:11,z:11,R:12},Wm),Um={M:3,m:3,L:3,l:3,H:2,h:2,V:2,v:2,C:7,c:7,S:5,s:5,Q:5,q:5,T:3,t:3,A:8,a:8,Z:1,z:1,N:5,D:9,X:6,G:9,F:5,O:7,P:4,U:6},Hm={m:10,l:20,H:3,h:30,V:4,v:40,c:50,S:6,s:60,q:70,T:8,t:80,A:9,a:90},Vb=Object.assign(Object.assign({},Hm),Wm),hl=Ln,zm={};for(let e in hl)zm[hl[e]]=e;const Gm={};for(let e in hl)Gm[hl[e]]=Um[e];const Ym={drawRoundRect(e,t,n,r,i,o){const s=Yi.fourNumber(o,Math.min(r/2,i/2)),a=t+r,l=n+i;s[0]?e.moveTo(t+s[0],n):e.moveTo(t,n),s[1]?e.arcTo(a,n,a,l,s[1]):e.lineTo(a,n),s[2]?e.arcTo(a,l,t,l,s[2]):e.lineTo(a,l),s[3]?e.arcTo(t,l,t,n,s[3]):e.lineTo(t,l),s[0]?e.arcTo(t,n,a,n,s[0]):e.lineTo(t,n)}},{sin:es,cos:Ks,atan2:ed,ceil:Zb,abs:yc,PI:nd,sqrt:rd,pow:Oa}=Math,{setPoint:xc,addPoint:Ca}=Xl,{set:Pa}=ge,{M:Jb,L:bc,C:_c,Q:id,Z:Qb}=Ln,wc={},Di={points(e,t,n,r){if(e.push(Jb,t[0],t[1]),n&&t.length>5){let i,o,s,a,l,c,h,u,f,d,g,m,b,x=t.length;const p=n===!0?.5:n;r&&(t=[t[x-2],t[x-1],...t,t[0],t[1],t[2],t[3]],x=t.length);for(let v=2;v<x-2;v+=2)i=t[v-2],o=t[v-1],s=t[v],a=t[v+1],l=t[v+2],c=t[v+3],g=rd(Oa(s-i,2)+Oa(a-o,2)),m=rd(Oa(l-s,2)+Oa(c-a,2)),b=g+m,g=p*g/b,m=p*m/b,l-=i,c-=o,h=s-g*l,u=a-g*c,v===2?r||e.push(id,h,u,s,a):e.push(_c,f,d,h,u,s,a),f=s+m*l,d=a+m*c;r||e.push(id,f,d,t[x-2],t[x-1])}else for(let i=2,o=t.length;i<o;i+=2)e.push(bc,t[i],t[i+1]);r&&e.push(Qb)},rect(e,t,n,r,i){tr.creator.path=e,tr.creator.moveTo(t,n).lineTo(t+r,n).lineTo(t+r,n+i).lineTo(t,n+i).lineTo(t,n)},roundRect(e,t,n,r,i,o){tr.creator.path=[],Ym.drawRoundRect(tr.creator,t,n,r,i,o),e.push(...tr.convertToCanvasData(tr.creator.path,!0))},arcTo(e,t,n,r,i,o,s,a,l,c,h){const u=r-t,f=i-n,d=o-r,g=s-i;let m=ed(f,u),b=ed(g,d),x=b-m;if(x<0&&(x+=On),x===nd||yc(u+f)<1e-12||yc(d+g)<1e-12){e&&e.push(bc,r,i),l&&(xc(l,t,n),Ca(l,r,i)),h&&Pa(h,t,n),c&&Pa(c,r,i);return}const p=u*g-d*f<0,v=p?-1:1,y=a/Ks(x/2),_=r+y*Ks(m+x/2+ds*v),w=i+y*es(m+x/2+ds*v);return m-=ds*v,b-=ds*v,ad(e,_,w,a,a,0,m/jt,b/jt,p,l,c,h)},arc(e,t,n,r,i,o,s,a,l,c){return ad(e,t,n,r,r,0,i,o,s,a,l,c)},ellipse(e,t,n,r,i,o,s,a,l,c,h,u){const f=o*jt,d=es(f),g=Ks(f);let m=s*jt,b=a*jt;m>nd&&(m-=On),b<0&&(b+=On);let x=b-m;x<0?x+=On:x>On&&(x-=On),l&&(x-=On);const p=Zb(yc(x/ds)),v=x/p,y=es(v/4),_=8/3*y*y/es(v/2);b=m+v;let w=Ks(m),C=es(m),E,S,T,R,B,L,M,$,D=T=g*r*w-d*i*C,j=R=d*r*w+g*i*C,X=t+T,Ot=n+R;e&&e.push(bc,X,Ot),c&&xc(c,X,Ot),u&&Pa(u,X,Ot);for(let Dt=0;Dt<p;Dt++)E=Ks(b),S=es(b),T=g*r*E-d*i*S,R=d*r*E+g*i*S,B=t+D-_*(g*r*C+d*i*w),L=n+j-_*(d*r*C-g*i*w),M=t+T+_*(g*r*S+d*i*E),$=n+R+_*(d*r*S-g*i*E),e&&e.push(_c,B,L,M,$,t+T,n+R),c&&od(t+D,n+j,B,L,M,$,t+T,n+R,c,!0),D=T,j=R,w=E,C=S,m=b,b+=v;h&&Pa(h,t+T,n+R)},quadraticCurveTo(e,t,n,r,i,o,s){e.push(_c,(t+2*r)/3,(n+2*i)/3,(o+2*r)/3,(s+2*i)/3,o,s)},toTwoPointBoundsByQuadraticCurve(e,t,n,r,i,o,s,a){od(e,t,(e+2*n)/3,(t+2*r)/3,(i+2*n)/3,(o+2*r)/3,i,o,s,a)},toTwoPointBounds(e,t,n,r,i,o,s,a,l,c){const h=[];let u,f,d,g,m,b,x,p,v=e,y=n,_=i,w=s;for(let C=0;C<2;++C){if(C==1&&(v=t,y=r,_=o,w=a),u=-3*v+9*y-9*_+3*w,f=6*v-12*y+6*_,d=3*y-3*v,Math.abs(u)<1e-12){if(Math.abs(f)<1e-12)continue;g=-d/f,0<g&&g<1&&h.push(g);continue}x=f*f-4*d*u,p=Math.sqrt(x),!(x<0)&&(m=(-f+p)/(2*u),0<m&&m<1&&h.push(m),b=(-f-p)/(2*u),0<b&&b<1&&h.push(b))}c?Ca(l,e,t):xc(l,e,t),Ca(l,s,a);for(let C=0,E=h.length;C<E;C++)sd(h[C],e,t,n,r,i,o,s,a,wc),Ca(l,wc.x,wc.y)},getPointAndSet(e,t,n,r,i,o,s,a,l,c){const h=1-e,u=h*h*h,f=3*h*h*e,d=3*h*e*e,g=e*e*e;c.x=u*t+f*r+d*o+g*a,c.y=u*n+f*i+d*s+g*l},getPoint(e,t,n,r,i,o,s,a,l){const c={};return sd(e,t,n,r,i,o,s,a,l,c),c}},{getPointAndSet:sd,toTwoPointBounds:od,ellipse:ad}=Di,{sin:qb,cos:t_,sqrt:ld,atan2:cd}=Math,{ellipse:e_}=Di,n_={ellipticalArc(e,t,n,r,i,o,s,a,l,c,h){const u=(l-t)/2,f=(c-n)/2,d=o*jt,g=qb(d),m=t_(d),b=-m*u-g*f,x=-m*f+g*u,p=r*r,v=i*i,y=x*x,_=b*b,w=p*v-p*y-v*_;let C=0;if(w<0){const D=ld(1-w/(p*v));r*=D,i*=D}else C=(s===a?-1:1)*ld(w/(p*y+v*_));const E=C*r*x/i,S=-C*i*b/r,T=cd((x-S)/i,(b-E)/r),R=cd((-x-S)/i,(-b-E)/r);let B=R-T;a===0&&B>0?B-=On:a===1&&B<0&&(B+=On);const L=t+u+m*E-g*S,M=n+f+g*E+m*S,$=B<0?1:0;h||ut.ellipseToCurve?e_(e,L,M,r,i,o,T/jt,R/jt,$):r===i&&!o?e.push(Ln.O,L,M,r,T/jt,R/jt,$):e.push(Ln.G,L,M,r,i,o,T/jt,R/jt,$)}},{M:ud,m:r_,L:Ta,l:i_,H:s_,h:o_,V:a_,v:l_,C:Xs,c:c_,S:Ec,s:u_,Q:Vs,q:h_,T:Sc,t:f_,A:d_,a:p_,Z:hd,z:g_,N:m_,D:v_,X:y_,G:x_,F:b_,O:__,P:w_,U:E_}=Ln,{rect:S_,roundRect:fd,arcTo:O_,arc:dd,ellipse:pd,quadraticCurveTo:gd}=Di,{ellipticalArc:C_}=n_,P_=Kt.get("PathConvert"),mr={},ji={current:{dot:0},stringify(e){let t=0,n=e.length,r,i="",o,s;for(;t<n;){o=e[t],r=Gm[o],o===s?i+=" ":i+=zm[o];for(let a=1;a<r;a++)i+=e[t+a],a===r-1||(i+=" ");s=o,t+=r}return i},parse(e,t){let n,r,i,o="";const s=[],a=t?Vb:Hm;for(let l=0,c=e.length;l<c;l++)r=e[l],jb[r]?(r==="."&&(_n.dot++,_n.dot>1&&(ns(s,o),o="")),o+=r):Ln[r]?(o&&(ns(s,o),o=""),_n.name=Ln[r],_n.length=Um[r],_n.index=0,ns(s,_n.name),!n&&a[r]&&(n=!0)):r==="-"||r==="+"?i==="e"||i==="E"?o+=r:(o&&ns(s,o),o=r):o&&(ns(s,o),o=""),i=r;return o&&ns(s,o),n?ji.toCanvasData(s,t):s},toCanvasData(e,t){let n=0,r=0,i=0,o=0,s=0,a=e.length,l,c,h,u,f;const d=[];for(;s<a;){switch(h=e[s],h){case r_:e[s+1]+=n,e[s+2]+=r;case ud:n=e[s+1],r=e[s+2],d.push(ud,n,r),s+=3;break;case o_:e[s+1]+=n;case s_:n=e[s+1],d.push(Ta,n,r),s+=2;break;case l_:e[s+1]+=r;case a_:r=e[s+1],d.push(Ta,n,r),s+=2;break;case i_:e[s+1]+=n,e[s+2]+=r;case Ta:n=e[s+1],r=e[s+2],d.push(Ta,n,r),s+=3;break;case u_:e[s+1]+=n,e[s+2]+=r,e[s+3]+=n,e[s+4]+=r,h=Ec;case Ec:f=u===Xs||u===Ec,i=f?n*2-l:e[s+1],o=f?r*2-c:e[s+2],l=e[s+1],c=e[s+2],n=e[s+3],r=e[s+4],d.push(Xs,i,o,l,c,n,r),s+=5;break;case c_:e[s+1]+=n,e[s+2]+=r,e[s+3]+=n,e[s+4]+=r,e[s+5]+=n,e[s+6]+=r,h=Xs;case Xs:l=e[s+3],c=e[s+4],n=e[s+5],r=e[s+6],d.push(Xs,e[s+1],e[s+2],l,c,n,r),s+=7;break;case f_:e[s+1]+=n,e[s+2]+=r,h=Sc;case Sc:f=u===Vs||u===Sc,l=f?n*2-l:e[s+1],c=f?r*2-c:e[s+2],t?gd(d,n,r,l,c,e[s+1],e[s+2]):d.push(Vs,l,c,e[s+1],e[s+2]),n=e[s+1],r=e[s+2],s+=3;break;case h_:e[s+1]+=n,e[s+2]+=r,e[s+3]+=n,e[s+4]+=r,h=Vs;case Vs:l=e[s+1],c=e[s+2],t?gd(d,n,r,l,c,e[s+3],e[s+4]):d.push(Vs,l,c,e[s+3],e[s+4]),n=e[s+3],r=e[s+4],s+=5;break;case p_:e[s+6]+=n,e[s+7]+=r;case d_:C_(d,n,r,e[s+1],e[s+2],e[s+3],e[s+4],e[s+5],e[s+6],e[s+7],t),n=e[s+6],r=e[s+7],s+=8;break;case g_:case hd:d.push(hd),s++;break;case m_:n=e[s+1],r=e[s+2],t?S_(d,n,r,e[s+3],e[s+4]):Wr(d,e,s,5),s+=5;break;case v_:n=e[s+1],r=e[s+2],t?fd(d,n,r,e[s+3],e[s+4],[e[s+5],e[s+6],e[s+7],e[s+8]]):Wr(d,e,s,9),s+=9;break;case y_:n=e[s+1],r=e[s+2],t?fd(d,n,r,e[s+3],e[s+4],e[s+5]):Wr(d,e,s,6),s+=6;break;case x_:pd(t?d:Wr(d,e,s,9),e[s+1],e[s+2],e[s+3],e[s+4],e[s+5],e[s+6],e[s+7],e[s+8],null,mr),n=mr.x,r=mr.y,s+=9;break;case b_:t?pd(d,e[s+1],e[s+2],e[s+3],e[s+4],0,0,360,!1):Wr(d,e,s,5),n=e[s+1]+e[s+3],r=e[s+2],s+=5;break;case __:dd(t?d:Wr(d,e,s,7),e[s+1],e[s+2],e[s+3],e[s+4],e[s+5],e[s+6],null,mr),n=mr.x,r=mr.y,s+=7;break;case w_:t?dd(d,e[s+1],e[s+2],e[s+3],0,360,!1):Wr(d,e,s,4),n=e[s+1]+e[s+3],r=e[s+2],s+=4;break;case E_:O_(t?d:Wr(d,e,s,6),n,r,e[s+1],e[s+2],e[s+3],e[s+4],e[s+5],null,mr),n=mr.x,r=mr.y,s+=6;break;default:return P_.error(`command: ${h} [index:${s}]`,e),d}u=h}return d},copyData(e,t,n,r){for(let i=n,o=n+r;i<o;i++)e.push(t[i])},pushData(e,t){_n.index===_n.length&&(_n.index=1,e.push(_n.name)),e.push(Number(t)),_n.index++,_n.dot=0}},{current:_n,pushData:ns,copyData:Wr}=ji,{M:Oc,L:T_,C:L_,Q:R_,Z:M_,N:md,D:I_,X:A_,G:D_,F:B_,O:N_,P:F_,U:vd}=Ln,{getMinDistanceFrom:k_,getRadianFrom:$_}=ge,{tan:j_,min:W_,abs:U_}=Math,rs={},Ki={beginPath(e){e.length=0},moveTo(e,t,n){e.push(Oc,t,n)},lineTo(e,t,n){e.push(T_,t,n)},bezierCurveTo(e,t,n,r,i,o,s){e.push(L_,t,n,r,i,o,s)},quadraticCurveTo(e,t,n,r,i){e.push(R_,t,n,r,i)},closePath(e){e.push(M_)},rect(e,t,n,r,i){e.push(md,t,n,r,i)},roundRect(e,t,n,r,i,o){if(typeof o=="number")e.push(A_,t,n,r,i,o);else{const s=Yi.fourNumber(o);s?e.push(I_,t,n,r,i,...s):e.push(md,t,n,r,i)}},ellipse(e,t,n,r,i,o,s,a,l){o===void 0?e.push(B_,t,n,r,i):(s===void 0&&(s=0),a===void 0&&(a=360),e.push(D_,t,n,r,i,o,s,a,l?1:0))},arc(e,t,n,r,i,o,s){i===void 0?e.push(F_,t,n,r):(o===void 0&&(o=360),e.push(N_,t,n,r,i,o,s?1:0))},arcTo(e,t,n,r,i,o,s,a){if(s!==void 0){const l=j_($_(s,a,t,n,r,i)/2)*(k_(s,a,t,n,r,i)/2);e.push(vd,t,n,r,i,W_(o,U_(l)))}else e.push(vd,t,n,r,i,o)},drawEllipse(e,t,n,r,i,o,s,a,l){o===void 0&&(o=0),s===void 0&&(s=0),a===void 0&&(a=360),Di.ellipse(null,t,n,r,i,o,s,a,l,null,null,rs),e.push(Oc,rs.x,rs.y),H_(e,t,n,r,i,o,s,a,l)},drawArc(e,t,n,r,i,o,s){i===void 0&&(i=0),o===void 0&&(o=360),Di.arc(null,t,n,r,i,o,s,null,null,rs),e.push(Oc,rs.x,rs.y),z_(e,t,n,r,i,o,s)},drawPoints(e,t,n,r){Di.points(e,t,n,r)}},{ellipse:H_,arc:z_}=Ki,{moveTo:G_,lineTo:Y_,quadraticCurveTo:K_,bezierCurveTo:X_,closePath:V_,beginPath:Z_,rect:J_,roundRect:Q_,ellipse:q_,arc:t1,arcTo:e1,drawEllipse:n1,drawArc:r1,drawPoints:i1}=Ki;class Ah{constructor(t){t?this.path=typeof t=="string"?tr.parse(t):t:this.path=[]}beginPath(){return Z_(this.path),this}moveTo(t,n){return G_(this.path,t,n),this}lineTo(t,n){return Y_(this.path,t,n),this}bezierCurveTo(t,n,r,i,o,s){return X_(this.path,t,n,r,i,o,s),this}quadraticCurveTo(t,n,r,i){return K_(this.path,t,n,r,i),this}closePath(){return V_(this.path),this}rect(t,n,r,i){return J_(this.path,t,n,r,i),this}roundRect(t,n,r,i,o){return Q_(this.path,t,n,r,i,o),this}ellipse(t,n,r,i,o,s,a,l){return q_(this.path,t,n,r,i,o,s,a,l),this}arc(t,n,r,i,o,s){return t1(this.path,t,n,r,i,o,s),this}arcTo(t,n,r,i,o){return e1(this.path,t,n,r,i,o),this}drawEllipse(t,n,r,i,o,s,a,l){return n1(this.path,t,n,r,i,o,s,a,l),this}drawArc(t,n,r,i,o,s){return r1(this.path,t,n,r,i,o,s),this}drawPoints(t,n,r){return i1(this.path,t,n,r),this}}const{M:s1,L:o1,C:a1,Q:l1,Z:c1,N:u1,D:h1,X:f1,G:d1,F:p1,O:g1,P:m1,U:v1}=Ln,y1=Kt.get("PathDrawer"),x1={drawPathByData(e,t){if(!t)return;let n,r=0,i=t.length;for(;r<i;)switch(n=t[r],n){case s1:e.moveTo(t[r+1],t[r+2]),r+=3;break;case o1:e.lineTo(t[r+1],t[r+2]),r+=3;break;case a1:e.bezierCurveTo(t[r+1],t[r+2],t[r+3],t[r+4],t[r+5],t[r+6]),r+=7;break;case l1:e.quadraticCurveTo(t[r+1],t[r+2],t[r+3],t[r+4]),r+=5;break;case c1:e.closePath(),r+=1;break;case u1:e.rect(t[r+1],t[r+2],t[r+3],t[r+4]),r+=5;break;case h1:e.roundRect(t[r+1],t[r+2],t[r+3],t[r+4],[t[r+5],t[r+6],t[r+7],t[r+8]]),r+=9;break;case f1:e.roundRect(t[r+1],t[r+2],t[r+3],t[r+4],t[r+5]),r+=6;break;case d1:e.ellipse(t[r+1],t[r+2],t[r+3],t[r+4],t[r+5]*jt,t[r+6]*jt,t[r+7]*jt,t[r+8]),r+=9;break;case p1:e.ellipse(t[r+1],t[r+2],t[r+3],t[r+4],0,0,On,!1),r+=5;break;case g1:e.arc(t[r+1],t[r+2],t[r+3],t[r+4]*jt,t[r+5]*jt,t[r+6]),r+=7;break;case m1:e.arc(t[r+1],t[r+2],t[r+3],0,On,!1),r+=4;break;case v1:e.arcTo(t[r+1],t[r+2],t[r+3],t[r+4],t[r+5]),r+=6;break;default:y1.error(`command: ${n} [index:${r}]`,t);return}}},{M:b1,L:_1,C:w1,Q:E1,Z:S1,N:O1,D:C1,X:P1,G:yd,F:xd,O:T1,P:L1,U:R1}=Ln,Dh={scale(e,t,n){if(!e)return;let r,i=0,o=e.length;for(;i<o;)switch(r=e[i],r){case b1:wn(e,t,n,i,1),i+=3;break;case _1:wn(e,t,n,i,1),i+=3;break;case w1:wn(e,t,n,i,3),i+=7;break;case E1:wn(e,t,n,i,2),i+=5;break;case S1:i+=1;break;case O1:wn(e,t,n,i,2),i+=5;break;case C1:wn(e,t,n,i,2),i+=9;break;case P1:wn(e,t,n,i,2),i+=6;break;case yd:wn(e,t,n,i,2),i+=9;break;case xd:wn(e,t,n,i,2),i+=5;break;case T1:e[i]=yd,e.splice(i+4,0,e[i+3],0),wn(e,t,n,i,2),i+=7+2,o+=2;break;case L1:e[i]=xd,e.splice(i+4,0,e[i+3]),wn(e,t,n,i,2),i+=4+1,o+=1;break;case R1:wn(e,t,n,i,2),i+=6;break}},scalePoints(e,t,n,r,i){for(let o=i?r+1:0,s=i?o+i*2:e.length;o<s;o+=2)e[o]*=t,e[o+1]*=n}},{scalePoints:wn}=Dh,{M:M1,L:I1,C:bd,Q:_d,Z:wd,N:A1,D:Ed,X:D1,G:B1,F:N1,O:F1,P:k1,U:$1}=Ln,{toTwoPointBounds:j1,toTwoPointBoundsByQuadraticCurve:W1,arcTo:U1,arc:H1,ellipse:z1}=Di,{addPointBounds:Zs,copy:Cc,addPoint:G1,setPoint:Pc,addBounds:La,toBounds:Y1}=Xl,K1=Kt.get("PathBounds");let is,Ra,Tc;const hn={},Sd={},vr={},Bh={toBounds(e,t){Bh.toTwoPointBounds(e,Sd),Y1(Sd,t)},toTwoPointBounds(e,t){if(!e||!e.length)return Pc(t,0,0);let n,r=0,i=0,o=0,s,a,l,c;const h=e.length;for(;r<h;)switch(n=e[r],r===0&&(n===wd||n===bd||n===_d?Pc(t,i,o):Pc(t,e[r+1],e[r+2])),n){case M1:case I1:i=e[r+1],o=e[r+2],G1(t,i,o),r+=3;break;case bd:l=e[r+5],c=e[r+6],j1(i,o,e[r+1],e[r+2],e[r+3],e[r+4],l,c,hn),Zs(t,hn),i=l,o=c,r+=7;break;case _d:s=e[r+1],a=e[r+2],l=e[r+3],c=e[r+4],W1(i,o,s,a,l,c,hn),Zs(t,hn),i=l,o=c,r+=5;break;case wd:r+=1;break;case A1:i=e[r+1],o=e[r+2],La(t,i,o,e[r+3],e[r+4]),r+=5;break;case Ed:case D1:i=e[r+1],o=e[r+2],La(t,i,o,e[r+3],e[r+4]),r+=n===Ed?9:6;break;case B1:z1(null,e[r+1],e[r+2],e[r+3],e[r+4],e[r+5],e[r+6],e[r+7],e[r+8],hn,vr),r===0?Cc(t,hn):Zs(t,hn),i=vr.x,o=vr.y,r+=9;break;case N1:i=e[r+1],o=e[r+2],Ra=e[r+3],Tc=e[r+4],La(t,i-Ra,o-Tc,Ra*2,Tc*2),i+=Ra,r+=5;break;case F1:H1(null,e[r+1],e[r+2],e[r+3],e[r+4],e[r+5],e[r+6],hn,vr),r===0?Cc(t,hn):Zs(t,hn),i=vr.x,o=vr.y,r+=7;break;case k1:i=e[r+1],o=e[r+2],is=e[r+3],La(t,i-is,o-is,is*2,is*2),i+=is,r+=4;break;case $1:U1(null,i,o,e[r+1],e[r+2],e[r+3],e[r+4],e[r+5],hn,vr),r===0?Cc(t,hn):Zs(t,hn),i=vr.x,o=vr.y,r+=6;break;default:K1.error(`command: ${n} [index:${r}]`,e);return}}},{M:Lc,L:Ma,C:Od,Z:Ia}=Ln,{getCenterX:X1,getCenterY:V1}=ge,{arcTo:Rc}=Ki,Z1={smooth(e,t,n){let r,i=0,o=0,s=0,a=0,l=0,c=0,h=0,u=0,f=0;const d=e.length,g=[];for(;i<d;)switch(r=e[i],r){case Lc:a=u=e[i+1],l=f=e[i+2],i+=3,e[i]===Ma?(c=e[i+1],h=e[i+2],g.push(Lc,X1(a,c),V1(l,h))):g.push(Lc,a,l);break;case Ma:switch(o=e[i+1],s=e[i+2],i+=3,e[i]){case Ma:Rc(g,o,s,e[i+1],e[i+2],t,u,f);break;case Ia:Rc(g,o,s,a,l,t,u,f);break;default:g.push(Ma,o,s)}u=o,f=s;break;case Od:g.push(Od,e[i+1],e[i+2],e[i+3],e[i+4],e[i+5],e[i+6]),i+=7;break;case Ia:Rc(g,a,l,c,h,t,u,f),g.push(Ia),i+=1;break}return r!==Ia&&(g[1]=a,g[2]=l),g}};tr.creator=new Ah;tr.parse=ji.parse;tr.convertToCanvasData=ji.toCanvasData;const{drawRoundRect:J1}=Ym;function Q1(e){e&&!e.roundRect&&(e.roundRect=function(t,n,r,i,o){J1(this,t,n,r,i,o)})}function Km(e){Q1(e)}const q1=Kt.get("TaskProcessor");class tw{constructor(t){this.parallel=!0,this.time=1,this.id=Lr.create(Lr.TASK),this.task=t}run(){return $m(this,void 0,void 0,function*(){try{this.task&&!this.isComplete&&this.parent.running&&(yield this.task())}catch(t){q1.error(t)}})}complete(){this.isComplete=!0,this.parent=null,this.task=null}cancel(){this.isCancel=!0,this.complete()}}class Ru{get total(){return this.list.length+this.delayNumber}get finishedIndex(){return this.isComplete?0:this.index+this.parallelSuccessNumber}get remain(){return this.isComplete?this.total:this.total-this.finishedIndex}get percent(){const{total:t}=this;let n=0,r=0;for(let i=0;i<t;i++)i<=this.finishedIndex?(r+=this.list[i].time,i===this.finishedIndex&&(n=r)):n+=this.list[i].time;return this.isComplete?1:r/n}constructor(t){this.config={parallel:6},this.list=[],this.running=!1,this.isComplete=!0,this.index=0,this.delayNumber=0,t&&Be.assign(this.config,t),this.empty()}add(t,n){let r,i,o,s;const a=new tw(t);return a.parent=this,typeof n=="number"?s=n:n&&(i=n.parallel,r=n.start,o=n.time,s=n.delay),o&&(a.time=o),i===!1&&(a.parallel=!1),s===void 0?this.push(a,r):(this.delayNumber++,setTimeout(()=>{this.delayNumber&&(this.delayNumber--,this.push(a,r))},s)),this.isComplete=!1,a}push(t,n){this.list.push(t),n!==!1&&!this.timer&&(this.timer=setTimeout(()=>this.start()))}empty(){this.index=0,this.parallelSuccessNumber=0,this.list=[],this.parallelList=[],this.delayNumber=0}start(){this.running||(this.running=!0,this.isComplete=!1,this.run())}pause(){clearTimeout(this.timer),this.timer=null,this.running=!1}resume(){this.start()}skip(){this.index++,this.resume()}stop(){this.isComplete=!0,this.list.forEach(t=>{t.isComplete||t.cancel()}),this.pause(),this.empty()}run(){this.running&&(this.setParallelList(),this.parallelList.length>1?this.runParallelTasks():this.remain?this.runTask():this.onComplete())}runTask(){const t=this.list[this.index];if(!t){this.nextTask();return}t.run().then(()=>{this.onTask(t),this.index++,this.nextTask()}).catch(n=>{this.onError(n)})}runParallelTasks(){this.parallelList.forEach(t=>this.runParallelTask(t))}runParallelTask(t){t.run().then(()=>{this.onTask(t),this.fillParallelTask()}).catch(n=>{this.onParallelError(n)})}nextTask(){this.total===this.finishedIndex?this.onComplete():this.timer=setTimeout(()=>this.run())}setParallelList(){let t;this.parallelList=[],this.parallelSuccessNumber=0;let n=this.index+this.config.parallel;n>this.list.length&&(n=this.list.length);for(let r=this.index;r<n&&(t=this.list[r],t.parallel);r++)this.parallelList.push(t)}fillParallelTask(){let t;const n=this.parallelList;this.parallelSuccessNumber++,n.pop();const r=n.length,i=this.finishedIndex+r;if(n.length){if(!this.running)return;i<this.total&&(t=this.list[i],t&&t.parallel&&(n.push(t),this.runParallelTask(t)))}else this.index+=this.parallelSuccessNumber,this.parallelSuccessNumber=0,this.nextTask()}onComplete(){this.stop(),this.config.onComplete&&this.config.onComplete()}onTask(t){t.complete(),this.config.onTask&&this.config.onTask()}onParallelError(t){this.parallelList.forEach(n=>{n.parallel=!1}),this.parallelList.length=0,this.parallelSuccessNumber=0,this.onError(t)}onError(t){this.pause(),this.config.onError&&this.config.onError(t)}destroy(){this.stop()}}const cr={map:{},recycledList:[],tasker:new Ru,patternTasker:new Ru,get isComplete(){return Ur.tasker.isComplete},get(e){let t=Ur.map[e.url];return t||(t=Ce.image(e),Ur.map[e.url]=t),t.use++,t},recycle(e){e.use--,setTimeout(()=>{e.use||Ur.recycledList.push(e)})},clearRecycled(){const e=Ur.recycledList;e.length&&(e.forEach(t=>{!t.use&&t.url&&(delete Ur.map[t.url],t.destroy())}),e.length=0)},isPixel(e){return Ai.opacityTypes.some(t=>Ur.isFormat(t,e))},isFormat(e,t){if(t.format===e)return!0;const{url:n}=t;if(n.startsWith("data:")){if(n.startsWith("data:"+Ai.mineType(e)))return!0}else if(n.includes("."+e)||n.includes("."+Ai.upperCaseTypeMap[e]))return!0;return!1},destroy(){Ur.map={}}},Ur=cr,{IMAGE:ew,create:nw}=Lr;class rw{get url(){return this.config.url}get completed(){return this.ready||!!this.error}constructor(t){this.use=0,this.waitComplete=[],this.innerId=nw(ew),this.config=t||{url:""},this.isSVG=cr.isFormat("svg",t)}load(t,n){return this.loading||(this.loading=!0,cr.tasker.add(()=>$m(this,void 0,void 0,function*(){return yield ut.origin.loadImage(this.url).then(r=>{this.ready=!0,this.width=r.naturalWidth||r.width,this.height=r.naturalHeight||r.height,this.view=r,this.onComplete(!0)}).catch(r=>{this.error=r,this.onComplete(!1)})}))),this.waitComplete.push(t,n),this.waitComplete.length-2}unload(t,n){const r=this.waitComplete;if(n){const i=r[t+1];i&&i({type:"stop"})}r[t]=r[t+1]=void 0}onComplete(t){let n;this.waitComplete.forEach((r,i)=>{n=i%2,r&&(t?n||r(this):n&&r(this.error))}),this.waitComplete.length=0,this.loading=!1}getCanvas(t,n,r,i){t||(t=this.width),n||(n=this.height);const o=ut.origin.createCanvas(t,n),s=o.getContext("2d");return r&&(s.globalAlpha=r),s.drawImage(this.view,0,0,t,n),o}destroy(){this.config={url:""},this.waitComplete.length=0}}let pr=class{constructor(t,n){this.bubbles=!1,this.type=t,n&&(this.target=n)}stopDefault(){this.isStopDefault=!0,this.origin&&ut.event.stopDefault(this.origin)}stopNow(){this.isStopNow=!0,this.isStop=!0,this.origin&&ut.event.stopNow(this.origin)}stop(){this.isStop=!0,this.origin&&ut.event.stop(this.origin)}};class Or extends pr{constructor(t,n,r){super(t,n),this.parent=r,this.child=n}}Or.ADD="child.add";Or.REMOVE="child.remove";class Ds extends pr{constructor(t,n,r,i,o){super(t,n),this.attrName=r,this.oldValue=i,this.newValue=o}}Ds.CHANGE="property.change";class Pn extends pr{constructor(t,n){super(t),Object.assign(this,n)}}Pn.LOAD="image.load";Pn.LOADED="image.loaded";Pn.ERROR="image.error";class Xi extends pr{get bigger(){if(!this.old)return!0;const{width:t,height:n}=this.old;return this.width>=t&&this.height>=n}get smaller(){return!this.bigger}get samePixelRatio(){return this.old?this.pixelRatio===this.old.pixelRatio:!0}constructor(t,n){typeof t=="object"?(super(Xi.RESIZE),Object.assign(this,t)):super(t),this.old=n}}Xi.RESIZE="resize";class ti extends pr{constructor(t,n){super(t),this.data=n}}ti.REQUEST="watch.request";ti.DATA="watch.data";class Gt extends pr{constructor(t,n,r){super(t),n&&(this.data=n,this.times=r)}}Gt.CHECK_UPDATE="layout.check_update";Gt.REQUEST="layout.request";Gt.START="layout.start";Gt.BEFORE="layout.before";Gt.LAYOUT="layout";Gt.AFTER="layout.after";Gt.AGAIN="layout.again";Gt.END="layout.end";class Nh extends pr{}Nh.FRAME="animate.frame";class Qt extends pr{constructor(t,n,r,i){super(t),n&&(this.times=n),r&&(this.renderBounds=r,this.renderOptions=i)}}Qt.REQUEST="render.request";Qt.START="render.start";Qt.BEFORE="render.before";Qt.RENDER="render";Qt.AFTER="render.after";Qt.AGAIN="render.again";Qt.END="render.end";class de extends pr{}de.START="leafer.start";de.BEFORE_READY="leafer.before_ready";de.READY="leafer.ready";de.AFTER_READY="leafer.after_ready";de.VIEW_READY="leafer.view_ready";de.VIEW_COMPLETED="leafer.view_completed";de.STOP="leafer.stop";de.RESTART="leafer.restart";de.END="leafer.end";const Aa={},Eo={isHoldSpaceKey(){return Eo.isHold("Space")},isHold(e){return Aa[e]},setDownCode(e){Aa[e]||(Aa[e]=!0)},setUpCode(e){Aa[e]=!1}},tn={LEFT:1,RIGHT:2,MIDDLE:4,defaultLeft(e){e.buttons||(e.buttons=1)},left(e){return e.buttons===1},right(e){return e.buttons===2},middle(e){return e.buttons===4}};class Zl extends pr{get spaceKey(){return Eo.isHoldSpaceKey()}get left(){return tn.left(this)}get right(){return tn.right(this)}get middle(){return tn.middle(this)}constructor(t){super(t.type),this.bubbles=!0,Object.assign(this,t)}getInner(t){return t||(t=this.current),t.getInnerPoint(this)}getLocal(t){return t||(t=this.current),t.getLocalPoint(this)}static changeName(t,n){As.changeName(t,n)}}function Xm(e,t,n){Object.defineProperty(e,t,n)}function Vm(e,t){return Object.getOwnPropertyDescriptor(e,t)}function iw(e){return Object.getOwnPropertyNames(e)}function Pe(e,t,n,r){Xm(e,t,Object.assign({get(){return this.__getAttr(t)},set(o){this.__setAttr(t,o)},configurable:!0,enumerable:!0},r||{})),tv(e,t,n)}function Vi(e){return(t,n)=>{Pe(t,n,e)}}function Zm(e){return(t,n)=>{Pe(t,n,e,{set(r){this.__setAttr(n,r),this.__layout.matrixChanged||this.__layout.matrixChange()}})}}function sw(e){return(t,n)=>{Pe(t,n,e,{set(r){this.__setAttr(n,r),this.__layout.matrixChanged||this.__layout.matrixChange(),this.__hasAutoLayout=!!r}})}}function Jm(e){return(t,n)=>{Pe(t,n,e,{set(r){this.__setAttr(n,r),this.__layout.scaleChanged||this.__layout.scaleChange()}})}}function Fh(e){return(t,n)=>{Pe(t,n,e,{set(r){this.__setAttr(n,r),this.__layout.rotationChanged||this.__layout.rotationChange()}})}}function te(e){return(t,n)=>{Pe(t,n,e,{set(r){this.__setAttr(n,r),this.__layout.boxChanged||this.__layout.boxChange(),this.__hasAutoLayout&&(this.__layout.matrixChanged||this.__layout.matrixChange())}})}}const cn=te;function Jl(e){return(t,n)=>{Pe(t,n,e,{set(r){this.__setAttr(n,r),this.__layout.strokeChanged||this.__layout.strokeChange()}})}}const Kn=Jl;function Qm(e){return(t,n)=>{Pe(t,n,e,{set(r){this.__setAttr(n,r),this.__layout.renderChanged||this.__layout.renderChange()}})}}function kh(e){return(t,n)=>{Pe(t,n,e,{set(r){this.__setAttr(n,r),this.__layout.surfaceChanged||this.__layout.surfaceChange()}})}}function qm(e){return(t,n)=>{Pe(t,n,e,{set(r){this.__setAttr(n,r),this.__layout.opacityChanged||this.__layout.opacityChange()}})}}function ow(e){return(t,n)=>{Pe(t,n,e,{set(r){this.__setAttr(n,r),this.__layout.surfaceChanged||this.__layout.surfaceChange(),this.waitParent(()=>{this.parent.__layout.childrenSortChange()})}})}}function aw(e){return(t,n)=>{Pe(t,n,e,{set(r){this.__setAttr(n,r),this.__layout.boxChanged||this.__layout.boxChange(),this.waitParent(()=>{this.parent.__updateMask(r)})}})}}function lw(e){return(t,n)=>{Pe(t,n,e,{set(r){this.__setAttr(n,r),this.waitParent(()=>{this.parent.__updateEraser(r)})}})}}function di(e){return(t,n)=>{Pe(t,n,e,{set(r){this.__setAttr(n,r),Kt.showHitView&&(this.__layout.surfaceChanged||this.__layout.surfaceChange()),this.leafer&&this.leafer.updateCursor()}})}}function cw(e){return(t,n)=>{Pe(t,n,e,{set(r){this.__setAttr(n,r),this.leafer&&this.leafer.updateCursor()}})}}function ze(e){return(t,n)=>{Xm(t,"__DataProcessor",{get(){return e}})}}function uw(e){return"set"+e.charAt(0).toUpperCase()+e.slice(1)}function tv(e,t,n){const r=e.__DataProcessor.prototype,i="_"+t,o=uw(t),s={get(){const c=this[i];return c===void 0?n:c},set(c){this[i]=c},configurable:!0,enumerable:!0};n===void 0?s.get=function(){return this[i]}:t==="width"?s.get=function(){const c=this[i];return c===void 0?this.__naturalWidth||n:c}:t==="height"&&(s.get=function(){const c=this[i];return c===void 0?this.__naturalHeight||n:c});let a,l=r;for(;!a&&l;)a=Vm(l,t),l=l.__proto__;a&&a.set&&(s.set=a.set),r[o]&&(s.set=r[o],delete r[o]),Object.defineProperty(r,t,s)}const hw=new Kt("rewrite"),Ka=[],fw=["destroy","constructor"];function Ge(e){return(t,n)=>{Ka.push({name:t.constructor.name+"."+n,run:()=>{t[n]=e}})}}function Ql(){return e=>{ev()}}function ev(e){Ka.length&&(Ka.forEach(t=>{e&&hw.error(t.name,"需在Class上装饰@rewriteAble()"),t.run()}),Ka.length=0)}setTimeout(()=>ev(!0));function en(e,t){return n=>{(e.prototype?iw(e.prototype):Object.keys(e)).forEach(i=>{!fw.includes(i)&&(!t||!t.includes(i))&&(e.prototype?Vm(e.prototype,i).writable&&(n.prototype[i]=e.prototype[i]):n.prototype[i]=e[i])})}}function Ye(){return e=>{Vl.register(e)}}function pi(){return e=>{As.register(e)}}let mt=class extends Zl{};mt.POINTER="pointer";mt.BEFORE_DOWN="pointer.before_down";mt.BEFORE_MOVE="pointer.before_move";mt.BEFORE_UP="pointer.before_up";mt.DOWN="pointer.down";mt.MOVE="pointer.move";mt.UP="pointer.up";mt.OVER="pointer.over";mt.OUT="pointer.out";mt.ENTER="pointer.enter";mt.LEAVE="pointer.leave";mt.TAP="tap";mt.DOUBLE_TAP="double_tap";mt.CLICK="click";mt.DOUBLE_CLICK="double_click";mt.LONG_PRESS="long_press";mt.LONG_TAP="long_tap";mt.MENU="pointer.menu";mt=q([pi()],mt);const Da={};let Ut=class extends mt{static setList(t){this.list=t instanceof Ee?t:new Ee(t)}static setData(t){this.data=t}getInnerMove(t,n){return t||(t=this.current),this.assignMove(n),t.getInnerPoint(Da,null,!0)}getLocalMove(t,n){return t||(t=this.current),this.assignMove(n),t.getLocalPoint(Da,null,!0)}getInnerTotal(t){return this.getInnerMove(t,!0)}getLocalTotal(t){return this.getLocalMove(t,!0)}assignMove(t){Da.x=t?this.totalX:this.moveX,Da.y=t?this.totalY:this.moveY}};Ut.BEFORE_DRAG="drag.before_drag";Ut.START="drag.start";Ut.DRAG="drag";Ut.END="drag.end";Ut.OVER="drag.over";Ut.OUT="drag.out";Ut.ENTER="drag.enter";Ut.LEAVE="drag.leave";Ut=q([pi()],Ut);let jo=class extends mt{static setList(t){Ut.setList(t)}static setData(t){Ut.setData(t)}};jo.DROP="drop";jo=q([pi()],jo);let Fe=class extends Ut{};Fe.BEFORE_MOVE="move.before_move";Fe.START="move.start";Fe.MOVE="move";Fe.END="move.end";Fe=q([pi()],Fe);let ir=class extends Zl{};ir.BEFORE_ROTATE="rotate.before_rotate";ir.START="rotate.start";ir.ROTATE="rotate";ir.END="rotate.end";ir=q([pi()],ir);let Un=class extends Ut{};Un.SWIPE="swipe";Un.LEFT="swipe.left";Un.RIGHT="swipe.right";Un.UP="swipe.up";Un.DOWN="swipe.down";Un=q([pi()],Un);let rn=class extends Zl{};rn.BEFORE_ZOOM="zoom.before_zoom";rn.START="zoom.start";rn.ZOOM="zoom";rn.END="zoom.end";rn=q([pi()],rn);let ei=class extends Zl{};ei.DOWN="key.down";ei.HOLD="key.hold";ei.UP="key.up";ei=q([pi()],ei);class dw{constructor(t){this.interaction=t}move(t){const{interaction:n}=this;if(!this.moveData){const{path:r}=n.selector.getByPoint(t,n.hitRadius);t.path=r,this.moveData=Object.assign(Object.assign({},t),{moveX:0,moveY:0}),n.emit(Fe.START,this.moveData)}t.path=this.moveData.path,n.emit(Fe.BEFORE_MOVE,t),n.emit(Fe.MOVE,t),this.transformEndWait()}zoom(t){const{interaction:n}=this;if(!this.zoomData){const{path:r}=n.selector.getByPoint(t,n.hitRadius);t.path=r,this.zoomData=Object.assign(Object.assign({},t),{scale:1}),n.emit(rn.START,this.zoomData)}t.path=this.zoomData.path,n.emit(rn.BEFORE_ZOOM,t),n.emit(rn.ZOOM,t),this.transformEndWait()}rotate(t){const{interaction:n}=this;if(!this.rotateData){const{path:r}=n.selector.getByPoint(t,n.hitRadius);t.path=r,this.rotateData=Object.assign(Object.assign({},t),{rotation:0}),n.emit(ir.START,this.rotateData)}t.path=this.rotateData.path,n.emit(ir.BEFORE_ROTATE,t),n.emit(ir.ROTATE,t),this.transformEndWait()}transformEndWait(){clearTimeout(this.transformTimer),this.transformTimer=setTimeout(()=>{this.transformEnd()},this.interaction.config.pointer.transformTime)}transformEnd(){this.moveEnd(),this.zoomEnd(),this.rotateEnd()}moveEnd(){this.moveData&&(this.interaction.emit(Fe.END,this.moveData),this.moveData=null)}zoomEnd(){this.zoomData&&(this.interaction.emit(rn.END,this.zoomData),this.zoomData=null)}rotateEnd(){this.rotateData&&(this.interaction.emit(ir.END,this.rotateData),this.rotateData=null)}destroy(){this.zoomData=this.moveData=this.rotateData=null}}const{copy:Js,toInnerPoint:pw,scaleOfOuter:gw,rotateOfOuter:mw,skewOfOuter:vw,multiplyParent:yw,divideParent:xw,getLayout:bw}=Pt,$e={},an={updateAllMatrix(e,t,n){if(t&&e.__hasAutoLayout&&e.__layout.matrixChanged&&(n=!0),ww(e,t,n),e.isBranch){const{children:r}=e;for(let i=0,o=r.length;i<o;i++)_w(r[i],t,n)}},updateMatrix(e,t,n){const r=e.__layout;t?n&&(r.waitAutoLayout=!0,e.__hasAutoLayout&&(r.matrixChanged=!1)):r.waitAutoLayout&&(r.waitAutoLayout=!1),r.matrixChanged&&e.__updateLocalMatrix(),r.waitAutoLayout||e.__updateWorldMatrix()},updateBounds(e){const t=e.__layout;t.boundsChanged&&e.__updateLocalBounds(),t.waitAutoLayout||e.__updateWorldBounds()},updateAllWorldOpacity(e){if(e.__updateWorldOpacity(),e.isBranch){const{children:t}=e;for(let n=0,r=t.length;n<r;n++)Cd(t[n])}},updateAllChange(e){if(Cd(e),e.__updateChange(),e.isBranch){const{children:t}=e;for(let n=0,r=t.length;n<r;n++)Ew(t[n])}},worldHittable(e){for(;e;){if(!e.__.hittable)return!1;e=e.parent}return!0},moveWorld(e,t,n){const r={x:t,y:n};e.parent&&pw(e.parent.worldTransform,r,r,!0),Xa.moveLocal(e,r.x,r.y)},moveLocal(e,t,n=0){e.x+=t,e.y+=n},zoomOfWorld(e,t,n,r,i){this.zoomOfLocal(e,Mc(e,t),n,r,i)},zoomOfLocal(e,t,n,r=n,i){Js($e,e.__localMatrix),gw($e,t,n,r),Pd(e,$e),e.scaleResize(n,r,i!==!0)},rotateOfWorld(e,t,n){this.rotateOfLocal(e,Mc(e,t),n)},rotateOfLocal(e,t,n){Js($e,e.__localMatrix),mw($e,t,n),Pd(e,$e),e.rotation=Yi.formatRotation(e.rotation+n)},skewOfWorld(e,t,n,r,i){this.skewOfLocal(e,Mc(e,t),n,r,i)},skewOfLocal(e,t,n,r=0,i){Js($e,e.__localMatrix),vw($e,t,n,r),Xa.setTransform(e,$e,i)},transform(e,t,n){Js($e,e.localTransform),yw($e,t),Xa.setTransform(e,$e,n)},setTransform(e,t,n){const r=bw(t);n&&(e.scaleResize(r.scaleX/e.scaleX,r.scaleY/e.scaleY,n!==!0),delete r.scaleX,delete r.scaleY),e.set(r)},drop(e,t,n,r){Js($e,e.worldTransform),xw($e,t.worldTransform),e.setTransform($e,r),t.add(e,n)},hasParent(e,t){if(!t)return!1;for(;e;){if(t===e)return!0;e=e.parent}},hasParentAutoLayout(e){for(;e.parent;)if(e=e.parent,e.__hasAutoLayout)return!0}},Xa=an,{updateAllMatrix:_w,updateMatrix:ww,updateAllWorldOpacity:Cd,updateAllChange:Ew}=Xa;function Pd(e,t){const{e:n,f:r}=e.__localMatrix;e.x+=t.e-n,e.y+=t.f-r}function Mc(e,t){return e.__layout.update(),e.parent?ge.tempToInnerOf(t,e.parent.__world):t}const nv={worldBounds(e){return e.__world},localBoxBounds(e){return e.__.isEraser?null:e.__local||e.__},localStrokeBounds(e){return e.__.isEraser?null:e.__layout.localStrokeBounds},localRenderBounds(e){return e.__.isEraser?null:e.__layout.localRenderBounds},maskLocalBoxBounds(e){return e.__.isMask?e.__localBounds:null},maskLocalStrokeBounds(e){return e.__.isMask?e.__layout.localStrokeBounds:null},maskLocalRenderBounds(e){return e.__.isMask?e.__layout.localRenderBounds:null}},{updateBounds:Td}=an,na={sort(e,t){return e.__.zIndex===t.__.zIndex?e.__tempNumber-t.__tempNumber:e.__.zIndex-t.__.zIndex},pushAllChildBranch(e,t){if(e.__tempNumber=1,e.__.__childBranchNumber){const{children:n}=e;for(let r=0,i=n.length;r<i;r++)e=n[r],e.isBranch&&(e.__tempNumber=1,t.add(e),Sw(e,t))}},pushAllParent(e,t){const{keys:n}=t;if(n)for(;e.parent&&n[e.parent.innerId]===void 0;)t.add(e.parent),e=e.parent;else for(;e.parent;)t.add(e.parent),e=e.parent},pushAllBranchStack(e,t){let n=t.length;const{children:r}=e;for(let i=0,o=r.length;i<o;i++)r[i].isBranch&&t.push(r[i]);for(let i=n,o=t.length;i<o;i++)Ld(t[i],t)},updateBounds(e,t){const n=[e];Ld(e,n),Ow(n,t)},updateBoundsByBranchStack(e,t){let n,r;for(let i=e.length-1;i>-1;i--){n=e[i],r=n.children;for(let o=0,s=r.length;o<s;o++)Td(r[o]);t&&t===n||Td(n)}}},{pushAllChildBranch:Sw,pushAllBranchStack:Ld,updateBoundsByBranchStack:Ow}=na,ms={run(e){for(let t=0,n=e.length;t<n;t++)e[t]();e.length=0}},Yn={getMoveEventData(e,t,n){return Object.assign(Object.assign({},n),{x:e.x,y:e.y,moveX:t.x,moveY:t.y})},getRotateEventData(e,t,n){return Object.assign(Object.assign({},n),{x:e.x,y:e.y,rotation:t})},getZoomEventData(e,t,n){return Object.assign(Object.assign({},n),{x:e.x,y:e.y,scale:t})},getDragEventData(e,t,n){return Object.assign(Object.assign({},n),{x:n.x,y:n.y,moveX:n.x-t.x,moveY:n.y-t.y,totalX:n.x-e.x,totalY:n.y-e.y})},getDropEventData(e,t,n){return Object.assign(Object.assign({},e),{list:t,data:n})},getSwipeDirection(e){return e<-45&&e>-135?Un.UP:e>45&&e<135?Un.DOWN:e<=45&&e>=-45?Un.RIGHT:Un.LEFT},getSwipeEventData(e,t,n){return Object.assign(Object.assign({},n),{moveX:t.moveX,moveY:t.moveY,totalX:n.x-e.x,totalY:n.y-e.y,type:Cw.getSwipeDirection(ge.getAngle(e,n))})},getBase(e){return{altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,buttons:e.buttons===void 0?1:e.buttons,origin:e}},pathHasEventType(e,t){const{list:n}=e;for(let r=0,i=n.length;r<i;r++)if(n[r].hasEvent(t))return!0;return!1},filterPathByEventType(e,t){const n=new Ee,{list:r}=e;for(let i=0,o=r.length;i<o;i++)r[i].hasEvent(t)&&n.add(r[i]);return n}},Cw=Yn,Rd=new Ee,{getDragEventData:Ic,getDropEventData:Pw,getSwipeEventData:Tw}=Yn;class Lw{constructor(t){this.interaction=t}setDragData(t){this.dragData=Ic(t,t,t)}getList(){const{proxy:t}=this.interaction.selector;return this.dragging&&(!t||!t.list.length)&&(Ut.list||this.dragableList)||Rd}checkDrag(t,n){const{interaction:r}=this,{downData:i}=r;if(this.moving&&!(tn.middle(t)||tn.left(t))){r.pointerCancel();return}const{dragData:o}=this;this.moving||(this.moving=(tn.middle(t)||r.moveMode)&&n,this.moving&&r.emit(Fe.START,o)),this.moving||this.dragStart(t,n);const{path:s,throughPath:a}=i;this.dragData=Ic(i,o,t),a&&(this.dragData.throughPath=a),this.dragData.path=s,this.moving?(r.emit(Fe.BEFORE_MOVE,this.dragData),r.emit(Fe.MOVE,this.dragData)):this.dragging&&(this.realDrag(),r.emit(Ut.BEFORE_DRAG,this.dragData),r.emit(Ut.DRAG,this.dragData))}dragStart(t,n){this.dragging||(this.dragging=tn.left(t)&&n,this.dragging&&(this.interaction.emit(Ut.START,this.dragData),this.getDragableList(this.dragData.path)))}getDragableList(t){let n;for(let r=0,i=t.length;r<i;r++)if(n=t.list[r],(n.__.draggable||n.__.editable)&&n.__.hitSelf){this.dragableList=new Ee(n);break}}realDrag(){const{running:t}=this.interaction,n=this.getList();if(n.length&&t){const{moveX:r,moveY:i}=this.dragData;n.forEach(o=>an.moveWorld(o,r,i))}}dragOverOrOut(t){const{interaction:n}=this,{dragOverPath:r}=this,{path:i}=t;r?i.indexAt(0)!==r.indexAt(0)&&(n.emit(Ut.OUT,t,r),n.emit(Ut.OVER,t,i)):n.emit(Ut.OVER,t,i),this.dragOverPath=i}dragEnterOrLeave(t){const{interaction:n}=this,{dragEnterPath:r}=this,{path:i}=t;n.emit(Ut.LEAVE,t,r,i),n.emit(Ut.ENTER,t,i,r),this.dragEnterPath=i}dragEnd(t){const{interaction:n}=this,{downData:r}=n;if(!r)return;const{path:i,throughPath:o}=r,s=Ic(r,t,t);o&&(s.throughPath=o),s.path=i,this.moving&&n.emit(Fe.END,s),this.dragging&&(n.emit(Ut.END,s),this.swipe(t,s),this.drop(t)),this.autoMoveCancel(),this.dragReset()}swipe(t,n){const{interaction:r}=this,{downData:i}=r;if(ge.getDistance(i,t)>r.config.pointer.swipeDistance){const o=Tw(i,this.dragData,n);this.interaction.emit(o.type,o)}}drop(t){const n=Pw(t,this.getList(),Ut.data);n.path=this.dragEnterPath,this.interaction.emit(jo.DROP,n),this.interaction.emit(Ut.LEAVE,t,this.dragEnterPath)}dragReset(){Ut.list=Ut.data=this.dragableList=this.dragData=this.dragOverPath=this.dragEnterPath=null,this.dragging=this.moving=!1}checkDragOut(t){const{interaction:n}=this;this.autoMoveCancel(),this.dragging&&!n.shrinkCanvasBounds.hitPoint(t)&&this.autoMoveOnDragOut(t)}autoMoveOnDragOut(t){const{interaction:n}=this,{downData:r}=n,{autoDistance:i,dragOut:o}=n.config.move;if(!o||!i)return;const s=n.shrinkCanvasBounds,{x:a,y:l}=s,c=_t.maxX(s),h=_t.maxY(s),u=t.x<a?i:c<t.x?-i:0,f=t.y<l?i:h<t.y?-i:0;let d=0,g=0;this.autoMoveTimer=setInterval(()=>{d+=u,g+=f,ge.move(r,u,f),ge.move(this.dragData,u,f),n.move(Object.assign(Object.assign({},t),{moveX:u,moveY:f,totalX:d,totalY:g})),n.pointerMoveReal(t)},10)}autoMoveCancel(){this.autoMoveTimer&&(clearInterval(this.autoMoveTimer),this.autoMoveTimer=0)}destroy(){this.dragReset()}}const Rw=Kt.get("emit");function Mw(e,t,n,r){if(!n&&!t.path)return;let i;t.type=e,n?t=Object.assign(Object.assign({},t),{path:n}):n=t.path,t.target=n.indexAt(0);try{for(let o=n.length-1;o>-1;o--){if(i=n.list[o],Mu(i,e,t,!0,r))return;i.isApp&&Md(i,e,t,!0,r)}for(let o=0,s=n.length;o<s;o++)if(i=n.list[o],i.isApp&&Md(i,e,t,!1,r),Mu(i,e,t,!1,r))return}catch(o){Rw.error(o)}}const Iw=["move","zoom","rotate","key"];function Md(e,t,n,r,i){if(Iw.some(o=>t.startsWith(o))&&e.__.hitChildren&&!rv(e,i)){let o;for(let s=0,a=e.children.length;s<a;s++)o=e.children[s],!n.path.has(o)&&o.__.hittable&&Mu(o,t,n,r,i)}}function Mu(e,t,n,r,i){if(e.destroyed)return!0;if(e.__.hitSelf&&e.hasEvent(t,r)&&!rv(e,i)){n.phase=r?1:e===n.target?2:3;const o=As.get(t,n);if(e.emitEvent(o,r),o.isStop)return!0}return!1}function rv(e,t){return t&&t.has(e)}const Aw={getData(e){const t=e[0],n=e[1],r=ge.getCenter(t.from,n.from),i=ge.getCenter(t.to,n.to),o={x:i.x-r.x,y:i.y-r.y},s=ge.getDistance(t.from,n.from),l=ge.getDistance(t.to,n.to)/s,c=ge.getRotation(t.from,n.from,t.to,n.to);return{move:o,scale:l,angle:c,center:i}}},Dw={wheel:{zoomMode:!1,zoomSpeed:.5,moveSpeed:.5,rotateSpeed:.5,delta:ut.os==="Windows"?{x:150/4,y:150/4}:{x:80/4,y:8},preventDefault:!0},pointer:{hitRadius:5,through:!1,tapTime:120,longPressTime:800,transformTime:500,dragHover:!0,dragDistance:2,swipeDistance:20,ignoreMove:!1},cursor:{}},{pathHasEventType:Id,getMoveEventData:Bw,getZoomEventData:Nw,getRotateEventData:Fw}=Yn;class kw{get dragging(){return this.dragger.dragging}get isDragEmpty(){return this.config.move.dragEmpty&&this.hoverData&&this.hoverData.path.list[0].isLeafer&&(!this.downData||this.downData.path.list[0].isLeafer)}get moveMode(){return this.config.move.drag||this.config.move.holdSpaceKey&&Eo.isHoldSpaceKey()||this.downData&&tn.middle(this.downData)||this.isDragEmpty}get hitRadius(){return this.config.pointer.hitRadius}constructor(t,n,r,i){this.config=Dw,this.tapCount=0,this.downKeyMap={},this.target=t,this.canvas=n,this.selector=r,this.defaultPath=new Ee(t),this.transformer=new dw(this),this.dragger=new Lw(this),i&&(this.config=Be.default(i,this.config)),this.__listenEvents()}start(){this.running=!0}stop(){this.running=!1}receive(t){}pointerDown(t,n){t||(t=this.hoverData),t&&(tn.defaultLeft(t),this.updateDownData(t),n&&(t.path=this.defaultPath),this.emit(mt.BEFORE_DOWN,t),this.emit(mt.DOWN,t),this.downTime=Date.now(),this.dragger.setDragData(t),tn.left(t)&&(this.tapWait(),this.longPressWait(t)),this.updateCursor(t))}pointerMove(t){if(t||(t=this.hoverData),!t)return;this.downData&&tn.defaultLeft(t);const n=this.canvas.bounds.hitPoint(t);(n||this.downData)&&(n&&!this.downData&&tn.left(t)&&this.pointerDown(t,!0),this.pointerMoveReal(t),this.dragger.checkDragOut(t))}pointerMoveReal(t){if(this.emit(mt.BEFORE_MOVE,t,this.defaultPath),this.downData){const n=ge.getDistance(this.downData,t)>this.config.pointer.dragDistance;this.waitTap&&n&&this.pointerWaitCancel(),tn.right(this.downData)||this.dragger.checkDrag(t,n)}this.dragger.moving||this.config.pointer.ignoreMove||(this.updateHoverData(t),this.emit(mt.MOVE,t),this.pointerOverOrOut(t),this.pointerEnterOrLeave(t),this.dragger.dragging&&(this.dragger.dragOverOrOut(t),this.dragger.dragEnterOrLeave(t)),this.updateCursor(t))}pointerUp(t){t||(t=this.downData),this.downData&&(tn.defaultLeft(t),this.findPath(t),this.emit(mt.BEFORE_UP,t),this.emit(mt.UP,t),this.emit(mt.UP,this.downData,void 0,t.path),this.touchLeave(t),this.tap(t),this.dragger.dragEnd(t),this.downData=null,this.updateCursor(t))}pointerCancel(){this.pointerUp(this.dragger.dragData)}multiTouch(t,n){const{move:r,angle:i,scale:o,center:s}=Aw.getData(n);this.rotate(Fw(s,i,t)),this.zoom(Nw(s,o,t)),this.move(Bw(s,r,t))}menu(t){this.findPath(t),this.emit(mt.MENU,t)}move(t){this.transformer.move(t)}zoom(t){this.transformer.zoom(t)}rotate(t){this.transformer.rotate(t)}transformEnd(){this.transformer.transformEnd()}keyDown(t){const{code:n}=t;this.downKeyMap[n]||(this.downKeyMap[n]=!0,Eo.setDownCode(n),this.emit(ei.HOLD,t,this.defaultPath),this.moveMode&&this.updateCursor()),this.emit(ei.DOWN,t,this.defaultPath)}keyUp(t){const{code:n}=t;this.downKeyMap[n]=!1,Eo.setUpCode(n),this.emit(ei.UP,t,this.defaultPath),this.cursor==="grab"&&this.updateCursor()}pointerOverOrOut(t){if(this.dragger.moving||this.dragging&&!this.config.pointer.dragHover)return;const{path:n}=t;this.overPath?n.indexAt(0)!==this.overPath.indexAt(0)&&(this.emit(mt.OUT,t,this.overPath),this.emit(mt.OVER,t,n)):this.emit(mt.OVER,t,n),this.overPath=n}pointerEnterOrLeave(t){if(this.dragger.moving||this.dragging&&!this.config.pointer.dragHover)return;const{path:n}=t;this.emit(mt.LEAVE,t,this.enterPath,n),this.emit(mt.ENTER,t,n,this.enterPath),this.enterPath=n}touchLeave(t){t.pointerType==="touch"&&this.enterPath&&(this.emit(mt.LEAVE,t),this.dragger.dragging&&this.emit(jo.LEAVE,t))}tap(t){const{pointer:n}=this.config,r=this.longTap(t);if(!n.tapMore&&r||!this.waitTap)return;n.tapMore&&this.emitTap(t);const i=Date.now()-this.downTime,o=[mt.DOUBLE_TAP,mt.DOUBLE_CLICK].some(s=>Id(t.path,s));i<n.tapTime+50&&o?(this.tapCount++,this.tapCount===2?(this.tapWaitCancel(),this.emitDoubleTap(t)):(clearTimeout(this.tapTimer),this.tapTimer=setTimeout(()=>{n.tapMore||(this.tapWaitCancel(),this.emitTap(t))},n.tapTime))):n.tapMore||(this.tapWaitCancel(),this.emitTap(t))}findPath(t,n){const{hitRadius:r,through:i}=this.config.pointer,o=this.selector.getByPoint(t,r,n||{through:i});return o.throughPath&&(t.throughPath=o.throughPath),t.path=o.path,o.path}isDrag(t){return this.dragger.getList().has(t)}updateDownData(t){t||(t=this.downData),t&&(this.findPath(t),this.downData=t)}updateHoverData(t){t||(t=this.hoverData),t&&(this.findPath(t,{exclude:this.dragger.getList(),name:mt.MOVE}),this.hoverData=t)}updateCursor(t){if(this.config.cursor.stop)return;if(t||(this.updateHoverData(),t=this.hoverData),this.dragger.moving)return this.setCursor("grabbing");if(this.moveMode)return this.setCursor(this.downData?"grabbing":"grab");if(!t||this.dragger.dragging)return;let n,r;const{path:i}=t;for(let o=0,s=i.length;o<s&&(n=i.list[o],r=n.cursor,!r);o++);this.setCursor(r)}setCursor(t){this.cursor=t,this.canvas.setCursor(t)}emitTap(t){this.emit(mt.TAP,t),this.emit(mt.CLICK,t)}emitDoubleTap(t){this.emit(mt.DOUBLE_TAP,t),this.emit(mt.DOUBLE_CLICK,t)}pointerWaitCancel(){this.tapWaitCancel(),this.longPressWaitCancel()}tapWait(){clearTimeout(this.tapTimer),this.waitTap=!0}tapWaitCancel(){clearTimeout(this.tapTimer),this.waitTap=!1,this.tapCount=0}longPressWait(t){clearTimeout(this.longPressTimer),this.longPressTimer=setTimeout(()=>{this.longPressed=!0,this.emit(mt.LONG_PRESS,t)},this.config.pointer.longPressTime)}longTap(t){let n;return this.longPressed&&(this.emit(mt.LONG_TAP,t),Id(t.path,mt.LONG_TAP)&&(n=!0)),this.longPressWaitCancel(),n}longPressWaitCancel(){clearTimeout(this.longPressTimer),this.longPressed=!1}__onResize(){this.shrinkCanvasBounds=new De(this.canvas.bounds),this.shrinkCanvasBounds.spread(-2)}__listenEvents(){const{target:t}=this;this.__eventIds=[t.on_(Xi.RESIZE,this.__onResize,this)],t.once(de.READY,()=>this.__onResize())}__removeListenEvents(){this.target.off_(this.__eventIds),this.__eventIds.length=0}emit(t,n,r,i){this.running&&Mw(t,n,r,i)}destroy(){this.__eventIds.length&&(this.stop(),this.__removeListenEvents(),this.dragger.destroy(),this.transformer.destroy(),this.downData=this.overPath=this.enterPath=null)}}class iv{static set(t,n){this.custom[t]=n}static get(t){return this.custom[t]}}iv.custom={};const{toOuterOf:Ac,getPoints:$w}=_t;class jw{get a(){return 1}get b(){return 0}get c(){return 0}get d(){return 1}get e(){return this.leaf.__.x}get f(){return this.leaf.__.y}constructor(t){this.leaf=t,this.renderBounds=this.strokeBounds=this.boxBounds={x:0,y:0,width:0,height:0},t.__local&&(this.localRenderBounds=this.localStrokeBounds=t.__local),this.boxChange(),this.matrixChange()}update(){const{leafer:t}=this.leaf;if(t)t.ready?t.watcher.changed&&t.layouter.layout():t.start();else{let n=this.leaf;for(;n.parent&&!n.parent.leafer;)n=n.parent;ut.layout(n)}}getTransform(t="world"){switch(this.update(),t){case"world":return this.leaf.__world;case"local":return this.leaf.__localMatrix;case"inner":return Pt.defaultMatrix;default:return new Is(this.leaf.__world).divideParent(t.__world)}}getBounds(t,n="world"){switch(this.update(),n){case"world":return this.getWorldBounds(t);case"local":return this.getLocalBounds(t);case"inner":return this.getInnerBounds(t);default:return new De(this.getInnerBounds(t)).toOuterOf(this.getTransform(n))}}getInnerBounds(t="box"){switch(t){case"render":return this.renderBounds;case"content":if(this.contentBounds)return this.contentBounds;case"margin":case"box":return this.boxBounds;case"stroke":return this.strokeBounds}}getLocalBounds(t="box"){switch(t){case"render":if(this.localRenderBounds)return this.localRenderBounds;case"stroke":if(this.localStrokeBounds)return this.localStrokeBounds;case"margin":case"content":case"box":return this.leaf.__localBounds}}getWorldBounds(t="box"){switch(t){case"render":return this.leaf.__world;case"content":if(this.contentBounds)return this.getWorldContentBounds();case"margin":case"box":return this.getWorldBoxBounds();case"margin":case"stroke":return this.getWorldStrokeBounds()}}getLayoutBounds(t,n="world",r){const{leaf:i}=this;let o,s,a=this.getInnerBounds(t);switch(n){case"world":o=i.getWorldPoint(a),s=i.__world;break;case"local":o=i.getLocalPointByInner(a),s=i.__;break;case"inner":o=a,s=Pt.defaultWorld;break;default:o=i.getWorldPoint(a,n),s=i.__world}let{scaleX:l,scaleY:c,rotation:h,skewX:u,skewY:f}=s,{width:d,height:g}=a;if(typeof n=="object"){const m=n.__world;l/=m.scaleX,c/=m.scaleY,h-=m.rotation,u-=m.skewX,f-=m.skewY}if(r){const m=l<0?-l:l,b=c<0?-c:c;l/=m,c/=b,d*=m,g*=b}return{x:o.x,y:o.y,scaleX:l,scaleY:c,rotation:h,skewX:u,skewY:f,width:d,height:g}}getLayoutPoints(t,n="world"){const{leaf:r}=this,i=$w(this.getInnerBounds(t));let o;switch(n){case"world":o=null;break;case"local":o=r.parent;break;case"inner":break;default:o=n}return o!==void 0&&i.forEach(s=>r.innerToWorld(s,null,!1,o)),i}getWorldContentBounds(){return this._worldContentBounds||(this._worldContentBounds={}),Ac(this.contentBounds,this.leaf.__world,this._worldContentBounds),this._worldContentBounds}getWorldBoxBounds(){return this._worldBoxBounds||(this._worldBoxBounds={}),Ac(this.boxBounds,this.leaf.__world,this._worldBoxBounds),this._worldBoxBounds}getWorldStrokeBounds(){return this._worldStrokeBounds||(this._worldStrokeBounds={}),Ac(this.strokeBounds,this.leaf.__world,this._worldStrokeBounds),this._worldStrokeBounds}spreadStrokeCancel(){const t=this.renderBounds===this.strokeBounds;this.strokeBounds=this.boxBounds,this.localStrokeBounds=this.leaf.__localBounds,t&&this.spreadRenderCancel()}spreadRenderCancel(){this.renderBounds=this.strokeBounds,this.localRenderBounds=this.localStrokeBounds}spreadStroke(){const{x:t,y:n,width:r,height:i}=this.strokeBounds;this.strokeBounds={x:t,y:n,width:r,height:i},this.localStrokeBounds={x:t,y:n,width:r,height:i},this.renderSpread||this.spreadRenderCancel()}spreadRender(){const{x:t,y:n,width:r,height:i}=this.renderBounds;this.renderBounds={x:t,y:n,width:r,height:i},this.localRenderBounds={x:t,y:n,width:r,height:i}}boxChange(){this.boxChanged=!0,this.localBoxChanged||this.localBoxChange(),this.hitCanvasChanged=!0}localBoxChange(){this.localBoxChanged=!0,this.boundsChanged=!0}strokeChange(){this.strokeChanged=!0,this.strokeSpread||(this.strokeSpread=1),this.boundsChanged=!0,this.hitCanvasChanged=!0}renderChange(){this.renderChanged=!0,this.renderSpread||(this.renderSpread=1),this.boundsChanged=!0}scaleChange(){this.scaleChanged=!0,this._scaleOrRotationChange()}rotationChange(){this.rotationChanged=!0,this.affectRotation=!0,this._scaleOrRotationChange()}_scaleOrRotationChange(){this.affectScaleOrRotation=!0,this.matrixChange()}matrixChange(){this.matrixChanged=!0,this.localBoxChanged||this.localBoxChange()}surfaceChange(){this.surfaceChanged=!0}opacityChange(){this.opacityChanged=!0,this.surfaceChanged||this.surfaceChange()}childrenSortChange(){this.childrenSortChanged||(this.childrenSortChanged=!0,this.leaf.forceUpdate("surface"))}destroy(){}}const Ad={},Ww={on(e,t,n){let r,i;n&&(typeof n=="boolean"?r=n:(r=n.capture,i=n.once));let o;const s=Dc(this,r,!0),a=typeof e=="string"?e.split(" "):e,l=i?{listener:t,once:i}:{listener:t};a.forEach(c=>{c&&(o=s[c],o?o.findIndex(h=>h.listener===t)===-1&&o.push(l):s[c]=[l])})},off(e,t,n){let r;n&&(r=typeof n=="boolean"?n:n.capture);let i,o;const s=Dc(this,r);(typeof e=="string"?e.split(" "):e).forEach(l=>{l&&(i=s[l],i&&(o=i.findIndex(c=>c.listener===t),o>-1&&i.splice(o,1),i.length||delete s[l]))})},on_(e,t,n,r){return n&&(t=t.bind(n)),this.on(e,t,r),{type:e,current:this,listener:t,options:r}},off_(e){if(!e)return;const t=e instanceof Array?e:[e];t.forEach(n=>n.current.off(n.type,n.listener,n.options)),t.length=0},once(e,t,n){this.on(e,t,{once:!0,capture:n})},emit(e,t,n){!t&&As.has(e)&&(t=As.get(e,{type:e,target:this,current:this}));const i=Dc(this,n)[e];if(i){let o;for(let s=0,a=i.length;s<a&&(o=i[s],o.listener(t),o.once&&(this.off(e,o.listener,n),s--,a--),!(t&&t.isStopNow));s++);}},emitEvent(e,t){e.current=this,this.emit(e.type,e,t)},hasEvent(e,t){const{__bubbleMap:n,__captureMap:r}=this;return t===void 0?!!(r&&r[e]||n&&n[e]):!!(t?r&&r[e]:n&&n[e])}};function Dc(e,t,n){if(t){const{__captureMap:r}=e;return r||(n?e.__captureMap={}:Ad)}else{const{__bubbleMap:r}=e;return r||(n?e.__bubbleMap={}:Ad)}}const Uw={__setAttr(e,t){if(this.leafer&&this.leafer.created){const n=this.__.__getInput(e);if(typeof t=="object"||n!==t){this.__[e]=t,this.__proxyData&&this.setProxyAttr(e,t);const{CHANGE:r}=Ds,i=new Ds(r,this,e,n,t);this.hasEvent(r)&&!this.isLeafer&&this.emitEvent(i),this.leafer.emitEvent(i)}}else this.__[e]=t,this.__proxyData&&this.setProxyAttr(e,t)},__getAttr(e){return this.__proxyData?this.getProxyAttr(e):this.__.__get(e)}},{setLayout:Hw,multiplyParent:zw,translateInner:Gw,defaultWorld:Yw}=Pt,{toPoint:Kw,tempPoint:Bc}=$b,Xw={__updateWorldMatrix(){zw(this.__local||this.__layout,this.parent?this.parent.__world:Yw,this.__world,!!this.__layout.affectScaleOrRotation,this.__)},__updateLocalMatrix(){if(this.__local){const e=this.__layout,t=this.__local,n=this.__;e.affectScaleOrRotation&&(e.scaleChanged||e.rotationChanged)&&(Hw(t,n,null,e.affectRotation),e.scaleChanged=e.rotationChanged=!1),t.e=n.x,t.f=n.y,n.around&&(Kw(n.around,e.boxBounds,Bc),Gw(t,-Bc.x,-Bc.y))}this.__layout.matrixChanged=!1}},{updateMatrix:Dd,updateAllMatrix:Vw,hasParentAutoLayout:Zw}=an,{updateBounds:Jw}=na,{toOuterOf:Ba,copyAndSpread:Bd}=_t,Qw={__updateWorldBounds(){Ba(this.__layout.renderBounds,this.__world,this.__world),this.__layout.resized&&(this.__onUpdateSize(),this.__layout.resized=!1)},__updateLocalBounds(){const e=this.__layout;e.boxChanged&&(this.__updatePath(),this.__updateRenderPath(),this.__updateBoxBounds(),e.boxChanged=!1,e.resized=!0),e.localBoxChanged&&(this.__local&&this.__updateLocalBoxBounds(),e.localBoxChanged=!1,e.strokeSpread&&(e.strokeChanged=!0),e.renderSpread&&(e.renderChanged=!0),this.parent&&this.parent.__layout.boxChange()),e.strokeChanged&&(e.strokeSpread=this.__updateStrokeSpread(),e.strokeSpread?(e.strokeBounds===e.boxBounds&&e.spreadStroke(),this.__updateStrokeBounds(),this.__updateLocalStrokeBounds()):e.spreadStrokeCancel(),e.strokeChanged=!1,e.renderSpread&&(e.renderChanged=!0),this.parent&&this.parent.__layout.strokeChange(),e.resized=!0),e.renderChanged&&(e.renderSpread=this.__updateRenderSpread(),e.renderSpread?((e.renderBounds===e.boxBounds||e.renderBounds===e.strokeBounds)&&e.spreadRender(),this.__updateRenderBounds(),this.__updateLocalRenderBounds()):e.spreadRenderCancel(),e.renderChanged=!1,this.parent&&this.parent.__layout.renderChange()),e.boundsChanged=!1},__updateLocalBoxBounds(){this.__hasAutoLayout&&this.__updateAutoLayout(),Ba(this.__layout.boxBounds,this.__local,this.__local)},__updateLocalStrokeBounds(){Ba(this.__layout.strokeBounds,this.__localMatrix,this.__layout.localStrokeBounds)},__updateLocalRenderBounds(){Ba(this.__layout.renderBounds,this.__localMatrix,this.__layout.localRenderBounds)},__updateBoxBounds(){const e=this.__layout.boxBounds,{width:t,height:n}=this.__;e.x=0,e.y=0,e.width=t,e.height=n},__updateAutoLayout(){this.__layout.matrixChanged=!0,this.isBranch?(this.leafer&&this.leafer.layouter.addExtra(this),Zw(this)?Dd(this):(Vw(this),Jw(this,this))):Dd(this)},__updateNaturalSize(){const{__:e,__layout:t}=this;e.__naturalWidth=t.boxBounds.width,e.__naturalHeight=t.boxBounds.height},__updateStrokeBounds(){Bd(this.__layout.strokeBounds,this.__layout.boxBounds,this.__layout.strokeSpread)},__updateRenderBounds(){Bd(this.__layout.renderBounds,this.__layout.strokeBounds,this.__layout.renderSpread)}},{toInnerRadiusPointOf:qw,copy:tE,setRadius:eE}=ge,Qs={},nE={__hitWorld(e){return(this.__layout.hitCanvasChanged||!this.__hitCanvas)&&(this.__updateHitCanvas(),this.__layout.hitCanvasChanged=!1),this.__.hitRadius&&(tE(Qs,e),e=Qs,eE(e,this.__.hitRadius)),qw(e,this.__world,Qs),this.__.hitBox&&_t.hitRadiusPoint(this.__layout.boxBounds,Qs)?!0:this.__hit(Qs)},__drawHitPath(e){this.__drawRenderPath(e)}},rE={__render(e,t){if(this.__worldOpacity)if(e.setWorld(this.__world,t.matrix),e.opacity=this.__worldOpacity,this.__.__single){const n=e.getSameCanvas(!0,!0);this.__draw(n,t);const r=this.__.isEraser?"destination-out":this.__.blendMode;this.__worldFlipped||t.matrix?e.copyWorldByReset(n,null,null,r):e.copyWorldToInner(n,this.__world,this.__layout.renderBounds,r),n.recycle()}else this.__draw(e,t)},__updateWorldOpacity(){this.__worldOpacity=this.__.visible?this.parent?this.parent.__worldOpacity*this.__.opacity:this.__.opacity:0,this.__layout.opacityChanged&&(this.__layout.opacityChanged=!1)}},iE={__updateEraser(e){this.__hasEraser=e?!0:this.children.some(t=>t.__.isEraser)},__updateMask(e){this.__hasMask=e?!0:this.children.some(t=>t.__.isMask)},__renderMask(e,t,n,r){t.opacity=1,t.resetTransform(),t.useMask(n),e.opacity=this.__worldOpacity,e.resetTransform(),e.copyWorld(t),r?(t.recycle(),n.recycle()):(t.clear(),n.clear())},__removeMask(e){if(e)e.isMask=!1,this.remove(e);else{const{children:t}=this;for(let n=0,r=t.length;n<r;n++)e=t[n],e.isMask&&(this.__removeMask(e),r--,n--)}}},sE={__updateChange(){const{__layout:e}=this;e.childrenSortChanged&&(this.__updateSortChildren(),e.childrenSortChanged=!1),this.__.__checkSingle()},__render(e,t){if(this.__worldOpacity)if(this.__.__single){e.resetTransform();const n=e.getSameCanvas(!1,!0);this.__renderBranch(n,t),e.opacity=this.__worldOpacity;const r=this.__.isEraser?"destination-out":this.__.blendMode;this.__worldFlipped||t.matrix?e.copyWorld(n,null,null,r):e.copyWorld(n,this.__world,this.__world,r),n.recycle()}else this.__renderBranch(e,t)},__renderBranch(e,t){let n;const{children:r}=this;if(this.__hasMask&&r.length>1){let i;const o=e.getSameCanvas(!1,!0),s=e.getSameCanvas(!1,!0);for(let a=0,l=r.length;a<l;a++){if(n=r[a],n.isMask){i?this.__renderMask(e,s,o):i=!0,n.__render(o,t);continue}n.__render(i?s:e,t)}this.__renderMask(e,s,o,!0)}else{const{bounds:i,hideBounds:o}=t;for(let s=0,a=r.length;s<a;s++)n=r[s],!(i&&!i.hit(n.__world,t.matrix))&&(o&&o.includes(n.__world,t.matrix)||n.__render(e,t))}}},{LEAF:oE,create:aE}=Lr,{toInnerPoint:lE,toOuterPoint:cE}=Pt,{tempToOuterOf:Nc,copy:Nd}=ge,{moveLocal:uE,zoomOfLocal:hE,rotateOfLocal:fE,skewOfLocal:dE,transform:pE,setTransform:gE,drop:mE}=an;let Wo=class{get tag(){return this.__tag}set tag(t){}get __tag(){return"Leaf"}get innerName(){return this.__.name||this.tag+this.innerId}get __DataProcessor(){return km}get __LayoutProcessor(){return jw}get __localMatrix(){return this.__local||this.__layout}get __localBounds(){return this.__local||this.__}get worldTransform(){return this.__layout.getTransform("world")}get localTransform(){return this.__layout.getTransform("local")}get boxBounds(){return this.getBounds("box","inner")}get worldBoxBounds(){return this.getBounds("box")}get worldStrokeBounds(){return this.getBounds("stroke")}get worldRenderBounds(){return this.getBounds("render")}get worldOpacity(){return this.__layout.update(),this.__worldOpacity}get __worldFlipped(){return this.__world.scaleX<0||this.__world.scaleY<0}get __onlyHitMask(){return this.__hasMask&&!this.__.hitChildren}get __ignoreHitWorld(){return(this.__hasMask||this.__hasEraser)&&this.__.hitChildren}constructor(t){this.innerId=aE(oE),this.reset(t)}reset(t){this.__world={a:1,b:0,c:0,d:1,e:0,f:0,x:0,y:0,width:0,height:0,scaleX:1,scaleY:1,rotation:0,skewX:0,skewY:0},t!==null&&(this.__local={a:1,b:0,c:0,d:1,e:0,f:0,x:0,y:0,width:0,height:0}),this.__worldOpacity=1,this.__=new this.__DataProcessor(this),this.__layout=new this.__LayoutProcessor(this),this.__level&&this.resetCustom(),t&&(t.children?this.set(t):Object.assign(this,t))}resetCustom(){this.__hasMask=this.__hasEraser=null,this.forceUpdate()}waitParent(t){this.parent?t():this.__parentWait?this.__parentWait.push(t):this.__parentWait=[t]}waitLeafer(t){this.leafer?t():this.__leaferWait?this.__leaferWait.push(t):this.__leaferWait=[t]}nextRender(t){this.leafer?this.leafer.nextRender(t):this.waitLeafer(()=>this.leafer.nextRender(t))}__bindLeafer(t){if(this.isLeafer&&t!==null&&(t=this),this.leafer&&!t&&this.leafer.leafs--,this.leafer=t,t&&(t.leafs++,this.__level=this.parent?this.parent.__level+1:1,this.__leaferWait&&ms.run(this.__leaferWait)),this.isBranch){const{children:n}=this;for(let r=0,i=n.length;r<i;r++)n[r].__bindLeafer(t)}}set(t){}get(){}toJSON(){return this.__.__getInputData()}toString(){return JSON.stringify(this.toJSON())}__setAttr(t,n){}__getAttr(t){}setProxyAttr(t,n){}getProxyAttr(t){}find(t,n){}findOne(t,n){}forceUpdate(t){t===void 0?t="width":t==="surface"&&(t="blendMode");const n=this.__.__getInput(t);this.__[t]=n===void 0?null:void 0,this[t]=n}updateLayout(){this.__layout.update()}__updateWorldMatrix(){}__updateLocalMatrix(){}__updateWorldBounds(){}__updateLocalBounds(){}__updateLocalBoxBounds(){}__updateLocalStrokeBounds(){}__updateLocalRenderBounds(){}__updateBoxBounds(){}__updateStrokeBounds(){}__updateRenderBounds(){}__updateAutoLayout(){}__updateNaturalSize(){}__updateStrokeSpread(){return 0}__updateRenderSpread(){return 0}__onUpdateSize(){}__updateEraser(t){}__updateMask(t){}__renderMask(t,n,r,i){}__removeMask(t){}getWorld(t){return this.__layout.update(),t==="x"?this.__world.e:t==="y"?this.__world.f:this.__world[t]}getBounds(t,n){return this.__layout.getBounds(t,n)}getLayoutBounds(t,n,r){return this.__layout.getLayoutBounds(t,n,r)}getLayoutPoints(t,n){return this.__layout.getLayoutPoints(t,n)}worldToLocal(t,n,r,i){this.parent?this.parent.worldToInner(t,n,r,i):n&&Nd(n,t)}localToWorld(t,n,r,i){this.parent?this.parent.innerToWorld(t,n,r,i):n&&Nd(n,t)}worldToInner(t,n,r,i){i&&(i.innerToWorld(t,n,r),t=n||t),lE(this.worldTransform,t,n,r)}innerToWorld(t,n,r,i){cE(this.worldTransform,t,n,r),i&&i.worldToInner(n||t,null,r)}getInnerPoint(t,n,r,i){const o=i?t:{};return this.worldToInner(t,o,r,n),o}getInnerPointByLocal(t,n,r,i){return this.getInnerPoint(t,this.parent,r,i)}getLocalPoint(t,n,r,i){const o=i?t:{};return this.worldToLocal(t,o,r,n),o}getLocalPointByInner(t,n,r,i){return this.getWorldPoint(t,this.parent,r,i)}getWorldPoint(t,n,r,i){const o=i?t:{};return this.innerToWorld(t,o,r,n),o}getWorldPointByLocal(t,n,r,i){const o=i?t:{};return this.localToWorld(t,o,r,n),o}setTransform(t,n){gE(this,t,n)}transform(t,n){pE(this,t,n)}move(t,n){uE(this,t,n)}scaleOf(t,n,r,i){hE(this,Nc(t,this.localTransform),n,r,i)}rotateOf(t,n){fE(this,Nc(t,this.localTransform),n)}skewOf(t,n,r,i){dE(this,Nc(t,this.localTransform),n,r,i)}scaleResize(t,n=t,r){const i=this;r?(i.scaleX*=t,i.scaleY*=n):(t<0&&(i.scaleX*=-1,t=-t),n<0&&(i.scaleY*=-1,n=-n),this.__scaleResize(t,n))}__scaleResize(t,n){t!==1&&(this.width*=t),n!==1&&(this.height*=n)}__hitWorld(t){return!0}__hit(t){return!0}__drawHitPath(t){}__updateHitCanvas(){}__render(t,n){}__drawFast(t,n){}__draw(t,n){}__renderShape(t,n){}__updateWorldOpacity(){}__updateChange(){}__drawPath(t){}__drawRenderPath(t){}__updatePath(){}__updateRenderPath(){}__updateSortChildren(){}add(t,n){}remove(t,n){this.parent&&this.parent.remove(this,n)}dropTo(t,n,r){mE(this,t,n,r)}on(t,n,r){}off(t,n,r){}on_(t,n,r,i){}off_(t){}once(t,n,r){}emit(t,n,r){}emitEvent(t,n){}hasEvent(t,n){return!1}static changeAttr(t,n){tv(this.prototype,t,n)}static addAttr(t,n,r){r||(r=te),r(n)(this.prototype,t)}destroy(){this.destroyed||(this.parent&&this.remove(),this.children&&this.removeAll(!0),this.__.destroy(),this.__layout.destroy(),this.__captureMap=this.__bubbleMap=this.__parentWait=this.__leaferWait=null,this.destroyed=!0)}};Wo=q([en(Uw),en(Xw),en(Qw),en(nE),en(Ww),en(rE)],Wo);const{setListWithFn:Fc}=_t,{sort:vE}=na,{localBoxBounds:yE,localStrokeBounds:xE,localRenderBounds:bE,maskLocalBoxBounds:_E,maskLocalStrokeBounds:wE,maskLocalRenderBounds:EE}=nv;let Iu=class extends Wo{constructor(){super(),this.isBranch=!0,this.children=[]}__updateStrokeSpread(){const{children:t}=this;for(let n=0,r=t.length;n<r;n++)if(t[n].__layout.strokeSpread)return 1;return 0}__updateRenderSpread(){const{children:t}=this;for(let n=0,r=t.length;n<r;n++)if(t[n].__layout.renderSpread)return 1;return 0}__updateBoxBounds(){Fc(this.__layout.boxBounds,this.children,this.__hasMask?_E:yE)}__updateStrokeBounds(){Fc(this.__layout.strokeBounds,this.children,this.__hasMask?wE:xE)}__updateRenderBounds(){Fc(this.__layout.renderBounds,this.children,this.__hasMask?EE:bE)}__updateSortChildren(){let t;const{children:n}=this;if(n.length>1){for(let r=0,i=n.length;r<i;r++)n[r].__tempNumber=r,n[r].__.zIndex&&(t=!0);n.sort(vE),this.__layout.affectChildrenSort=t}}add(t,n){t.parent&&t.parent.remove(t),t.parent=this,n===void 0?this.children.push(t):this.children.splice(n,0,t),t.isBranch&&(this.__.__childBranchNumber=(this.__.__childBranchNumber||0)+1),t.__layout.boundsChanged||t.__layout.matrixChange(),t.__parentWait&&ms.run(t.__parentWait),this.leafer&&(t.__bindLeafer(this.leafer),this.leafer.created&&this.__emitChildEvent(Or.ADD,t)),this.__layout.affectChildrenSort&&this.__layout.childrenSortChange()}addMany(...t){t.forEach(n=>this.add(n))}remove(t,n){if(t){const r=this.children.indexOf(t);r>-1&&(this.children.splice(r,1),t.isBranch&&(this.__.__childBranchNumber=(this.__.__childBranchNumber||1)-1),this.__preRemove(),this.__realRemoveChild(t),n&&t.destroy())}else t===void 0&&super.remove(null,n)}removeAll(t){const{children:n}=this;n.length&&(this.children=[],this.__preRemove(),this.__.__childBranchNumber=0,n.forEach(r=>{this.__realRemoveChild(r),t&&r.destroy()}))}__preRemove(){this.__hasMask&&this.__updateMask(),this.__hasEraser&&this.__updateEraser(),this.__layout.boxChange(),this.__layout.affectChildrenSort&&this.__layout.childrenSortChange()}__realRemoveChild(t){t.parent=null,this.leafer&&(t.__bindLeafer(null),this.leafer.created&&(this.__emitChildEvent(Or.REMOVE,t),this.leafer.hitCanvasManager&&this.leafer.hitCanvasManager.clear()))}__emitChildEvent(t,n){const r=new Or(t,n,this);n.hasEvent(t)&&n.emitEvent(r),this.hasEvent(t)&&!this.isLeafer&&this.emitEvent(r),this.leafer.emitEvent(r)}};Iu=q([en(sE),en(iE)],Iu);const sv={power:{},list:[],onLeafer(e){sv.list.forEach(t=>{t.onLeafer&&t.onLeafer(e)})}};function F(e,t,n,r){var i=arguments.length,o=i<3?t:r===null?r=Object.getOwnPropertyDescriptor(t,n):r,s;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")o=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(s=e[a])&&(o=(i<3?s(o):i>3?s(t,n,o):s(t,n))||o);return i>3&&o&&Object.defineProperty(t,n,o),o}function ov(e){const{config:t}=e;t.move.dragOut=!1}function SE(e){e.isApp||e.__eventIds.push(e.on_(Fe.BEFORE_MOVE,t=>{an.moveWorld(e.zoomLayer,t.moveX,t.moveY)}),e.on_(rn.BEFORE_ZOOM,t=>{const{scaleX:n}=e.zoomLayer.__,{min:r,max:i}=e.app.config.zoom;let{scale:o}=t;o*Math.abs(n)<r?o=r/n:o*Math.abs(n)>i&&(o=i/n),o!==1&&an.zoomOfWorld(e.zoomLayer,t,o)}))}const Fd=Kt.get("LeaferTypeCreator"),Ws={list:{},register(e,t){kd[e]?Fd.repeat(e):kd[e]=t},run(e,t){const n=Ws.list[e];n?n(t):Fd.error("no",e)}},{list:kd}=Ws;Ws.register("draw",ov);Ws.register("user",ov);Ws.register("design",SE);const Au={},ye={},av={},fl={},lv={},$d={},jd=Kt.get("UIData");class Br extends km{get __autoWidth(){return!this._width}get __autoHeight(){return!this._height}get __autoBounds(){return!this._width&&!this._height}setVisible(t){this.__leaf.leafer&&(this.__leaf.leafer.watcher.hasVisible=!0),this._visible=t}setWidth(t){t<0?(this._width=-t,this.__leaf.scaleX*=-1,jd.warn("width < 0, instead -scaleX ",this)):this._width=t}setHeight(t){t<0?(this._height=-t,this.__leaf.scaleY*=-1,jd.warn("height < 0, instead -scaleY",this)):this._height=t}setFill(t){this.__naturalWidth&&(this.__naturalWidth=this.__naturalHeight=void 0),typeof t=="string"||!t?(this.__isFills&&(this.__removeInput("fill"),ye.recycleImage("fill",this),this.__isFills=!1,this.__pixelFill&&(this.__pixelFill=!1)),this._fill=t):typeof t=="object"&&(this.__setInput("fill",t),this.__leaf.__layout.boxChanged||this.__leaf.__layout.boxChange(),this.__isFills=!0,this._fill||(this._fill=$d))}setStroke(t){typeof t=="string"||!t?(this.__isStrokes&&(this.__removeInput("stroke"),ye.recycleImage("stroke",this),this.__isStrokes=!1,this.__pixelStroke&&(this.__pixelStroke=!1)),this._stroke=t):typeof t=="object"&&(this.__setInput("stroke",t),this.__leaf.__layout.boxChanged||this.__leaf.__layout.boxChange(),this.__isStrokes=!0,this._stroke||(this._stroke=$d))}setShadow(t){this.__setInput("shadow",t),t instanceof Array?(t.some(n=>n.visible===!1)&&(t=t.filter(n=>n.visible!==!1)),this._shadow=t.length?t:null):t?this._shadow=t.visible===!1?null:[t]:this._shadow=null}setInnerShadow(t){this.__setInput("innerShadow",t),t instanceof Array?(t.some(n=>n.visible===!1)&&(t=t.filter(n=>n.visible!==!1)),this._innerShadow=t.length?t:null):t?this._innerShadow=t.visible===!1?null:[t]:this._innerShadow=null}}const Wd={number(e,t){return typeof e=="object"?e.type==="percent"?e.value/100*t:e.value:e}};class ql extends Br{}class cv extends ql{get __boxStroke(){return!0}}class OE extends ql{}class CE extends cv{}class PE extends Br{}class uv extends Br{get __boxStroke(){return!0}}class TE extends Br{get __boxStroke(){return!0}}class LE extends Br{}class RE extends Br{}const{parse:ME}=ji;class IE extends Br{setPath(t){typeof t=="string"?(this.__setInput("path",t),this._path=ME(t)):(this.__input&&this.__removeInput("path"),this._path=t)}}class AE extends ql{}const DE={thin:100,"extra-light":200,light:300,normal:400,medium:500,"semi-bold":600,bold:700,"extra-bold":800,black:900};class BE extends Br{setFontWeight(t){typeof t=="string"?(this.__setInput("fontWeight",t),this._fontWeight=DE[t]||400):(this.__input&&this.__removeInput("fontWeight"),this._fontWeight=t)}}class hv extends uv{setUrl(t){this.__setImageFill(t),this._url=t}__setImageFill(t){this.__leaf.image&&(this.__leaf.image=null),this.fill=t?{type:"image",mode:"strench",url:t}:void 0}__getData(){const t=super.__getData();return delete t.fill,t}__getInputData(){const t=super.__getInputData();return delete t.fill,t}}function ra(e){return(t,n)=>{Pe(t,n,e,{set(r){this.__setAttr(n,r),r&&(this.__.__useEffect=!0),this.__layout.renderChanged||this.__layout.renderChange()}})}}function tc(e){return(t,n)=>{Pe(t,n,e,{set(r){this.__setAttr(n,r),this.__layout.boxChanged||this.__layout.boxChange(),this.__updateSize()}})}}const NE={__updateStrokeSpread(){let e=0,t=0;const{stroke:n,hitStroke:r,strokeAlign:i,strokeWidth:o}=this.__;if((n||r==="all")&&o&&i!=="inside"&&(t=e=i==="center"?o/2:o,!this.__.__boxStroke)){const{miterLimit:s,strokeCap:a}=this.__,l=this.__tag!=="Line"?1/Math.sin(s*jt/2)*Math.sqrt(o)-e:0;e+=Math.max(l,a==="none"?0:o)}return this.__layout.strokeBoxSpread=t,e},__updateRenderSpread(){let e=0;const{shadow:t,innerShadow:n,blur:r,backgroundBlur:i}=this.__;t&&t.forEach(s=>{e=Math.max(e,Math.max(Math.abs(s.y),Math.abs(s.x))+(s.spread>0?s.spread:0)+s.blur*1.5)}),r&&(e=Math.max(e,r));let o=e=Math.ceil(e);return n&&n.forEach(s=>{o=Math.max(o,Math.max(Math.abs(s.y),Math.abs(s.x))+(s.spread<0?-s.spread:0)+s.blur*1.5)}),i&&(o=Math.max(o,i)),this.__layout.renderShapeSpread=o,e}},FE={__updateHitCanvas(){this.__hitCanvas||(this.__hitCanvas=this.leafer.hitCanvasManager.getPathType(this));const e=this.__hitCanvas;this.__drawHitPath(e),e.setStrokeOptions(this.__)},__hit(e){const{__hitCanvas:t}=this;ut.name==="miniapp"&&this.__drawHitPath(t);const{fill:n,hitFill:r,windingRule:i}=this.__,o=n&&r==="path"||r==="all",s=t.hitFill(e,i);if(o&&s)return!0;const{stroke:a,hitStroke:l,strokeWidth:c,strokeAlign:h}=this.__,u=a&&l==="path"||l==="all",f=e.radiusX*2;let d=f;if(u)switch(h){case"inside":if(d+=c*2,!o&&s&&t.hitStroke(e,d))return!0;d=f;break;case"center":d+=c;break;case"outside":if(d+=c*2,!o){if(!s&&t.hitStroke(e,d))return!0;d=f}break}return d?t.hitStroke(e,d):!1}},kE={__updateChange(){const e=this.__;if(e.__useEffect){const{shadow:n,innerShadow:r,blur:i,backgroundBlur:o}=this.__;e.__useEffect=!!(n||r||i||o)}e.__checkSingle(),e.__isFills||e.__isStrokes||e.cornerRadius||e.__useEffect?e.__complex=!0:e.__complex&&(e.__complex=!1)},__drawFast(e,t){const{fill:n,stroke:r,__drawAfterFill:i}=this.__;this.__drawRenderPath(e),n&&ye.fill(n,this,e),i&&this.__drawAfterFill(e,t),r&&ye.stroke(r,this,e,t)},__draw(e,t){if(this.__.__complex){const{fill:n,stroke:r,__drawAfterFill:i}=this.__;if(this.__drawRenderPath(e),this.__.__useEffect){const o=ye.shape(this,e,t),{shadow:s,innerShadow:a}=this.__;s&&Au.shadow(this,e,o,t),n&&(this.__.__isFills?ye.fills(n,this,e):ye.fill(n,this,e)),i&&this.__drawAfterFill(e,t),a&&Au.innerShadow(this,e,o,t),r&&(this.__.__isStrokes?ye.strokes(r,this,e,t):ye.stroke(r,this,e,t)),o.worldCanvas&&o.worldCanvas.recycle(),o.canvas.recycle()}else n&&(this.__.__isFills?ye.fills(n,this,e):ye.fill(n,this,e)),i&&this.__drawAfterFill(e,t),r&&(this.__.__isStrokes?ye.strokes(r,this,e,t):ye.stroke(r,this,e,t))}else this.__drawFast(e,t)},__renderShape(e,t){if(!this.__worldOpacity)return;e.setWorld(this.__world,t.matrix);const{fill:n,stroke:r}=this.__;this.__drawRenderPath(e),n&&(this.__.__pixelFill?ye.fills(n,this,e):ye.fill("#000000",this,e)),r&&(this.__.__pixelStroke?ye.strokes(r,this,e,t):ye.stroke("#000000",this,e,t))}},$E={__drawFast(e,t){const{width:n,height:r,fill:i,stroke:o,__drawAfterFill:s}=this.__;if(i&&(e.fillStyle=i,e.fillRect(0,0,n,r)),s&&this.__drawAfterFill(e,t),o){const{strokeAlign:a,strokeWidth:l}=this.__;e.setStroke(o,l,this.__);const c=l/2;switch(a){case"center":e.strokeRect(0,0,n,r);break;case"inside":e.strokeRect(c,c,n-l,r-l);break;case"outside":e.strokeRect(-c,-c,n+l,r+l);break}}}};var Du;let nt=Du=class extends Wo{get app(){return this.leafer&&this.leafer.app}set scale(t){typeof t=="number"?this.scaleX=this.scaleY=t:(this.scaleX=t.x,this.scaleY=t.y)}get scale(){const{scaleX:t,scaleY:n}=this;return t!==n?{x:t,y:n}:t}constructor(t){super(t)}reset(t){}set(t){Object.assign(this,t)}get(){return this.__.__getInputData()}createProxyData(){}find(t,n){return this.leafer?this.leafer.selector.getBy(t,this,!1,n):[]}findOne(t,n){return this.leafer?this.leafer.selector.getBy(t,this,!0,n):null}getPath(t,n){this.__layout.update();let r=n?this.__.__pathForRender:this.__.path;return r||this.__drawPathByBox(new Ah(r=[])),t?ji.toCanvasData(r,!0):r}getPathString(t,n){return ji.stringify(this.getPath(t,n))}__onUpdateSize(){if(this.__.__input){const{fill:t,stroke:n}=this.__.__input;t&&ye.compute("fill",this),n&&ye.compute("stroke",this)}}__updateRenderPath(){if(this.__.path){const{__:t}=this;t.__pathForRender=t.cornerRadius?Z1.smooth(t.path,t.cornerRadius,t.cornerSmoothing):t.path}}__drawRenderPath(t){t.beginPath(),this.__drawPathByData(t,this.__.__pathForRender)}__drawPath(t){t.beginPath(),this.__drawPathByData(t,this.__.path)}__drawPathByData(t,n){}__drawPathByBox(t){const{x:n,y:r,width:i,height:o}=this.__layout.boxBounds;this.__.cornerRadius?t.roundRect(n,r,i,o,this.__.cornerRadius):t.rect(n,r,i,o)}export(t,n){return lv.export(this,t,n)}clone(){return Du.one(this.toJSON())}static one(t,n,r,i,o){return Vl.get(t.tag||this.prototype.__tag,t,n,r,i,o)}destroy(){this.fill=this.stroke=null,super.destroy()}};F([ze(Br)],nt.prototype,"__",void 0);F([Vi("")],nt.prototype,"id",void 0);F([Vi("")],nt.prototype,"name",void 0);F([Vi("")],nt.prototype,"className",void 0);F([kh("pass-through")],nt.prototype,"blendMode",void 0);F([qm(1)],nt.prototype,"opacity",void 0);F([qm(!0)],nt.prototype,"visible",void 0);F([aw(!1)],nt.prototype,"isMask",void 0);F([lw(!1)],nt.prototype,"isEraser",void 0);F([Vi(!1)],nt.prototype,"locked",void 0);F([ow(0)],nt.prototype,"zIndex",void 0);F([Zm(0)],nt.prototype,"x",void 0);F([Zm(0)],nt.prototype,"y",void 0);F([te(100)],nt.prototype,"width",void 0);F([te(100)],nt.prototype,"height",void 0);F([Jm(1)],nt.prototype,"scaleX",void 0);F([Jm(1)],nt.prototype,"scaleY",void 0);F([Fh(0)],nt.prototype,"rotation",void 0);F([Fh(0)],nt.prototype,"skewX",void 0);F([Fh(0)],nt.prototype,"skewY",void 0);F([sw()],nt.prototype,"around",void 0);F([Vi(!1)],nt.prototype,"draggable",void 0);F([Vi(!1)],nt.prototype,"editable",void 0);F([Vi("size")],nt.prototype,"editSize",void 0);F([di(!0)],nt.prototype,"hittable",void 0);F([di("path")],nt.prototype,"hitFill",void 0);F([Kn("path")],nt.prototype,"hitStroke",void 0);F([di(!1)],nt.prototype,"hitBox",void 0);F([di(!0)],nt.prototype,"hitChildren",void 0);F([di(!0)],nt.prototype,"hitSelf",void 0);F([di()],nt.prototype,"hitRadius",void 0);F([cw("")],nt.prototype,"cursor",void 0);F([kh()],nt.prototype,"fill",void 0);F([Kn()],nt.prototype,"stroke",void 0);F([Kn("inside")],nt.prototype,"strokeAlign",void 0);F([Kn(1)],nt.prototype,"strokeWidth",void 0);F([Kn("none")],nt.prototype,"strokeCap",void 0);F([Kn("miter")],nt.prototype,"strokeJoin",void 0);F([Kn()],nt.prototype,"dashPattern",void 0);F([Kn()],nt.prototype,"dashOffset",void 0);F([Kn(10)],nt.prototype,"miterLimit",void 0);F([Kn("none")],nt.prototype,"startArrow",void 0);F([Kn("none")],nt.prototype,"endArrow",void 0);F([cn(0)],nt.prototype,"cornerRadius",void 0);F([cn()],nt.prototype,"cornerSmoothing",void 0);F([ra()],nt.prototype,"shadow",void 0);F([ra()],nt.prototype,"innerShadow",void 0);F([ra()],nt.prototype,"blur",void 0);F([ra()],nt.prototype,"backgroundBlur",void 0);F([ra()],nt.prototype,"grayscale",void 0);F([Ge(Wo.prototype.reset)],nt.prototype,"reset",null);F([Ge(x1.drawPathByData)],nt.prototype,"__drawPathByData",null);nt=Du=F([en(NE),en(FE),en(kE),Ql()],nt);const kc=Pt.get();let Rr=class extends nt{get __tag(){return"Group"}set mask(t){this.__hasMask&&this.__removeMask(),t&&(t.isMask=!0,this.addAt(t,0))}get mask(){return this.children.find(t=>t.isMask)}constructor(t){super(t),this.__setBranch()}__setBranch(){this.isBranch=!0,this.children||(this.children=[])}set(t){if(t.children){const{children:n}=t;delete t.children,this.children?this.removeAll(!0):this.__setBranch(),super.set(t);let r;n.forEach(i=>{r=Vl.get(i.tag,i),this.add(r)}),t.children=n}else super.set(t)}toJSON(){const t=super.toJSON();return t.children=this.children.map(n=>n.toJSON()),t}__scaleResize(t,n){const{children:r}=this;for(let i=0;i<r.length;i++)kc.a=t,kc.d=n,r[i].transform(kc,!0)}addAt(t,n){this.add(t,n)}addAfter(t,n){this.add(t,this.children.indexOf(n)+1)}addBefore(t,n){this.add(t,this.children.indexOf(n))}add(t,n){}addMany(...t){}remove(t,n){}removeAll(t){}};F([ze(ql)],Rr.prototype,"__",void 0);Rr=F([en(Iu),Ye()],Rr);let Wi=class extends nt{get __tag(){return"Rect"}constructor(t){super(t)}__drawPathByData(t,n){}};F([ze(uv)],Wi.prototype,"__",void 0);F([Ge(nt.prototype.__drawPathByBox)],Wi.prototype,"__drawPathByData",null);Wi=F([en($E),Ql(),Ye()],Wi);const gi=Wi.prototype,jE=Rr.prototype,Ud={},{copy:WE,add:UE}=_t;let ln=class extends Rr{get __tag(){return"Box"}constructor(t){super(t),this.isBranchLeaf=!0,this.__layout.renderChanged||this.__layout.renderChange()}__scaleResize(t,n){this.__.__autoBounds&&this.children.length?super.__scaleResize(t,n):(this.width*=t,this.height*=n)}__updateStrokeSpread(){return 0}__updateRectRenderSpread(){return 0}__updateRenderSpread(){let t=this.__updateRectRenderSpread()||super.__updateRenderSpread();return this.__.__drawAfterFill=this.__.overflow==="hide",t||(t=this.__.__drawAfterFill?0:1),t}__updateRectBoxBounds(){}__updateBoxBounds(){this.__.__autoBounds&&this.children.length?super.__updateBoxBounds():this.__updateRectBoxBounds()}__updateStrokeBounds(){}__updateRenderBounds(){if(this.__updateRectRenderBounds(),!this.__.__drawAfterFill){const{renderBounds:t}=this.__layout;WE(Ud,t),super.__updateRenderBounds(),UE(t,Ud)}}__updateRectRenderBounds(){}__updateRectChange(){}__updateChange(){super.__updateChange(),this.__updateRectChange()}__drawPathByData(t,n){}__renderRect(t,n){}__renderGroup(t,n){}__render(t,n){this.__.__drawAfterFill?this.__renderRect(t,n):(this.__renderRect(t,n),this.__renderGroup(t,n))}__drawAfterFill(t,n){t.save(),t.clip(),this.__renderGroup(t,n),t.restore(),this.__.stroke&&this.__drawRenderPath(t)}};F([ze(cv)],ln.prototype,"__",void 0);F([Qm("show")],ln.prototype,"overflow",void 0);F([Ge(gi.__updateStrokeSpread)],ln.prototype,"__updateStrokeSpread",null);F([Ge(gi.__updateRenderSpread)],ln.prototype,"__updateRectRenderSpread",null);F([Ge(gi.__updateBoxBounds)],ln.prototype,"__updateRectBoxBounds",null);F([Ge(gi.__updateStrokeBounds)],ln.prototype,"__updateStrokeBounds",null);F([Ge(gi.__updateRenderBounds)],ln.prototype,"__updateRectRenderBounds",null);F([Ge(gi.__updateChange)],ln.prototype,"__updateRectChange",null);F([Ge(gi.__drawPathByData)],ln.prototype,"__drawPathByData",null);F([Ge(gi.__render)],ln.prototype,"__renderRect",null);F([Ge(jE.__render)],ln.prototype,"__renderGroup",null);ln=F([Ql(),Ye()],ln);let dl=class extends ln{get __tag(){return"Frame"}constructor(t){super(t),this.isFrame=!0,this.__.fill||(this.__.fill="#FFFFFF")}};F([ze(CE)],dl.prototype,"__",void 0);F([Qm("hide")],dl.prototype,"overflow",void 0);dl=F([Ye()],dl);const{moveTo:Hd,closePath:zd,ellipse:ss}=Ki;let or=class extends nt{get __tag(){return"Ellipse"}constructor(t){super(t)}__updatePath(){const{width:t,height:n,innerRadius:r,startAngle:i,endAngle:o}=this.__,s=t/2,a=n/2,l=this.__.path=[];r?(i||o?(r<1&&ss(l,s,a,s*r,a*r,0,i,o,!1),ss(l,s,a,s,a,0,o,i,!0),r<1&&zd(l)):(r<1&&(ss(l,s,a,s*r,a*r),Hd(l,t,a)),ss(l,s,a,s,a,0,360,0,!0)),ut.ellipseToCurve&&(this.__.path=this.getPath(!0))):i||o?(Hd(l,s,a),ss(l,s,a,s,a,0,i,o,!1),zd(l)):ss(l,s,a,s,a)}};F([ze(TE)],or.prototype,"__",void 0);F([cn(0)],or.prototype,"innerRadius",void 0);F([cn(0)],or.prototype,"startAngle",void 0);F([cn(0)],or.prototype,"endAngle",void 0);or=F([Ye()],or);const{moveTo:HE,lineTo:zE,drawPoints:Gd}=Ki,{rotate:GE,getAngle:YE,getDistance:KE,defaultPoint:Yd}=ge,{toBounds:XE}=Bh;let ci=class extends nt{get __tag(){return"Line"}get toPoint(){const{width:t,rotation:n}=this.__,r={x:0,y:0};return t&&(r.x=t),n&&GE(r,n),r}set toPoint(t){this.width=KE(Yd,t),this.rotation=YE(Yd,t),this.height&&(this.height=0)}constructor(t){super(t)}__updatePath(){const t=this.__.path=[];this.__.points?Gd(t,this.__.points,!1):(HE(t,0,0),zE(t,this.width,0))}__updateRenderPath(){this.__.points&&this.__.curve?Gd(this.__.__pathForRender=[],this.__.points,this.__.curve,this.__tag!=="Line"):super.__updateRenderPath()}__updateBoxBounds(){this.points?XE(this.__.__pathForRender,this.__layout.boxBounds):super.__updateBoxBounds()}__scaleResize(t,n){if(this.points)Dh.scalePoints(this.__.points,t,n),this.points=this.__.points;else if(this.__tag==="Line"){const r=this.toPoint;r.x*=t,r.y*=n,this.toPoint=r}else super.__scaleResize(t,n)}};F([ze(PE)],ci.prototype,"__",void 0);F([Jl("center")],ci.prototype,"strokeAlign",void 0);F([te(0)],ci.prototype,"height",void 0);F([cn()],ci.prototype,"points",void 0);F([cn(0)],ci.prototype,"curve",void 0);ci=F([Ye()],ci);const{sin:VE,cos:ZE,PI:Kd}=Math,{moveTo:JE,lineTo:QE,closePath:qE,drawPoints:tS}=Ki,$h=ci.prototype;let Mr=class extends nt{get __tag(){return"Polygon"}constructor(t){super(t)}__updatePath(){const t=this.__.path=[];if(this.__.points)tS(t,this.__.points,!1,!0);else{const{width:n,height:r,sides:i}=this.__,o=n/2,s=r/2;JE(t,o,0);for(let a=1;a<i;a++)QE(t,o+o*VE(a*2*Kd/i),s-s*ZE(a*2*Kd/i))}qE(t)}__updateRenderPath(){}__updateBoxBounds(){}__scaleResize(t,n){}};F([ze(LE)],Mr.prototype,"__",void 0);F([cn(3)],Mr.prototype,"sides",void 0);F([cn()],Mr.prototype,"points",void 0);F([cn(0)],Mr.prototype,"curve",void 0);F([Ge($h.__updateRenderPath)],Mr.prototype,"__updateRenderPath",null);F([Ge($h.__updateBoxBounds)],Mr.prototype,"__updateBoxBounds",null);F([Ge($h.__scaleResize)],Mr.prototype,"__scaleResize",null);Mr=F([Ql(),Ye()],Mr);const{sin:eS,cos:nS,PI:Xd}=Math,{moveTo:rS,lineTo:iS,closePath:sS}=Ki;let Uo=class extends nt{get __tag(){return"Star"}constructor(t){super(t)}__updatePath(){const{width:t,height:n,corners:r,innerRadius:i}=this.__,o=t/2,s=n/2,a=this.__.path=[];rS(a,o,0);for(let l=1;l<r*2;l++)iS(a,o+(l%2===0?o:o*i)*eS(l*Xd/r),s-(l%2===0?s:s*i)*nS(l*Xd/r));sS(a)}};F([ze(RE)],Uo.prototype,"__",void 0);F([cn(5)],Uo.prototype,"corners",void 0);F([cn(.382)],Uo.prototype,"innerRadius",void 0);Uo=F([Ye()],Uo);let Ho=class extends Wi{get __tag(){return"Image"}get ready(){return this.image?this.image.ready:!1}constructor(t){super(t),this.on(Pn.LOADED,n=>{n.attrName==="fill"&&n.attrValue.url===this.url&&(this.image=n.image)})}destroy(){this.image=null,super.destroy()}};F([ze(hv)],Ho.prototype,"__",void 0);F([te("")],Ho.prototype,"url",void 0);Ho=F([Ye()],Ho);let ui=class extends Wi{get __tag(){return"Canvas"}constructor(t){super(t),this.canvas=Ce.canvas(this.__),this.context=this.canvas.context,this.__.__drawAfterFill=!0}draw(t,n,r,i){t.__layout.update();const o=new Is(t.__world);o.invert();const s=new Is;n&&s.translate(n.x,n.y),r&&(typeof r=="number"?s.scale(r):s.scale(r.x,r.y)),i&&s.rotate(i),o.multiplyParent(s),t.__render(this.canvas,{matrix:o}),this.paint()}paint(){this.forceUpdate("fill")}__drawAfterFill(t,n){const r=this.canvas.view,{width:i,height:o}=this;this.__.cornerRadius?(t.save(),t.clip(),t.drawImage(this.canvas.view,0,0,r.width,r.height,0,0,i,o),t.restore()):t.drawImage(this.canvas.view,0,0,r.width,r.height,0,0,i,o)}__updateSize(){const{canvas:t}=this;if(t){const{smooth:n}=this.__;t.smooth!==n&&(t.smooth=n),t.resize(this.__)}}destroy(){this.canvas&&(this.canvas.destroy(),this.canvas=null,this.context=null),super.destroy()}};F([ze(hv)],ui.prototype,"__",void 0);F([tc(100)],ui.prototype,"width",void 0);F([tc(100)],ui.prototype,"height",void 0);F([tc(ut.devicePixelRatio)],ui.prototype,"pixelRatio",void 0);F([tc(!0)],ui.prototype,"smooth",void 0);F([di("all")],ui.prototype,"hitFill",void 0);ui=F([Ye()],ui);const{copyAndSpread:oS,includes:aS,spread:lS,setList:cS}=_t;let Jt=class extends nt{get __tag(){return"Text"}get textDrawData(){return this.__layout.update(),this.__.__textDrawData}constructor(t){super(t)}__drawHitPath(t){const{__lineHeight:n,__baseLine:r,__textDrawData:i}=this.__;t.beginPath(),this.__.__letterSpacing<0?this.__drawPathByData(t):i.rows.forEach(o=>t.rect(o.x,o.y-r,o.width,n))}__drawPathByData(t,n){const{x:r,y:i,width:o,height:s}=this.__layout.boxBounds;t.rect(r,i,o,s)}__drawRenderPath(t){t.font=this.__.__font}__updateTextDrawData(){const t=this.__;t.__textDrawData=av.getDrawData(t.text,this.__)}__updateBoxBounds(){const t=this.__,n=this.__layout,{lineHeight:r,letterSpacing:i,fontFamily:o,fontSize:s,fontWeight:a,italic:l,textCase:c,textOverflow:h,padding:u}=t,f=t.__autoWidth,d=t.__autoHeight;t.__lineHeight=Wd.number(r,s),t.__letterSpacing=Wd.number(i,s),t.__padding=u?Yi.fourNumber(u):void 0,t.__baseLine=t.__lineHeight-(t.__lineHeight-s*.7)/2,t.__font=`${l?"italic ":""}${c==="small-caps"?"small-caps ":""}${a!=="normal"?a+" ":""}${s}px ${o}`,t.__clipText=h!=="show"&&!t.__autoBounds,this.__updateTextDrawData();const{bounds:g}=t.__textDrawData,m=n.boxBounds;if(t.__lineHeight<s&&lS(g,s/2),f||d){if(m.x=f?g.x:0,m.y=d?g.y:0,m.width=f?g.width:t.width,m.height=d?g.height:t.height,u){const[x,p,v,y]=t.__padding;f&&(m.x-=y,m.width+=p+y),d&&(m.y-=x,m.height+=v+x)}this.__updateNaturalSize()}else super.__updateBoxBounds();const b=aS(m,g)?m:g;b!==n.contentBounds?(n.contentBounds=b,n.renderChanged=!0,cS(t.__textBoxBounds={},[m,g])):t.__textBoxBounds=b}__updateRenderSpread(){let t=super.__updateRenderSpread();return t||(t=this.__layout.boxBounds===this.__layout.contentBounds?0:1),t}__updateRenderBounds(){oS(this.__layout.renderBounds,this.__.__textBoxBounds,this.__layout.renderSpread)}};F([ze(BE)],Jt.prototype,"__",void 0);F([te(0)],Jt.prototype,"width",void 0);F([te(0)],Jt.prototype,"height",void 0);F([te(0)],Jt.prototype,"padding",void 0);F([kh("#000000")],Jt.prototype,"fill",void 0);F([Jl("outside")],Jt.prototype,"strokeAlign",void 0);F([di("all")],Jt.prototype,"hitFill",void 0);F([te("")],Jt.prototype,"text",void 0);F([te("L")],Jt.prototype,"fontFamily",void 0);F([te(12)],Jt.prototype,"fontSize",void 0);F([te("normal")],Jt.prototype,"fontWeight",void 0);F([te(!1)],Jt.prototype,"italic",void 0);F([te("none")],Jt.prototype,"textCase",void 0);F([te("none")],Jt.prototype,"textDecoration",void 0);F([te(0)],Jt.prototype,"letterSpacing",void 0);F([te({type:"percent",value:150})],Jt.prototype,"lineHeight",void 0);F([te(0)],Jt.prototype,"paraIndent",void 0);F([te(0)],Jt.prototype,"paraSpacing",void 0);F([te("left")],Jt.prototype,"textAlign",void 0);F([te("top")],Jt.prototype,"verticalAlign",void 0);F([te("normal")],Jt.prototype,"textWrap",void 0);F([te("show")],Jt.prototype,"textOverflow",void 0);Jt=F([Ye()],Jt);const{toBounds:uS}=Bh;let ur=class extends nt{get __tag(){return"Path"}constructor(t){super(t)}__scaleResize(t,n){Dh.scale(this.__.path,t,n),this.path=this.__.path}__updateBoxBounds(){uS(this.__.path,this.__layout.boxBounds)}};F([ze(IE)],ur.prototype,"__",void 0);F([cn()],ur.prototype,"path",void 0);F([cn()],ur.prototype,"windingRule",void 0);F([Jl("center")],ur.prototype,"strokeAlign",void 0);ur=F([Ye()],ur);let Bu=class extends Rr{get __tag(){return"Pen"}constructor(t){super(t)}setStyle(t){const n=this.pathElement=new ur(t);return this.pathStyle=t,this.path=n.path||(n.path=[]),this.add(n),this}beginPath(){return this.path.length=0,this.paint(),this}moveTo(t,n){return this}lineTo(t,n){return this}bezierCurveTo(t,n,r,i,o,s){return this}quadraticCurveTo(t,n,r,i){return this}closePath(){return this}rect(t,n,r,i){return this}roundRect(t,n,r,i,o){return this}ellipse(t,n,r,i,o,s,a,l){return this}arc(t,n,r,i,o,s){return this}arcTo(t,n,r,i,o){return this}drawEllipse(t,n,r,i,o,s,a,l){return this}drawArc(t,n,r,i,o,s){return this}drawPoints(t,n,r){return this}paint(){this.pathElement.forceUpdate("path")}clear(){this.removeAll(!0)}};F([ze(AE)],Bu.prototype,"__",void 0);Bu=F([en(Ah,["beginPath"]),Ye()],Bu);const hS=Kt.get("Leafer");let Bs=class extends Rr{get __tag(){return"Leafer"}get isApp(){return!1}get app(){return this.parent||this}get imageReady(){return this.viewReady&&cr.isComplete}get layoutLocked(){return!this.layouter.running}get cursorPoint(){return this.interaction&&this.interaction.hoverData||{x:this.width/2,y:this.height/2}}constructor(t,n){super(n),this.zoomLayer=this,this.config={type:"design",start:!0,hittable:!0,smooth:!0,zoom:{min:.02,max:256},move:{holdSpaceKey:!0,dragOut:!0,autoDistance:2}},this.leafs=0,this.__eventIds=[],this.__controllers=[],this.__readyWait=[],this.__viewReadyWait=[],this.__viewCompletedWait=[],this.__nextRenderWait=[],this.userConfig=t,t&&(t.view||t.width)&&this.init(t)}init(t,n){if(this.canvas)return;this.__setLeafer(this),t&&Be.assign(this.config,t);let r;const{config:i}=this;Ws.run(i.type,this),this.canvas=Ce.canvas(i),this.__controllers.push(this.renderer=Ce.renderer(this,this.canvas,i),this.watcher=Ce.watcher(this,i),this.layouter=Ce.layouter(this,i)),this.isApp&&this.__setApp(),this.__checkAutoLayout(i),this.view=this.canvas.view,n?(this.__bindApp(n),r=n.running):(this.selector=Ce.selector(this),this.__controllers.unshift(this.interaction=Ce.interaction(this,this.canvas,this.selector,i)),this.canvasManager=new Fm,this.hitCanvasManager=new Gb,r=i.start),this.hittable=i.hittable,this.fill=i.fill,this.canvasManager.add(this.canvas),this.__listenEvents(),r&&(this.__startTimer=setTimeout(this.start.bind(this))),sv.onLeafer(this)}set(t){this.children?super.set(t):setTimeout(()=>{super.set(t)})}start(){clearTimeout(this.__startTimer),!this.running&&this.canvas&&(this.ready?this.emitLeafer(de.RESTART):this.emitLeafer(de.START),this.__controllers.forEach(t=>t.start()),this.isApp||this.renderer.render(),this.running=!0)}stop(){clearTimeout(this.__startTimer),this.running&&this.canvas&&(this.__controllers.forEach(t=>t.stop()),this.running=!1,this.emitLeafer(de.STOP))}unlockLayout(){this.layouter.start(),this.updateLayout()}lockLayout(){this.updateLayout(),this.layouter.stop()}resize(t){const n=Be.copyAttrs({},t,wr);Object.keys(n).forEach(r=>this[r]=n[r])}forceFullRender(){this.renderer.addBlock(this.canvas.bounds),this.viewReady&&this.renderer.update()}updateCursor(){this.interaction&&this.interaction.updateCursor()}__doResize(t){if(!this.canvas||this.canvas.isSameSize(t))return;const n=Be.copyAttrs({},this.canvas,wr);this.canvas.resize(t),this.__onResize(new Xi(t,n))}__onResize(t){this.emitEvent(t),Be.copyAttrs(this.__,t,wr),setTimeout(()=>{this.canvasManager&&this.canvasManager.clearRecycled()},0)}__setApp(){}__bindApp(t){this.selector=t.selector,this.interaction=t.interaction,this.canvasManager=t.canvasManager,this.hitCanvasManager=t.hitCanvasManager}__setLeafer(t){this.leafer=t,this.isLeafer=!!t,this.__level=1}setZoomLayer(t){this.zoomLayer=t}__checkAutoLayout(t){(!t.width||!t.height)&&(this.autoLayout=new kb(t),this.canvas.startAutoLayout(this.autoLayout,this.__onResize.bind(this)))}__setAttr(t,n){this.canvas&&(wr.includes(t)?this.__changeCanvasSize(t,n):t==="fill"?this.__changeFill(n):t==="hittable"&&(this.canvas.hittable=n)),super.__setAttr(t,n)}__getAttr(t){return this.canvas&&wr.includes(t)?this.canvas[t]:super.__getAttr(t)}__changeCanvasSize(t,n){const r=Be.copyAttrs({},this.canvas,wr);r[t]=this.config[t]=n,n&&this.canvas.stopAutoLayout(),this.__doResize(r)}__changeFill(t){this.config.fill=t,this.canvas.allowBackgroundColor?this.canvas.backgroundColor=t:this.forceFullRender()}__onCreated(){this.created=!0}__onReady(){this.ready||(this.ready=!0,this.emitLeafer(de.BEFORE_READY),this.emitLeafer(de.READY),this.emitLeafer(de.AFTER_READY),ms.run(this.__readyWait))}__onViewReady(){this.viewReady||(this.viewReady=!0,this.emitLeafer(de.VIEW_READY),ms.run(this.__viewReadyWait))}__onAnimateFrame(){if(this.viewReady){this.__nextRenderWait.length&&ms.run(this.__nextRenderWait);const{imageReady:t}=this;t&&!this.viewCompleted&&this.__checkViewCompleted(),t||(this.viewCompleted=!1)}}__checkViewCompleted(t=!0){this.nextRender(()=>{this.imageReady&&(t&&this.emitLeafer(de.VIEW_COMPLETED),ms.run(this.__viewCompletedWait),this.viewCompleted=!0)})}__onWatchData(){this.watcher.childrenChanged&&this.interaction&&this.nextRender(()=>this.interaction.updateCursor())}waitReady(t){this.ready?t():this.__readyWait.push(t)}waitViewReady(t){this.viewReady?t():this.__viewReadyWait.push(t)}waitViewCompleted(t){this.__viewCompletedWait.push(t),this.viewCompleted?this.__checkViewCompleted(!1):this.running||this.start()}nextRender(t){this.__nextRenderWait.push(t)}__checkUpdateLayout(){this.__layout.update()}emitLeafer(t){this.emitEvent(new de(t,this))}__listenEvents(){const t=Wn.start("FirstCreate "+this.innerName);this.once(de.START,()=>Wn.end(t)),this.once(Gt.END,()=>this.__onReady()),this.once(Qt.START,()=>this.__onCreated()),this.once(Qt.END,()=>this.__onViewReady()),this.__eventIds.push(this.on_(ti.DATA,this.__onWatchData,this),this.on_(Nh.FRAME,this.__onAnimateFrame,this),this.on_(Gt.CHECK_UPDATE,this.__checkUpdateLayout,this))}__removeListenEvents(){this.off_(this.__eventIds),this.__eventIds.length=0}destroy(){setTimeout(()=>{if(!this.destroyed)try{this.stop(),this.emitEvent(new de(de.END,this)),this.__removeListenEvents(),this.__controllers.forEach(t=>{this.parent&&t===this.interaction||t.destroy()}),this.__controllers.length=0,this.parent||(this.selector.destroy(),this.canvasManager.destroy(),this.hitCanvasManager.destroy()),this.canvas.destroy(),this.config.view=this.view=null,this.userConfig&&(this.userConfig.view=null),super.destroy(),setTimeout(()=>{cr.clearRecycled()},100)}catch(t){hS.error(t)}})}};F([ze(OE)],Bs.prototype,"__",void 0);F([te()],Bs.prototype,"pixelRatio",void 0);Bs=F([Ye()],Bs);let Nu=class extends Bs{get __tag(){return"App"}get isApp(){return!0}constructor(t,n){if(super(t,n),t){const{ground:r,tree:i,sky:o,editor:s}=t;r&&(this.ground=this.addLeafer(r)),(i||s)&&(this.tree=this.addLeafer(i)),(o||s)&&(this.sky=this.addLeafer(o||{type:"draw",usePartRender:!1})),s&&(this.editor=Ce.editor(s),this.sky.add(this.editor))}}__setApp(){const{canvas:t}=this,{realCanvas:n,view:r}=this.config;n||r===this.canvas.view||!t.parentView?this.realCanvas=!0:t.unrealCanvas(),this.leafer=this,this.watcher.disable(),this.layouter.disable(),this.__eventIds.push(this.on_(Ds.CHANGE,this.__onPropertyChange,this))}start(){super.start(),this.children.forEach(t=>t.start())}stop(){this.children.forEach(t=>t.stop()),super.stop()}unlockLayout(){super.unlockLayout(),this.children.forEach(t=>t.unlockLayout())}lockLayout(){super.lockLayout(),this.children.forEach(t=>t.lockLayout())}addLeafer(t){const n=new Bs(t);return this.add(n),n}add(t){if(!t.view){if(this.realCanvas&&!this.canvas.bounds){setTimeout(()=>this.add(t),10);return}t.init(this.__getChildConfig(t.userConfig),this)}super.add(t),this.__listenChildEvents(t)}__onPropertyChange(){Kt.showHitView&&this.children.forEach(t=>t.forceUpdate("surface"))}__onCreated(){this.created=this.children.every(t=>t.created)}__onReady(){this.children.every(t=>t.ready)&&super.__onReady()}__onViewReady(){this.children.every(t=>t.viewReady)&&super.__onViewReady()}__onChildRenderEnd(t){this.renderer.addBlock(t.renderBounds),this.viewReady&&this.renderer.update()}__render(t,n){this.children.forEach(r=>t.copyWorld(r.canvas))}__onResize(t){this.children.forEach(n=>n.resize(t)),super.__onResize(t)}__checkUpdateLayout(){this.children.forEach(t=>t.__layout.update())}__getChildConfig(t){let n=Object.assign({},this.config);return n.hittable=n.realCanvas=void 0,t&&Be.assign(n,t),this.autoLayout&&Be.copyAttrs(n,this,wr),n.view=this.realCanvas?void 0:this.view,n.fill=void 0,n}__listenChildEvents(t){t.once(Gt.END,()=>this.__onReady()),t.once(Qt.START,()=>this.__onCreated()),t.once(Qt.END,()=>this.__onViewReady()),this.realCanvas&&this.__eventIds.push(t.on_(Qt.END,this.__onChildRenderEnd,this))}};Nu=F([Ye()],Nu);class fS{get childrenChanged(){return this.hasAdd||this.hasRemove||this.hasVisible}get updatedList(){if(this.hasRemove){const t=new Ee;return this.__updatedList.list.forEach(n=>{n.leafer&&t.add(n)}),t}else return this.__updatedList}constructor(t,n){this.totalTimes=0,this.config={},this.__updatedList=new Ee,this.target=t,n&&(this.config=Be.default(n,this.config)),this.__listenEvents()}start(){this.disabled||(this.running=!0)}stop(){this.running=!1}disable(){this.stop(),this.__removeListenEvents(),this.disabled=!0}update(){this.changed=!0,this.running&&this.target.emit(Qt.REQUEST)}__onAttrChange(t){this.__updatedList.add(t.target),this.update()}__onChildEvent(t){t.type===Or.ADD?(this.hasAdd=!0,this.__pushChild(t.child)):(this.hasRemove=!0,this.__updatedList.add(t.parent)),this.update()}__pushChild(t){this.__updatedList.add(t),t.isBranch&&this.__loopChildren(t)}__loopChildren(t){const{children:n}=t;for(let r=0,i=n.length;r<i;r++)this.__pushChild(n[r])}__onRquestData(){this.target.emitEvent(new ti(ti.DATA,{updatedList:this.updatedList})),this.__updatedList=new Ee,this.totalTimes++,this.changed=!1,this.hasVisible=!1,this.hasRemove=!1,this.hasAdd=!1}__listenEvents(){const{target:t}=this;this.__eventIds=[t.on_(Ds.CHANGE,this.__onAttrChange,this),t.on_([Or.ADD,Or.REMOVE],this.__onChildEvent,this),t.on_(ti.REQUEST,this.__onRquestData,this)]}__removeListenEvents(){this.target.off_(this.__eventIds)}destroy(){this.target&&(this.stop(),this.__removeListenEvents(),this.target=null,this.__updatedList=null)}}const{updateAllMatrix:dS,updateBounds:Vd,updateAllWorldOpacity:pS}=an,{pushAllChildBranch:gS,pushAllParent:Zd}=na;function mS(e,t){let n;e.list.forEach(r=>{n=r.__layout,t.without(r)&&!n.proxyZoom&&(n.matrixChanged?(dS(r,!0),t.add(r),r.isBranch&&gS(r,t),Zd(r,t)):n.boundsChanged&&(t.add(r),r.isBranch&&(r.__tempNumber=0),Zd(r,t)))})}function vS(e){let t,n,r;e.sort(!0),e.levels.forEach(i=>{t=e.levelMap[i];for(let o=0,s=t.length;o<s;o++){if(n=t[o],n.isBranch&&n.__tempNumber){r=n.children;for(let a=0,l=r.length;a<l;a++)r[a].isBranch||Vd(r[a])}Vd(n)}})}function yS(e){e.list.forEach(t=>{t.__layout.opacityChanged&&pS(t),t.__updateChange()})}const{worldBounds:Jd}=nv,xS={x:0,y:0,width:1e5,height:1e5};class Qd{constructor(t){this.updatedBounds=new De,this.beforeBounds=new De,this.afterBounds=new De,t instanceof Array&&(t=new Ee(t)),this.updatedList=t}setBefore(){this.beforeBounds.setListWithFn(this.updatedList.list,Jd)}setAfter(){const{list:t}=this.updatedList;t.some(n=>n.noBounds)?this.afterBounds.set(xS):this.afterBounds.setListWithFn(t,Jd),this.updatedBounds.setList([this.beforeBounds,this.afterBounds])}merge(t){this.updatedList.addList(t.updatedList.list),this.beforeBounds.add(t.beforeBounds),this.afterBounds.add(t.afterBounds),this.updatedBounds.add(t.updatedBounds)}destroy(){this.updatedList=null}}const{updateAllMatrix:bS,updateAllChange:_S}=an,$c=Kt.get("Layouter");class ec{constructor(t,n){this.totalTimes=0,this.config={},this.__levelList=new zb,this.target=t,n&&(this.config=Be.default(n,this.config)),this.__listenEvents()}start(){this.disabled||(this.running=!0)}stop(){this.running=!1}disable(){this.stop(),this.__removeListenEvents(),this.disabled=!0}layout(){if(!this.running)return;const{target:t}=this;this.times=0;try{t.emit(Gt.START),this.layoutOnce(),t.emitEvent(new Gt(Gt.END,this.layoutedBlocks,this.times))}catch(n){$c.error(n)}this.layoutedBlocks=null}layoutAgain(){this.layouting?this.waitAgain=!0:this.layoutOnce()}layoutOnce(){if(this.layouting)return $c.warn("layouting");if(this.times>3)return $c.warn("layout max times");this.times++,this.totalTimes++,this.layouting=!0,this.target.emit(ti.REQUEST),this.totalTimes>1?this.partLayout():this.fullLayout(),this.layouting=!1,this.waitAgain&&(this.waitAgain=!1,this.layoutOnce())}partLayout(){var t;if(!(!((t=this.__updatedList)===null||t===void 0)&&t.length))return;const n=Wn.start("PartLayout"),{target:r,__updatedList:i}=this,{BEFORE:o,LAYOUT:s,AFTER:a}=Gt,l=this.getBlocks(i);l.forEach(c=>c.setBefore()),r.emitEvent(new Gt(o,l,this.times)),this.extraBlock=null,i.sort(),mS(i,this.__levelList),vS(this.__levelList),yS(i),this.extraBlock&&l.push(this.extraBlock),l.forEach(c=>c.setAfter()),r.emitEvent(new Gt(s,l,this.times)),r.emitEvent(new Gt(a,l,this.times)),this.addBlocks(l),this.__levelList.reset(),this.__updatedList=null,Wn.end(n)}fullLayout(){const t=Wn.start("FullLayout"),{target:n}=this,{BEFORE:r,LAYOUT:i,AFTER:o}=Gt,s=this.getBlocks(new Ee(n));n.emitEvent(new Gt(r,s,this.times)),ec.fullLayout(n),s.forEach(a=>{a.setAfter()}),n.emitEvent(new Gt(i,s,this.times)),n.emitEvent(new Gt(o,s,this.times)),this.addBlocks(s),Wn.end(t)}static fullLayout(t){bS(t,!0),t.isBranch?na.updateBounds(t):an.updateBounds(t),_S(t)}addExtra(t){const n=this.extraBlock||(this.extraBlock=new Qd([]));n.updatedList.add(t),n.beforeBounds.add(t.__world)}createBlock(t){return new Qd(t)}getBlocks(t){return[this.createBlock(t)]}addBlocks(t){this.layoutedBlocks?this.layoutedBlocks.push(...t):this.layoutedBlocks=t}__onReceiveWatchData(t){this.__updatedList=t.data.updatedList}__listenEvents(){const{target:t}=this;this.__eventIds=[t.on_(Gt.REQUEST,this.layout,this),t.on_(Gt.AGAIN,this.layoutAgain,this),t.on_(ti.DATA,this.__onReceiveWatchData,this)]}__removeListenEvents(){this.target.off_(this.__eventIds)}destroy(){this.target&&(this.stop(),this.__removeListenEvents(),this.target=this.config=null)}}const yi=Kt.get("Renderer");class wS{get needFill(){return!!(!this.canvas.allowBackgroundColor&&this.config.fill)}constructor(t,n,r){this.FPS=60,this.totalTimes=0,this.times=0,this.config={usePartRender:!0,maxFPS:60},this.target=t,this.canvas=n,r&&(this.config=Be.default(r,this.config)),this.__listenEvents(),this.__requestRender()}start(){this.running=!0}stop(){this.running=!1}update(){this.changed=!0}requestLayout(){this.target.emit(Gt.REQUEST)}render(t){if(!(this.running&&this.canvas.view)){this.changed=!0;return}const{target:n}=this;this.times=0,this.totalBounds=new De,yi.log(n.innerName,"--->");try{this.emitRender(Qt.START),this.renderOnce(t),this.emitRender(Qt.END,this.totalBounds),cr.clearRecycled()}catch(r){this.rendering=!1,yi.error(r)}yi.log("-------------|")}renderAgain(){this.rendering?this.waitAgain=!0:this.renderOnce()}renderOnce(t){if(this.rendering)return yi.warn("rendering");if(this.times>3)return yi.warn("render max times");this.times++,this.totalTimes++,this.rendering=!0,this.changed=!1,this.renderBounds=new De,this.renderOptions={},t?(this.emitRender(Qt.BEFORE),t()):(this.requestLayout(),this.emitRender(Qt.BEFORE),this.config.usePartRender&&this.totalTimes>1?this.partRender():this.fullRender()),this.emitRender(Qt.RENDER,this.renderBounds,this.renderOptions),this.emitRender(Qt.AFTER,this.renderBounds,this.renderOptions),this.updateBlocks=null,this.rendering=!1,this.waitAgain&&(this.waitAgain=!1,this.renderOnce())}partRender(){const{canvas:t,updateBlocks:n}=this;if(!n)return yi.warn("PartRender: need update attr");this.mergeBlocks(),n.forEach(r=>{t.bounds.hit(r)&&!r.isEmpty()&&this.clipRender(r)})}clipRender(t){const n=Wn.start("PartRender"),{canvas:r}=this,i=t.getIntersect(r.bounds),o=t.includes(this.target.__world),s=new De(i);r.save(),o&&!Kt.showRepaint?r.clear():(i.spread(1+1/this.canvas.pixelRatio).ceil(),r.clearWorld(i,!0),r.clipWorld(i,!0)),this.__render(i,o,s),r.restore(),Wn.end(n)}fullRender(){const t=Wn.start("FullRender"),{canvas:n}=this;n.save(),n.clear(),this.__render(n.bounds,!0),n.restore(),Wn.end(t)}__render(t,n,r){const i=t.includes(this.target.__world)?{includes:n}:{bounds:t,includes:n};this.needFill&&this.canvas.fillWorld(t,this.config.fill),Kt.showRepaint&&this.canvas.strokeWorld(t,"red"),this.target.__render(this.canvas,i),this.renderBounds=r||t,this.renderOptions=i,this.totalBounds.isEmpty()?this.totalBounds=this.renderBounds:this.totalBounds.add(this.renderBounds),Kt.showHitView&&this.renderHitView(i),Kt.showBoundsView&&this.renderBoundsView(i),this.canvas.updateRender()}renderHitView(t){}renderBoundsView(t){}addBlock(t){this.updateBlocks||(this.updateBlocks=[]),this.updateBlocks.push(t)}mergeBlocks(){const{updateBlocks:t}=this;if(t){const n=new De;n.setList(t),t.length=0,t.push(n)}}__requestRender(){const t=Date.now();ut.requestRender(()=>{this.FPS=Math.min(60,Math.ceil(1e3/(Date.now()-t))),this.changed&&this.running&&this.canvas.view&&this.render(),this.running&&this.target.emit(Nh.FRAME),this.target&&this.__requestRender()})}__onResize(t){if(!this.canvas.unreal&&(t.bigger||!t.samePixelRatio)){const{width:n,height:r}=t.old;(!new De(0,0,n,r).includes(this.target.__world)||this.needFill||!t.samePixelRatio)&&(this.addBlock(this.canvas.bounds),this.target.forceUpdate("blendMode"))}}__onLayoutEnd(t){t.data&&t.data.map(n=>{let r;n.updatedList&&n.updatedList.list.some(i=>(r=!i.__world.width||!i.__world.height,r&&(i.isLeafer||yi.tip(i.innerName,": empty"),r=!i.isBranch||i.isBranchLeaf),r)),this.addBlock(r?this.canvas.bounds:n.updatedBounds)})}emitRender(t,n,r){this.target.emitEvent(new Qt(t,this.times,n,r))}__listenEvents(){const{target:t}=this;this.__eventIds=[t.on_(Qt.REQUEST,this.update,this),t.on_(Gt.END,this.__onLayoutEnd,this),t.on_(Qt.AGAIN,this.renderAgain,this),t.on_(Xi.RESIZE,this.__onResize,this)]}__removeListenEvents(){this.target.off_(this.__eventIds)}destroy(){this.target&&(this.stop(),this.__removeListenEvents(),this.target=null,this.canvas=null,this.config=null)}}var Fu;(function(e){e[e.No=0]="No",e[e.Yes=1]="Yes",e[e.NoAndSkip=2]="NoAndSkip",e[e.YesAndSkip=3]="YesAndSkip"})(Fu||(Fu={}));const{hitRadiusPoint:ES}=_t;class SS{constructor(t,n){this.target=t,this.selector=n}getByPoint(t,n,r){n||(n=0),r||(r={});const i=r.through||!1,o=r.ignoreHittable||!1;this.exclude=r.exclude||null,this.point={x:t.x,y:t.y,radiusX:n,radiusY:n},this.findList=[],this.eachFind(this.target.children,this.target.__onlyHitMask);const s=this.findList,a=this.getBestMatchLeaf(),l=o?this.getPath(a):this.getHitablePath(a);return this.clear(),i?{path:l,leaf:a,throughPath:s.length?this.getThroughPath(s):l}:{path:l,leaf:a}}getBestMatchLeaf(){const{findList:t}=this;if(t.length>1){let n;this.findList=[];const{x:r,y:i}=this.point,o={x:r,y:i,radiusX:0,radiusY:0};for(let s=0,a=t.length;s<a;s++)if(n=t[s],an.worldHittable(n)&&(this.hitChild(n,o),this.findList.length))return this.findList[0]}return t[0]}getPath(t){const n=new Ee;for(;t;)n.add(t),t=t.parent;return n.add(this.target),n}getHitablePath(t){const n=this.getPath(t);let r,i=new Ee;for(let o=n.list.length-1;o>-1&&(r=n.list[o],!(!r.__.hittable||(i.addAt(r,0),!r.__.hitChildren)));o--);return i}getThroughPath(t){const n=new Ee,r=[];for(let a=t.length-1;a>-1;a--)r.push(this.getPath(t[a]));let i,o,s;for(let a=0,l=r.length;a<l;a++){i=r[a],o=r[a+1];for(let c=0,h=i.length;c<h&&(s=i.list[c],!(o&&o.has(s)));c++)n.add(s)}return n}eachFind(t,n){let r,i;const{point:o}=this,s=t.length;for(let a=s-1;a>-1;a--)r=t[a],!(!r.__.visible||n&&!r.__.isMask)&&(i=r.__.hitRadius?!0:ES(r.__world,o),r.isBranch?(i||r.__ignoreHitWorld)&&(this.eachFind(r.children,r.__onlyHitMask),r.isBranchLeaf&&!this.findList.length&&this.hitChild(r,o)):i&&this.hitChild(r,o))}hitChild(t,n){this.exclude&&this.exclude.has(t)||t.__hitWorld(n)&&this.findList.push(t)}clear(){this.point=null,this.findList=null,this.exclude=null}destroy(){this.clear()}}const{Yes:OS,NoAndSkip:CS,YesAndSkip:PS}=Fu;class TS{constructor(t,n){this.config={},this.innerIdMap={},this.idMap={},this.methods={id:(r,i)=>r.id===i?(this.idMap[i]=r,1):0,innerId:(r,i)=>r.innerId===i?(this.innerIdMap[i]=r,1):0,className:(r,i)=>r.className===i?1:0,tag:(r,i)=>r.__tag===i?1:0},this.target=t,n&&(this.config=Be.default(n,this.config)),this.pather=new SS(t,this),this.__listenEvents()}getBy(t,n,r,i){switch(typeof t){case"number":const o=this.getByInnerId(t,n);return r?o:o?[o]:[];case"string":switch(t[0]){case"#":const s=this.getById(t.substring(1),n);return r?s:s?[s]:[];case".":return this.getByMethod(this.methods.className,n,r,t.substring(1));default:return this.getByMethod(this.methods.tag,n,r,t)}case"function":return this.getByMethod(t,n,r,i)}}getByPoint(t,n,r){return ut.name==="node"&&this.target.emit(Gt.CHECK_UPDATE),this.pather.getByPoint(t,n,r)}getByInnerId(t,n){const r=this.innerIdMap[t];return r||(this.eachFind(this.toChildren(n),this.methods.innerId,null,t),this.findLeaf)}getById(t,n){const r=this.idMap[t];return r&&an.hasParent(r,n||this.target)?r:(this.eachFind(this.toChildren(n),this.methods.id,null,t),this.findLeaf)}getByClassName(t,n){return this.getByMethod(this.methods.className,n,!1,t)}getByTag(t,n){return this.getByMethod(this.methods.tag,n,!1,t)}getByMethod(t,n,r,i){const o=r?null:[];return this.eachFind(this.toChildren(n),t,o,i),o||this.findLeaf}eachFind(t,n,r,i){let o,s;for(let a=0,l=t.length;a<l;a++){if(o=t[a],s=n(o,i),s===OS||s===PS)if(r)r.push(o);else{this.findLeaf=o;return}o.isBranch&&s<CS&&this.eachFind(o.children,n,r,i)}}toChildren(t){return this.findLeaf=null,[t||this.target]}__onRemoveChild(t){const{id:n,innerId:r}=t.child;this.idMap[n]&&delete this.idMap[n],this.innerIdMap[r]&&delete this.innerIdMap[r]}__checkIdChange(t){if(t.attrName==="id"){const n=t.oldValue;this.idMap[n]&&delete this.idMap[n]}}__listenEvents(){this.__eventIds=[this.target.on_(Or.REMOVE,this.__onRemoveChild,this),this.target.on_(Ds.CHANGE,this.__checkIdChange,this)]}__removeListenEvents(){this.target.off_(this.__eventIds),this.__eventIds.length=0}destroy(){this.__eventIds.length&&(this.__removeListenEvents(),this.pather.destroy(),this.findLeaf=null,this.innerIdMap={},this.idMap={})}}Object.assign(Ce,{watcher:(e,t)=>new fS(e,t),layouter:(e,t)=>new ec(e,t),renderer:(e,t,n)=>new wS(e,t,n),selector:(e,t)=>new TS(e,t)});ut.layout=ec.fullLayout;const LS=Kt.get("LeaferCanvas");class qd extends Xb{init(){const{view:t}=this.config;t?this.__createViewFrom(t):this.__createView();const{style:n}=this.view;n.display||(n.display="block"),this.parentView=this.view.parentElement,this.parentView&&(this.parentView.style.userSelect="none"),ut.syncDomFont&&!this.parentView&&(this.view.style.display="none",document.body.appendChild(this.view)),this.__createContext(),this.autoLayout||this.resize(this.config)}set backgroundColor(t){this.view.style.backgroundColor=t}get backgroundColor(){return this.view.style.backgroundColor}set hittable(t){this.view.style.pointerEvents=t?"auto":"none"}get hittable(){return this.view.style.pointerEvents!=="none"}__createView(){this.view=document.createElement("canvas")}setCursor(t){const n=[];this.eachCursor(t,n),typeof n[n.length-1]=="object"&&n.push("default"),this.view.style.cursor=n.map(r=>typeof r=="object"?`url(${r.url}) ${r.x||0} ${r.y||0}`:r).join(",")}eachCursor(t,n,r=0){if(r++,t instanceof Array)t.forEach(i=>this.eachCursor(i,n,r));else{const i=typeof t=="string"&&iv.get(t);i&&r<2?this.eachCursor(i,n,r):n.push(t)}}__createViewFrom(t){let n=typeof t=="string"?document.getElementById(t):t;if(n)if(n instanceof HTMLCanvasElement)this.view=n;else{let r=n;if(n===window||n===document){const o=document.createElement("div"),{style:s}=o;s.position="absolute",s.top=s.bottom=s.left=s.right="0px",document.body.appendChild(o),r=o}this.__createView();const i=this.view;if(r.hasChildNodes()){const{style:o}=i;o.position="absolute",o.top=o.left="0px",r.style.position||(r.style.position="relative")}r.appendChild(i)}else LS.error(`no id: ${t}`),this.__createView()}updateViewSize(){const{width:t,height:n,pixelRatio:r}=this,{style:i}=this.view;i.width=t+"px",i.height=n+"px",this.view.width=t*r,this.view.height=n*r}updateClientBounds(){this.clientBounds=this.view.getBoundingClientRect()}startAutoLayout(t,n){this.autoBounds=t,this.resizeListener=n;try{this.resizeObserver=new ResizeObserver(i=>{this.updateClientBounds();for(const o of i)this.checkAutoBounds(o.contentRect)});const r=this.parentView;r&&(this.resizeObserver.observe(r),this.checkAutoBounds(r.getBoundingClientRect()))}catch{this.imitateResizeObserver()}}imitateResizeObserver(){this.autoLayout&&(this.parentView&&this.checkAutoBounds(this.parentView.getBoundingClientRect()),ut.requestRender(this.imitateResizeObserver.bind(this)))}checkAutoBounds(t){const n=this.view,{x:r,y:i,width:o,height:s}=this.autoBounds.getBoundsFrom(t);if(o!==this.width||s!==this.height){const{style:a}=n,{pixelRatio:l}=this;a.marginLeft=r+"px",a.marginTop=i+"px";const c={width:o,height:s,pixelRatio:l},h={};Be.copyAttrs(h,this,wr),this.resize(c),this.width!==void 0&&this.resizeListener(new Xi(c,h))}}stopAutoLayout(){this.autoLayout=!1,this.resizeListener=null,this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null)}unrealCanvas(){if(!this.unreal&&this.parentView){const t=this.view;t&&t.remove(),this.view=this.parentView,this.unreal=!0}}destroy(){if(this.view){if(this.stopAutoLayout(),!this.unreal){const t=this.view;t.parentElement&&t.remove()}super.destroy()}}}Km(CanvasRenderingContext2D.prototype);Km(Path2D.prototype);const Qe={convert(e,t){const n=Yn.getBase(e),r=Object.assign(Object.assign({},n),{x:t.x,y:t.y,width:e.width,height:e.height,pointerType:e.pointerType,pressure:e.pressure});return r.pointerType==="pen"&&(r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist),r},convertMouse(e,t){const n=Yn.getBase(e);return Object.assign(Object.assign({},n),{x:t.x,y:t.y,width:1,height:1,pointerType:"mouse",pressure:.5})},convertTouch(e,t){const n=Qe.getTouch(e),r=Yn.getBase(e);return Object.assign(Object.assign({},r),{x:t.x,y:t.y,width:1,height:1,pointerType:"touch",pressure:n.force})},getTouch(e){return e.targetTouches[0]||e.changedTouches[0]}},tp={getMove(e,t){let{moveSpeed:n}=t,{deltaX:r,deltaY:i}=e;return e.shiftKey&&!r&&(r=i,i=0),r>50&&(r=Math.max(50,r/3)),i>50&&(i=Math.max(50,i/3)),{x:-r*n*2,y:-i*n*2}},getScale(e,t){let n,r=1,{zoomMode:i,zoomSpeed:o}=t;const s=e.deltaY||e.deltaX;if(i?(n=i==="mouse"?!0:!e.deltaX&&(ut.intWheelDeltaY?Math.abs(s)>17:Math.ceil(s)!==s),(e.shiftKey||e.metaKey||e.ctrlKey)&&(n=!0)):n=!e.shiftKey&&(e.metaKey||e.ctrlKey),n){o=Yi.within(o,0,1);const a=e.deltaY?t.delta.y:t.delta.x;r=1-s/(a*25*(1-o)+10),r<.5&&(r=.5),r>=1.5&&(r=1.5)}return r}},ep={convert(e){const t=Yn.getBase(e);return Object.assign(Object.assign({},t),{code:e.code,key:e.key})}},{getMoveEventData:RS,getZoomEventData:np,getRotateEventData:MS}=Yn;class IS extends kw{__listenEvents(){super.__listenEvents();const t=this.view=this.canvas.view;this.viewEvents={pointerdown:this.onPointerDown,mousedown:this.onMouseDown,touchstart:this.onTouchStart,contextmenu:this.onContextMenu,wheel:this.onWheel,gesturestart:this.onGesturestart,gesturechange:this.onGesturechange,gestureend:this.onGestureend},this.windowEvents={pointermove:this.onPointerMove,pointerup:this.onPointerUp,pointercancel:this.onPointerCancel,mousemove:this.onMouseMove,mouseup:this.onMouseUp,touchmove:this.onTouchMove,touchend:this.onTouchEnd,touchcancel:this.onTouchCancel,keydown:this.onKeyDown,keyup:this.onKeyUp,scroll:this.onScroll};const{viewEvents:n,windowEvents:r}=this;for(let i in n)n[i]=n[i].bind(this),t.addEventListener(i,n[i]);for(let i in r)r[i]=r[i].bind(this),window.addEventListener(i,r[i])}__removeListenEvents(){super.__removeListenEvents();const{viewEvents:t,windowEvents:n}=this;for(let r in t)this.view.removeEventListener(r,t[r]),this.viewEvents={};for(let r in n)window.removeEventListener(r,n[r]),this.windowEvents={}}getLocal(t,n){n&&this.canvas.updateClientBounds();const{clientBounds:r}=this.canvas;return{x:t.clientX-r.x,y:t.clientY-r.y}}getTouches(t){const n=[];for(let r=0,i=t.length;r<i;r++)n.push(t[r]);return n}preventDefaultPointer(t){const{pointer:n}=this.config;n.preventDefault&&t.preventDefault()}preventDefaultWheel(t){const{wheel:n}=this.config;n.preventDefault&&t.preventDefault()}preventWindowPointer(t){return!this.downData&&t.target!==this.view}onKeyDown(t){this.keyDown(ep.convert(t))}onKeyUp(t){this.keyUp(ep.convert(t))}onContextMenu(t){this.menu(Qe.convert(t,this.getLocal(t)))}onScroll(){this.canvas.updateClientBounds()}onPointerDown(t){this.preventDefaultPointer(t),this.usePointer||(this.usePointer=!0),!this.useMultiTouch&&this.pointerDown(Qe.convert(t,this.getLocal(t)))}onPointerMove(t){this.usePointer||(this.usePointer=!0),!(this.useMultiTouch||this.preventWindowPointer(t))&&this.pointerMove(Qe.convert(t,this.getLocal(t,!0)))}onPointerUp(t){this.downData&&this.preventDefaultPointer(t),!(this.useMultiTouch||this.preventWindowPointer(t))&&this.pointerUp(Qe.convert(t,this.getLocal(t)))}onPointerCancel(){this.useMultiTouch||this.pointerCancel()}onMouseDown(t){this.preventDefaultPointer(t),!(this.useTouch||this.usePointer)&&this.pointerDown(Qe.convertMouse(t,this.getLocal(t)))}onMouseMove(t){this.useTouch||this.usePointer||this.preventWindowPointer(t)||this.pointerMove(Qe.convertMouse(t,this.getLocal(t,!0)))}onMouseUp(t){this.downData&&this.preventDefaultPointer(t),!(this.useTouch||this.usePointer||this.preventWindowPointer(t))&&this.pointerUp(Qe.convertMouse(t,this.getLocal(t)))}onMouseCancel(){this.useTouch||this.usePointer||this.pointerCancel()}onTouchStart(t){if(t.preventDefault(),this.multiTouchStart(t),this.usePointer)return;this.touchTimer&&(window.clearTimeout(this.touchTimer),this.touchTimer=0),this.useTouch=!0;const n=Qe.getTouch(t);this.pointerDown(Qe.convertTouch(t,this.getLocal(n,!0)))}onTouchMove(t){if(this.multiTouchMove(t),this.usePointer||this.preventWindowPointer(t))return;const n=Qe.getTouch(t);this.pointerMove(Qe.convertTouch(t,this.getLocal(n)))}onTouchEnd(t){if(this.multiTouchEnd(),this.usePointer||this.preventWindowPointer(t))return;this.touchTimer&&clearTimeout(this.touchTimer),this.touchTimer=setTimeout(()=>{this.useTouch=!1},500);const n=Qe.getTouch(t);this.pointerUp(Qe.convertTouch(t,this.getLocal(n)))}onTouchCancel(){this.usePointer||this.pointerCancel()}multiTouchStart(t){this.useMultiTouch=t.touches.length>=2,this.touches=this.useMultiTouch?this.getTouches(t.touches):void 0,this.useMultiTouch&&this.pointerCancel()}multiTouchMove(t){if(this.useMultiTouch&&t.touches.length>1){const n=this.getTouches(t.touches),r=this.getKeepTouchList(this.touches,n);r.length>1&&(this.multiTouch(Yn.getBase(t),r),this.touches=n)}}multiTouchEnd(){this.touches=null,this.useMultiTouch=!1,this.transformEnd()}getKeepTouchList(t,n){let r;const i=[];return t.forEach(o=>{r=n.find(s=>s.identifier===o.identifier),r&&i.push({from:this.getLocal(o),to:this.getLocal(r)})}),i}getLocalTouchs(t){return t.map(n=>this.getLocal(n))}onWheel(t){this.preventDefaultWheel(t);const{wheel:n}=this.config,r=n.getScale?n.getScale(t,n):tp.getScale(t,n),i=this.getLocal(t),o=Yn.getBase(t);r!==1?this.zoom(np(i,r,o)):this.move(RS(i,n.getMove?n.getMove(t,n):tp.getMove(t,n),o))}onGesturestart(t){this.preventDefaultWheel(t),this.lastGestureScale=1,this.lastGestureRotation=0}onGesturechange(t){this.preventDefaultWheel(t);const n=this.getLocal(t),r=Yn.getBase(t),i=t.scale/this.lastGestureScale,o=t.rotation-this.lastGestureRotation;let{rotateSpeed:s}=this.config.wheel;s=Yi.within(s,0,1),this.zoom(np(n,i*i,r)),this.rotate(MS(n,o/Math.PI*180*(s/4+.1),r)),this.lastGestureScale=t.scale,this.lastGestureRotation=t.rotation}onGestureend(t){this.preventDefaultWheel(t),this.transformEnd()}destroy(){this.view&&(super.destroy(),this.view=null,this.touches=null)}}const{mineType:jc,fileType:AS}=Ai;Object.assign(Ce,{canvas:(e,t)=>new qd(e,t),image:e=>new rw(e),hitCanvas:(e,t)=>new qd(e,t),interaction:(e,t,n,r)=>new IS(e,t,n,r)});function DS(e,t){ut.origin={createCanvas(n,r){const i=document.createElement("canvas");return i.width=n,i.height=r,i},canvasToDataURL:(n,r,i)=>n.toDataURL(jc(r),i),canvasToBolb:(n,r,i)=>new Promise(o=>n.toBlob(o,jc(r),i)),canvasSaveAs:(n,r,i)=>new Promise(o=>{let s=document.createElement("a");s.href=n.toDataURL(jc(AS(r)),i),s.download=r,document.body.appendChild(s),s.click(),document.body.removeChild(s),o()}),loadImage(n){return new Promise((r,i)=>{const o=new Image;o.setAttribute("crossOrigin","anonymous"),o.crossOrigin="anonymous",o.onload=()=>{r(o)},o.onerror=s=>{i(s)},!n.startsWith("data:")&&ut.image.suffix&&(n+=(n.includes("?")?"&":"?")+ut.image.suffix),o.src=n})}},ut.event={stopDefault(n){n.preventDefault()},stopNow(n){n.stopImmediatePropagation()},stop(n){n.stopPropagation()}},ut.canvas=Ce.canvas(),ut.conicGradientSupport=!!ut.canvas.context.createConicGradient}ut.name="web";ut.isMobile="ontouchstart"in window;ut.requestRender=function(e){window.requestAnimationFrame(e)};ut.devicePixelRatio=Math.max(1,devicePixelRatio);const{userAgent:Os}=navigator;Os.indexOf("Firefox")>-1?(ut.conicGradientRotate90=!0,ut.intWheelDeltaY=!0,ut.syncDomFont=!0):Os.indexOf("Safari")>-1&&Os.indexOf("Chrome")===-1&&(ut.fullImageShadow=!0);Os.indexOf("Windows")>-1?(ut.os="Windows",ut.intWheelDeltaY=!0):Os.indexOf("Mac")>-1?ut.os="Mac":Os.indexOf("Linux")>-1&&(ut.os="Linux");let xi={};const{get:jh,rotateOfOuter:BS,translate:Pi,scaleOfOuter:NS,scale:fv,rotate:dv}=Pt;function FS(e,t,n,r,i,o){const s=jh(),a=o&&o!==180,l=n.width/(a?i:r),c=n.height/(a?r:i),h=t==="fit"?Math.min(l,c):Math.max(l,c),u=n.x+(n.width-r*h)/2,f=n.y+(n.height-i*h)/2;Pi(s,u,f),fv(s,h),o&&BS(s,{x:n.x+n.width/2,y:n.y+n.height/2},o),e.scaleX=e.scaleY=h,e.transform=s}function kS(e,t,n,r,i,o,s){const a=jh();Pi(a,t.x,t.y),(n||r)&&Pi(a,n,r),i&&(fv(a,i,o),e.scaleX=a.a,e.scaleY=a.d),s&&dv(a,s),e.transform=a}function $S(e,t,n,r,i,o,s,a,l){const c=jh();if(l)switch(dv(c,l),l){case 90:Pi(c,r,0);break;case 180:Pi(c,n,r);break;case 270:Pi(c,0,n);break}xi.x=t.x,xi.y=t.y,(i||o)&&(xi.x+=i,xi.y+=o),Pi(c,xi.x,xi.y),s&&(NS(c,xi,s,a),e.scaleX=s,e.scaleY=a),e.transform=c}const{get:jS,translate:WS}=Pt;function rp(e,t,n,r){let{width:i,height:o}=t;const{opacity:s,mode:a,offset:l,scale:c,size:h,rotation:u,blendMode:f,repeat:d}=n,g=r.width===i&&r.height===o;f&&(e.blendMode=f);const m=e.data={mode:a};let b,x,p,v;switch(l&&(b=l.x,x=l.y),h?(p=(typeof h=="number"?h:h.width)/i,v=(typeof h=="number"?h:h.height)/o):c&&(p=typeof c=="number"?c:c.x,v=typeof c=="number"?c:c.y),a){case"strench":g||(i=r.width,o=r.height),(r.x||r.y)&&(m.transform=jS(),WS(m.transform,r.x,r.y));break;case"clip":(l||p||u)&&kS(m,r,b,x,p,v,u);break;case"repeat":(!g||p||u)&&$S(m,r,i,o,b,x,p,v,u),d||(m.repeat="repeat");break;case"fit":case"cover":default:(!g||u)&&FS(m,a,r,i,o,u)}m.width=i,m.height=o,s&&(m.opacity=s),d&&(m.repeat=typeof d=="string"?d==="x"?"repeat-x":"repeat-y":"repeat")}function US(e,t,n,r,i){const o={type:n.type},s=o.image=cr.get(n),a=(i||s.loading)&&{target:e,image:s,attrName:t,attrValue:n};return s.ready?(ip(e,t,s)&&rp(o,s,n,r),i&&(os(Pn.LOAD,a),os(Pn.LOADED,a))):s.error?i&&(e.forceUpdate("surface"),a.error=s.error,os(Pn.ERROR,a)):(i&&os(Pn.LOAD,a),o.loadId=s.load(()=>{e.destroyed||(ip(e,t,s)&&(rp(o,s,n,r),e.forceUpdate("surface")),os(Pn.LOADED,a))},l=>{e.forceUpdate("surface"),a.error=l,os(Pn.ERROR,a)})),o}function ip(e,t,n){if(t==="fill"&&!e.__.__naturalWidth){const{__:r}=e;if(r.__naturalWidth=n.width,r.__naturalHeight=n.height,!r.__getInput("width")||!r.__getInput("height"))return e.forceUpdate("width"),e.__proxyData&&(e.setProxyAttr("width",e.__.width),e.setProxyAttr("height",e.__.height)),!1}return!0}function os(e,t){t.target.hasEvent(e)&&t.target.emitEvent(new Pn(e,t))}function Wh(e,t,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{c(r.next(h))}catch(u){s(u)}}function l(h){try{c(r.throw(h))}catch(u){s(u)}}function c(h){h.done?o(h.value):i(h.value).then(a,l)}c((r=r.apply(e,t||[])).next())})}const HS={},{get:sp,scale:op,copy:ap}=Pt;function lp(e,t,n){let{scaleX:r,scaleY:i}=e.__world;const o=r+"-"+i;if(t.patternId!==o&&!e.destroyed){r=Math.abs(r),i=Math.abs(i);const{image:s,data:a}=t;let l,c,{width:h,height:u,scaleX:f,scaleY:d,opacity:g,transform:m,repeat:b}=a;f&&(c=sp(),ap(c,m),op(c,1/f,1/d),r*=f,i*=d),r*=n,i*=n,h*=r,u*=i;const x=h*u;if(!b&&x>ut.image.maxCacheSize)return!1;let p=ut.image.maxPatternSize;if(!s.isSVG){const y=s.width*s.height;p>y&&(p=y)}x>p&&(l=Math.sqrt(x/p)),l&&(r/=l,i/=l,h/=l,u/=l),f&&(r/=f,i/=d),(m||r!==1||i!==1)&&(c||(c=sp(),m&&ap(c,m)),op(c,1/r,1/i));const v=ut.canvas.createPattern(s.getCanvas(h<1?1:h,u<1?1:u,g),b||ut.origin.noRepeat||"no-repeat");try{t.transform&&(t.transform=null),c&&(v.setTransform?v.setTransform(c):t.transform=c)}catch{t.transform=c}return t.style=v,t.patternId=o,!0}else return!1}const{abs:cp}=Math;function pv(e,t,n,r){const{scaleX:i,scaleY:o}=e.__world;if(!n.data||n.patternId===i+"-"+o)return!1;{const{data:s}=n;if(r)if(s.repeat)r=!1;else{let{width:a,height:l}=s;a*=cp(i)*t.pixelRatio,l*=cp(o)*t.pixelRatio,s.scaleX&&(a*=s.scaleX,l*=s.scaleY),r=a*l>ut.image.maxCacheSize}return r?(t.save(),t.clip(),n.blendMode&&(t.blendMode=n.blendMode),s.opacity&&(t.opacity*=s.opacity),s.transform&&t.transform(s.transform),t.drawImage(n.image.view,0,0,s.width,s.height),t.restore(),!0):(!n.style||HS.running?lp(e,n,t.pixelRatio):n.patternTask||(n.patternTask=cr.patternTasker.add(()=>Wh(this,void 0,void 0,function*(){n.patternTask=null,t.bounds.hit(e.__world)&&lp(e,n,t.pixelRatio),e.forceUpdate("surface")}),300)),!1)}}function gv(e,t){const n=t["_"+e];if(n instanceof Array){let r,i,o,s;for(let a=0,l=n.length;a<l;a++)r=n[a].image,s=r&&r.url,s&&(i||(i={}),i[s]=!0,cr.recycle(r),r.loading&&(o||(o=t.__input&&t.__input[e]||[],o instanceof Array||(o=[o])),r.unload(n[a].loadId,!o.some(c=>c.url===s))));return i}return null}function Cs(e,t){let n;const{rows:r,decorationY:i,decorationHeight:o}=e.__.__textDrawData;for(let s=0,a=r.length;s<a;s++)n=r[s],n.text?t.fillText(n.text,n.x,n.y):n.data&&n.data.forEach(l=>{t.fillText(l.char,l.x,n.y)}),i&&t.fillRect(n.x,n.y+i,n.width,o)}function zS(e,t,n){n.fillStyle=e,t.__.__font?Cs(t,n):t.__.windingRule?n.fill(t.__.windingRule):n.fill()}function GS(e,t,n){let r;const{windingRule:i,__font:o}=t.__;for(let s=0,a=e.length;s<a;s++)r=e[s],!(r.image&&pv(t,n,r,!o))&&r.style&&(n.fillStyle=r.style,r.transform?(n.save(),n.transform(r.transform),r.blendMode&&(n.blendMode=r.blendMode),o?Cs(t,n):i?n.fill(i):n.fill(),n.restore()):r.blendMode?(n.saveBlendMode(r.blendMode),o?Cs(t,n):i?n.fill(i):n.fill(),n.restoreBlendMode()):o?Cs(t,n):i?n.fill(i):n.fill())}function Uh(e,t,n,r){const{strokeAlign:i}=t.__,o=typeof e!="string";switch(i){case"center":n.setStroke(o?void 0:e,t.__.strokeWidth,t.__),o?So(e,!0,t,n):zo(t,n);break;case"inside":up("inside",e,o,t,n,r);break;case"outside":up("outside",e,o,t,n,r);break}}function up(e,t,n,r,i,o){const{strokeWidth:s,__font:a}=r.__,l=i.getSameCanvas(!0);l.setStroke(n?void 0:t,s*2,r.__),l.font=a,n?So(t,!0,r,l):zo(r,l),l.blendMode=e==="outside"?"destination-out":"destination-in",Cs(r,l),l.blendMode="normal",r.__worldFlipped||o.matrix?i.copyWorldByReset(l):i.copyWorldToInner(l,r.__world,r.__layout.renderBounds),l.recycle()}function zo(e,t){let n;const{rows:r,decorationY:i,decorationHeight:o}=e.__.__textDrawData;for(let s=0,a=r.length;s<a;s++)n=r[s],n.text?t.strokeText(n.text,n.x,n.y):n.data&&n.data.forEach(l=>{t.strokeText(l.char,l.x,n.y)}),i&&t.strokeRect(n.x,n.y+i,n.width,o)}function So(e,t,n,r){let i;for(let o=0,s=e.length;o<s;o++)i=e[o],!(i.image&&pv(n,r,i,!1))&&i.style&&(r.strokeStyle=i.style,i.blendMode?(r.saveBlendMode(i.blendMode),t?zo(n,r):r.stroke(),r.restoreBlendMode()):t?zo(n,r):r.stroke())}function YS(e,t,n,r){const i=t.__,{strokeWidth:o,strokeAlign:s,__font:a}=i;if(o)if(a)Uh(e,t,n,r);else switch(s){case"center":n.setStroke(e,o,i),n.stroke();break;case"inside":n.save(),n.setStroke(e,o*2,i),i.windingRule?n.clip(i.windingRule):n.clip(),n.stroke(),n.restore();break;case"outside":const l=n.getSameCanvas(!0);l.setStroke(e,o*2,t.__),t.__drawRenderPath(l),l.stroke(),i.windingRule?l.clip(i.windingRule):l.clip(),l.clearWorld(t.__layout.renderBounds),t.__worldFlipped||r.matrix?n.copyWorldByReset(l):n.copyWorldToInner(l,t.__world,t.__layout.renderBounds),l.recycle();break}}function KS(e,t,n,r){const i=t.__,{strokeWidth:o,strokeAlign:s,__font:a}=i;if(o)if(a)Uh(e,t,n,r);else switch(s){case"center":n.setStroke(void 0,o,i),So(e,!1,t,n);break;case"inside":n.save(),n.setStroke(void 0,o*2,i),i.windingRule?n.clip(i.windingRule):n.clip(),So(e,!1,t,n),n.restore();break;case"outside":const{renderBounds:l}=t.__layout,c=n.getSameCanvas(!0);t.__drawRenderPath(c),c.setStroke(void 0,o*2,t.__),So(e,!1,t,c),i.windingRule?c.clip(i.windingRule):c.clip(),c.clearWorld(l),t.__worldFlipped||r.matrix?n.copyWorldByReset(c):n.copyWorldToInner(c,t.__world,l),c.recycle();break}}const{getSpread:XS,getOuterOf:hp,getByMove:VS,getIntersectData:ZS}=_t;function JS(e,t,n){const r=t.getSameCanvas();let i,o,s,a;const{__world:l}=e;let{scaleX:c,scaleY:h}=l;if(c<0&&(c=-c),h<0&&(h=-h),t.bounds.includes(l,n.matrix))n.matrix?(c*=n.matrix.a,h*=n.matrix.d,i=s=hp(l,n.matrix)):i=s=l,a=r;else{const{renderShapeSpread:u}=e.__layout,f=ZS(u?XS(t.bounds,u*c,u*h):t.bounds,l,n.matrix);o=t.bounds.getFitMatrix(f),o.a<1&&(a=t.getSameCanvas(),e.__renderShape(a,n),c*=o.a,h*=o.d),s=hp(l,o),i=VS(s,-o.e,-o.f),n.matrix&&o.multiply(n.matrix),n=Object.assign(Object.assign({},n),{matrix:o})}return e.__renderShape(r,n),{canvas:r,matrix:o,bounds:i,worldCanvas:a,shapeBounds:s,scaleX:c,scaleY:h}}const QS={x:.5,y:0},qS={x:.5,y:1};function tO(e,t){let{from:n,to:r,type:i,blendMode:o,opacity:s}=e;n||(n=QS),r||(r=qS);const a=ut.canvas.createLinearGradient(t.x+n.x*t.width,t.y+n.y*t.height,t.x+r.x*t.width,t.y+r.y*t.height);Hh(a,e.stops,s);const l={type:i,style:a};return o&&(l.blendMode=o),l}function Hh(e,t,n){let r;for(let i=0,o=t.length;i<o;i++)r=t[i],e.addColorStop(r.offset,fl.string(r.color,n))}const{set:fp,getAngle:eO,getDistance:nO}=ge,{get:rO,rotateOfOuter:iO,scaleOfOuter:sO}=Pt,oO={x:.5,y:.5},aO={x:.5,y:1},yr={},Wc={};function lO(e,t){let{from:n,to:r,type:i,opacity:o,blendMode:s,stretch:a}=e;n||(n=oO),r||(r=aO);const{x:l,y:c,width:h,height:u}=t;fp(yr,l+n.x*h,c+n.y*u),fp(Wc,l+r.x*h,c+r.y*u);let f;(h!==u||a)&&(f=rO(),sO(f,yr,h/u*(a||1),1),iO(f,yr,eO(yr,Wc)+90));const d=ut.canvas.createRadialGradient(yr.x,yr.y,0,yr.x,yr.y,nO(yr,Wc));Hh(d,e.stops,o);const g={type:i,style:d,transform:f};return s&&(g.blendMode=s),g}const{set:dp,getAngle:cO,getDistance:uO}=ge,{get:hO,rotateOfOuter:pp,scaleOfOuter:gp}=Pt,fO={x:.5,y:.5},dO={x:.5,y:1},fn={},Uc={};function pO(e,t){let{from:n,to:r,type:i,opacity:o,blendMode:s,stretch:a}=e;n||(n=fO),r||(r=dO);const{x:l,y:c,width:h,height:u}=t;dp(fn,l+n.x*h,c+n.y*u),dp(Uc,l+r.x*h,c+r.y*u);const f=hO(),d=cO(fn,Uc);ut.conicGradientRotate90?(gp(f,fn,h/u*(a||1),1),pp(f,fn,d+90)):(gp(f,fn,1,h/u*(a||1)),pp(f,fn,d));const g=ut.conicGradientSupport?ut.canvas.createConicGradient(0,fn.x,fn.y):ut.canvas.createRadialGradient(fn.x,fn.y,0,fn.x,fn.y,uO(fn,Uc));Hh(g,e.stops,o);const m={type:i,style:g,transform:f};return s&&(m.blendMode=s),m}let ku;function gO(e,t){const n=[],r=t.__;let i,o=r.__input[e];o instanceof Array||(o=[o]),ku=gv(e,r);for(let a=0,l=o.length;a<l;a++)i=mO(e,o[a],t),i&&n.push(i);r["_"+e]=n.length?n:void 0;let s;if(o.length===1){const a=o[0];a.type==="image"&&(s=cr.isPixel(a))}e==="fill"?r.__pixelFill=s:r.__pixelStroke=s}function mO(e,t,n){if(typeof t!="object"||t.visible===!1||t.opacity===0)return;const{boxBounds:r}=n.__layout;switch(t.type){case"solid":let{type:i,blendMode:o,color:s,opacity:a}=t;return{type:i,blendMode:o,style:fl.string(s,a)};case"image":return US(n,e,t,r,!ku||!ku[t.url]);case"linear":return tO(t,r);case"radial":return lO(t,r);case"angular":return pO(t,r);default:return t.r?{type:"solid",style:fl.string(t)}:void 0}}var vO=Object.freeze({__proto__:null,compute:gO,drawTextStroke:zo,fill:zS,fillText:Cs,fills:GS,recycleImage:gv,shape:JS,stroke:YS,strokeText:Uh,strokes:KS});const{copy:mp,toOffsetOutBounds:yO}=_t,Ve={},Na={};function xO(e,t,n,r){let i,o;const{__world:s,__layout:a}=e,{shadow:l}=e.__,{worldCanvas:c,bounds:h,shapeBounds:u,scaleX:f,scaleY:d}=n,g=t.getSameCanvas(),m=l.length-1;yO(h,Na),l.forEach((b,x)=>{g.setWorldShadow(Na.offsetX+b.x*f,Na.offsetY+b.y*d,b.blur*f,b.color),o=b.spread?1+b.spread*2/(a.boxBounds.width+(a.strokeBoxSpread||0)*2):0,mv(g,Na,o,n),i=h,b.box&&(g.restore(),g.save(),c&&(g.copyWorld(g,h,s,"copy"),i=s),c?g.copyWorld(c,s,s,"destination-out"):g.copyWorld(n.canvas,u,h,"destination-out")),e.__worldFlipped||r.matrix?t.copyWorldByReset(g,i,s,b.blendMode):t.copyWorldToInner(g,i,a.renderBounds,b.blendMode),m&&x<m&&g.clear()}),g.recycle()}function mv(e,t,n,r){const{bounds:i,shapeBounds:o}=r;if(ut.fullImageShadow){if(mp(Ve,e.bounds),Ve.x+=t.x-o.x,Ve.y+=t.y-o.y,n){const{matrix:s}=r;Ve.x-=(i.x+(s?s.e:0)+i.width/2)*(n-1),Ve.y-=(i.y+(s?s.f:0)+i.height/2)*(n-1),Ve.width*=n,Ve.height*=n}e.copyWorld(r.canvas,e.bounds,Ve)}else n&&(mp(Ve,t),Ve.x-=t.width/2*(n-1),Ve.y-=t.height/2*(n-1),Ve.width*=n,Ve.height*=n),e.copyWorld(r.canvas,o,n?Ve:t)}const{toOffsetOutBounds:bO}=_t,Fa={};function _O(e,t,n,r){let i,o;const{__world:s,__layout:a}=e,{innerShadow:l}=e.__,{worldCanvas:c,bounds:h,shapeBounds:u,scaleX:f,scaleY:d}=n,g=t.getSameCanvas(),m=l.length-1;bO(h,Fa),l.forEach((b,x)=>{g.save(),g.setWorldShadow(Fa.offsetX+b.x*f,Fa.offsetY+b.y*d,b.blur*f),o=b.spread?1-b.spread*2/(a.boxBounds.width+(a.strokeBoxSpread||0)*2):0,mv(g,Fa,o,n),g.restore(),c?(g.copyWorld(g,h,s,"copy"),g.copyWorld(c,s,s,"source-out"),i=s):(g.copyWorld(n.canvas,u,h,"source-out"),i=h),g.fillWorld(i,b.color,"source-in"),e.__worldFlipped||r.matrix?t.copyWorldByReset(g,i,s,b.blendMode):t.copyWorldToInner(g,i,a.renderBounds,b.blendMode),m&&x<m&&g.clear()}),g.recycle()}function wO(e,t,n){const{blur:r}=e.__;n.setWorldBlur(r*e.__world.a),n.copyWorldToInner(t,e.__world,e.__layout.renderBounds),n.filter="none"}var EO=Object.freeze({__proto__:null,blur:wO,innerShadow:_O,shadow:xO});const SO="¥￥＄€£￡¢￠",OO="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789abcdefghijklmnopqrstuvwxyz",CO="《（「〈『〖【〔｛┌＜‘“＝"+SO,PO="》）」〉』〗】〕｝┐＞’”！？，、。：；‰",TO="≮≯≈≠＝…",LO="—／～｜┆·",RO=`{[(<'"`+CO,vv=`>)]}%!?,.:;'"`+PO,MO=vv+"_#~&*+\\=|"+TO,IO="- "+LO,AO=[[19968,40959],[13312,19903],[131072,173791],[173824,177983],[177984,178207],[178208,183983],[183984,191471],[196608,201551],[201552,205743],[11904,12031],[12032,12255],[12272,12287],[12288,12351],[12736,12783],[12800,13055],[13056,13311],[63744,64255],[65072,65103],[127488,127743],[194560,195103]],DO=new RegExp(AO.map(([e,t])=>`[\\u${e.toString(16)}-\\u${t.toString(16)}]`).join("|"));function ia(e){const t={};return e.split("").forEach(n=>t[n]=!0),t}const BO=ia(OO),NO=ia(RO),FO=ia(vv),kO=ia(MO),$O=ia(IO);var pl;(function(e){e[e.Letter=0]="Letter",e[e.Single=1]="Single",e[e.Before=2]="Before",e[e.After=3]="After",e[e.Symbol=4]="Symbol",e[e.Break=5]="Break"})(pl||(pl={}));const{Letter:vp,Single:jO,Before:WO,After:UO,Symbol:HO,Break:zO}=pl;function GO(e){return BO[e]?vp:$O[e]?zO:NO[e]?WO:FO[e]?UO:kO[e]?HO:DO.test(e)?jO:vp}const YO={trimRight(e){const{words:t}=e;let n=0,r=t.length,i;for(let o=r-1;o>-1&&(i=t[o].data[0],i.char===" ");o--)n++,e.width-=i.width;n&&t.splice(r-n,n)}};function KO(e,t,n){switch(t){case"title":return n?e.toUpperCase():e;case"upper":return e.toUpperCase();case"lower":return e.toLowerCase();default:return e}}const{trimRight:XO}=YO,{Letter:Hc,Single:qs,Before:yp,After:zc,Symbol:VO,Break:xp}=pl;let Oo,qn,He,Ti,Gc,An,xr,Go,Ns,En,Hr,Yc,to,vs,$u,ps=[],ju;function ZO(e,t,n){$u=e,ps=e.rows,ju=e.bounds;const{__letterSpacing:r,paraIndent:i,textCase:o}=n,{canvas:s}=ut,{width:a,height:l}=ju;if(a||l||r||o!=="none"){const h=n.textWrap!=="none",u=n.textWrap==="break";vs=!0,Hr=null,Go=xr=Ns=He=Ti=0,Oo={data:[]},qn={words:[]};for(let f=0,d=t.length;f<d;f++)An=t[f],An===`
`?(He&&bi(),qn.paraEnd=!0,eo(),vs=!0):(En=GO(An),En===Hc&&o!=="none"&&(An=KO(An,o,!He)),xr=s.measureText(An).width,r&&(r<0&&(Ns=xr),xr+=r),Yc=En===qs&&(Hr===qs||Hr===Hc)||Hr===qs&&En!==zc,to=(En===yp||En===qs)&&(Hr===VO||Hr===zc),Gc=vs&&i?a-i:a,h&&a&&Ti+He+xr>Gc&&(u?(He&&bi(),eo()):(to||(to=En===Hc&&Hr==zc),(Yc||to||En===xp||En===yp||En===qs||He+xr>Gc)&&He&&bi(),eo())),An===" "&&vs!==!0&&Ti+He===0||(En===xp?(An===" "&&He&&bi(),Kc(An,xr),bi()):((Yc||to)&&He&&bi(),Kc(An,xr))),Hr=En);He&&bi(),Ti&&eo(),ps.length>0&&(ps[ps.length-1].paraEnd=!0)}else t.split(`
`).forEach(h=>{$u.paraNumber++,ps.push({x:i||0,text:h,width:s.measureText(h).width,paraStart:!0})})}function Kc(e,t){Ns&&!Go&&(Go=Ns),Oo.data.push({char:e,width:t}),He+=t}function bi(){Ti+=He,Oo.width=He,qn.words.push(Oo),Oo={data:[]},He=0}function eo(){vs&&($u.paraNumber++,qn.paraStart=!0,vs=!1),Ns&&(qn.startCharSize=Go,qn.endCharSize=Ns,Go=0),qn.width=Ti,ju.width&&XO(qn),ps.push(qn),qn={words:[]},Ti=0}const JO=0,bp=1,_p=2;function QO(e,t,n,r){const{rows:i}=e,{textAlign:o,paraIndent:s,letterSpacing:a}=t;let l,c,h,u,f;i.forEach(d=>{d.words&&(h=s&&d.paraStart?s:0,c=n&&o==="justify"&&d.words.length>1?(n-d.width-h)/(d.words.length-1):0,u=a||d.isOverflow?JO:c>.01?bp:_p,d.isOverflow&&!a&&(d.textMode=!0),u===_p?(d.x+=h,qO(d)):(d.x+=h,l=d.x,d.data=[],d.words.forEach(g=>{u===bp?(f={char:"",x:l},l=tC(g.data,l,f),f.char!==" "&&d.data.push(f)):l=eC(g.data,l,d.data),!d.paraEnd&&c&&(l+=c,d.width+=c)})),d.words=null)})}function qO(e){e.text="",e.words.forEach(t=>{t.data.forEach(n=>{e.text+=n.char})})}function tC(e,t,n){return e.forEach(r=>{n.char+=r.char,t+=r.width}),t}function eC(e,t,n){return e.forEach(r=>{r.char!==" "&&(r.x=t,n.push(r)),t+=r.width}),t}function nC(e,t){const{rows:n,bounds:r}=e,{__lineHeight:i,__baseLine:o,__letterSpacing:s,__clipText:a,textAlign:l,verticalAlign:c,paraSpacing:h}=t;let{x:u,y:f,width:d,height:g}=r,m=i*n.length+(h?h*(e.paraNumber-1):0),b=o;if(a&&m>g)m=Math.max(g,i),e.overflow=n.length;else switch(c){case"middle":f+=(g-m)/2;break;case"bottom":f+=g-m}b+=f;let x,p,v;for(let y=0,_=n.length;y<_;y++){switch(x=n[y],x.x=u,l){case"center":x.x+=(d-x.width)/2;break;case"right":x.x+=d-x.width}x.paraStart&&h&&y>0&&(b+=h),x.y=b,b+=i,e.overflow>y&&b>m&&(x.isOverflow=!0,e.overflow=y+1),p=x.x,v=x.width,s<0&&(x.width<0?(v=-x.width+t.fontSize+s,p-=v,v+=t.fontSize):v-=s),p<r.x&&(r.x=p),v>r.width&&(r.width=v),a&&d&&d<v&&(x.isOverflow=!0,e.overflow||(e.overflow=n.length))}r.y=f,r.height=m}function rC(e,t){const{rows:n,overflow:r}=e;let{textOverflow:i}=t;if(n.splice(r),i!=="hide"){i==="ellipsis"&&(i="...");let o,s;const a=ut.canvas.measureText(i).width,l=t.x+t.width-a;(t.textWrap==="none"?n:[n[r-1]]).forEach(h=>{if(h.isOverflow&&h.data){let u=h.data.length-1;for(let f=u;f>-1&&(o=h.data[f],s=o.x+o.width,!(f===u&&s<l));f--){if(s<l&&o.char!==" "){h.data.splice(f+1),h.width-=o.width;break}h.width-=o.width}h.width+=a,h.data.push({char:i,x:s}),h.textMode&&iC(h)}})}}function iC(e){e.text="",e.data.forEach(t=>{e.text+=t.char}),e.data=null}function sC(e,t){const{fontSize:n}=t;switch(e.decorationHeight=n/11,t.textDecoration){case"under":e.decorationY=n*.15;break;case"delete":e.decorationY=-n*.35}}const{top:Wu,right:yv,bottom:xv,left:Uu}=Tu,oC={getDrawData(e,t){typeof e!="string"&&(e=String(e));let n=0,r=0,i=t.__getInput("width")||0,o=t.__getInput("height")||0;const{textDecoration:s,__font:a,__padding:l}=t;l&&(i&&(n=l[Uu],i-=l[yv]+l[Uu]),o&&(r=l[Wu],o-=l[Wu]+l[xv]));const c={bounds:{x:n,y:r,width:i,height:o},rows:[],paraNumber:0,font:ut.canvas.font=a};return ZO(c,e,t),l&&aC(l,c,t,i,o),nC(c,t),QO(c,t,i),c.overflow&&rC(c,t),s!=="none"&&sC(c,t),c}};function aC(e,t,n,r,i){if(!r)switch(n.textAlign){case"left":ka(t,"x",e[Uu]);break;case"right":ka(t,"x",-e[yv])}if(!i)switch(n.verticalAlign){case"top":ka(t,"y",e[Wu]);break;case"bottom":ka(t,"y",-e[xv])}}function ka(e,t,n){const{bounds:r,rows:i}=e;r[t]+=n;for(let o=0;o<i.length;o++)i[o][t]+=n}const lC={string(e,t){if(typeof e=="string")return e;let n=e.a===void 0?1:e.a;t&&(n*=t);const r=e.r+","+e.g+","+e.b;return n===1?"rgb("+r+")":"rgba("+r+","+n+")"}},Va={export(e,t,n){return Va.running=!0,cC(r=>new Promise(i=>{const{leafer:o}=e;o?o.waitViewCompleted(()=>Wh(this,void 0,void 0,function*(){let s,a,{canvas:l}=o,{unreal:c}=l;switch(c&&(l=l.getSameCanvas(),l.backgroundColor=o.config.fill,o.__render(l,{})),typeof n){case"object":n.quality&&(s=n.quality),n.blob&&(a=!0);break;case"number":s=n;break;case"boolean":a=n}let h;t.includes(".")?h=yield l.saveAs(t,s):a?h=yield l.toBlob(t,s):h=yield l.toDataURL(t,s),r({data:h}),i(),Va.running=!1,c&&l.recycle()})):(r({data:!1}),i(),Va.running=!1)}))}};let Xc;function cC(e){return Xc||(Xc=new Ru),new Promise(t=>{Xc.add(()=>Wh(this,void 0,void 0,function*(){return yield e(t)}),{parallel:!1})})}Object.assign(ye,vO);Object.assign(Au,EO);Object.assign(av,oC);Object.assign(fl,lC);Object.assign(lv,Va);DS();const uC=Math.PI/180;class hC{constructor(t,n,r){Q(this,"app");Q(this,"objectsLayer");Q(this,"rulerLeafer");Q(this,"contextContainer");Q(this,"options");Q(this,"config");Q(this,"objectRect");this.app=t.app,this.objectsLayer=t.objectsLayer,this.rulerLeafer=this.app.addLeafer(),this.contextContainer=this.rulerLeafer.canvas.context,this.options=r||{ruleSize:20,fontSize:10,themes:new Map([["light",{backgroundColor:"#fff",textColor:"#888888",borderColor:"#ddd",highlightColor:"#165dff3b"}],["dark",{backgroundColor:"#242424",textColor:"#ddd",borderColor:"#555",highlightColor:"rgba(22,93,255,0.55)"}]])},this.config=n||{enabled:!0,theme:"light"},this.forceRender=this.forceRender.bind(this),this.enabled=this.config.enabled}changeTheme(t){this.theme=t}set theme(t){this.config.theme=t,this.forceRender()}get theme(){return this.config.theme}addTheme(t,n){this.options.themes.set(t,n)}removeTheme(t){this.options.themes.delete(t)}changeEnabled(t){this.enabled=t}get enabled(){return this.config.enabled}set enabled(t){this.config.enabled=t,t?(this.app.on(Qt.AFTER,this.forceRender),setTimeout(()=>{this.forceRender()},0)):(this.app.off(Qt.AFTER,this.forceRender),this.rulerLeafer.forceFullRender())}forceRender(){this.enabled&&this.render({ctx:this.contextContainer})}getSize(){return{width:this.app.width,height:this.app.height}}render({ctx:t}){this.rulerLeafer.canvas.setWorld({a:1,b:0,c:0,d:1,e:0,f:0});const{worldTransform:n}=this.objectsLayer,r=[n.a,n.b,n.c,n.d,n.e,n.f];this.draw({ctx:t,isHorizontal:!0,rulerLength:this.getSize().width,startCalibration:-(r[4]/r[0])}),this.draw({ctx:t,isHorizontal:!1,rulerLength:this.getSize().height,startCalibration:-(r[5]/r[3])}),this.drawMask(t,{isHorizontal:!0,left:-10,top:-10,width:this.options.ruleSize*2+10,height:this.options.ruleSize+10,backgroundColor:"#FFF"}),this.drawMask(t,{isHorizontal:!1,left:-10,top:-10,width:this.options.ruleSize+10,height:this.options.ruleSize*2+10,backgroundColor:"#fff"}),this.app.emit(Qt.END,{renderBounds:this.app.canvas.bounds})}draw(t){const{ctx:n,isHorizontal:r,rulerLength:i,startCalibration:o}=t,s=this.getZoom(),a=this.getGap(s),l=Math.ceil(i/s),c=Math.floor(o/a)*a,h=c-o,u=this.getSize(),f=this.options.themes.get(this.config.theme),{ruleSize:d}=this.options;this.darwRect(n,{left:0,top:0,width:r?u.width:d,height:r?d:u.height,fill:f.backgroundColor,stroke:f.borderColor});for(let g=0;g+h<=Math.ceil(l);g+=a){const m=Math.round((h+g)*s),b=r?m:this.options.ruleSize-8,x=r?this.options.ruleSize-8:m,p=r?0:8,v=r?8:0;this.darwLine(n,{left:b,top:x,width:p,height:v,stroke:"#888888"})}for(let g=0;g+h<=Math.ceil(l);g+=a){const m=(h+g)*s,b=c+g+"",x=10*b.length/4,p=r?m-x-1:this.options.ruleSize/2-this.options.fontSize/2-4,v=r?this.options.ruleSize/2-this.options.fontSize/2-4:m+x;this.darwText(n,{text:b,left:p,top:v,fill:"#888888",angle:r?0:-90})}if(this.objectRect){const g=r?"x":"y";this.objectRect[g].forEach(m=>{if(m.skip===g)return;const[b,x,p,v]=r?[(m.left-o)*s,0,m.width*s,d]:[0,(m.top-o)*s,d,m.height*s];this.darwRect(n,{left:b,top:x,width:p,height:v,fill:f.highlightColor})})}}getGap(t){const n=[.02,.03,.05,.1,.2,.5,1,2,5],r=[5e3,2500,1e3,500,200,100,50,20,10];let i=0;for(;i<n.length&&n[i]<t;)i++;return r[i-1]||1e4}darwRect(t,{left:n,top:r,width:i,height:o,fill:s,stroke:a,strokeWidth:l}){t.save(),t.beginPath(),s&&(t.fillStyle=s),t.rect(n,r,i,o),t.fill(),a&&(t.strokeStyle=a,t.lineWidth=l??1,t.stroke()),t.restore()}darwText(t,{left:n,top:r,text:i,fill:o,align:s,angle:a,fontSize:l,baseline:c}){t.save(),o&&(t.fillStyle=o),t.textAlign=s??"left",t.textBaseline=c??"top",t.font=`${l??10}px sans-serif`,a&&(t.translate(n,r),t.rotate(uC*a),t.translate(-n,-r)),t.fillText(i,n,r),t.restore()}darwLine(t,{left:n,top:r,width:i,height:o,stroke:s,lineWidth:a}){t.save(),t.beginPath(),s&&(t.strokeStyle=s),t.lineWidth=a??1,t.moveTo(n,r),t.lineTo(n+i,r+o),t.stroke(),t.restore()}drawMask(t,n){t.save();const{isHorizontal:r,left:i,top:o,width:s,height:a,backgroundColor:l}=n,c=r?t.createLinearGradient(i,a/2,i+s,a/2):t.createLinearGradient(s/2,o,s/2,a+o);c.addColorStop(0,"rgba(255,255,255,0)"),c.addColorStop(.33,l),c.addColorStop(.67,l),c.addColorStop(1,"rgba(255,255,255,0)"),this.darwRect(t,{left:i,top:o,width:s,height:a,fill:c}),t.restore()}getZoom(){return this.app&&this.objectsLayer&&typeof this.objectsLayer.zoomLayer.scaleX=="number"?this.objectsLayer.zoomLayer.scaleX:1}dispose(){this.rulerLeafer.destroy(),this.enabled=!1}}typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const fC=()=>+Date.now();function dC(e,t){function n(...r){return new Promise((i,o)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(i).catch(o)})}return n}const bv=e=>e();function pC(e=bv){const t=$t(!0);function n(){t.value=!1}function r(){t.value=!0}const i=(...o)=>{t.value&&e(...o)};return{isActive:Ml(t),pause:n,resume:r,eventFilter:i}}function gC(e,t,n={}){const{eventFilter:r=bv,...i}=n,o=dC(r,t);let s,a,l;if(i.flush==="sync"){const c=$t(!1);a=()=>{},s=h=>{c.value=!0,h(),c.value=!1},l=sr(e,(...h)=>{c.value||o(...h)},i)}else{const c=[],h=$t(0),u=$t(0);a=()=>{h.value=u.value},c.push(sr(e,()=>{u.value++},{...i,flush:"sync"})),s=f=>{const d=u.value;f(),h.value+=u.value-d},c.push(sr(e,(...f)=>{const d=h.value>0&&h.value===u.value;h.value=0,u.value=0,!d&&o(...f)},i)),l=()=>{c.forEach(f=>f())}}return{stop:l,ignoreUpdates:s,ignorePrevAsyncUpdates:a}}function _v(e){return JSON.parse(JSON.stringify(e))}function wv(e){return e}function mC(e,t){return e.value=t}function vC(e){return e?typeof e=="function"?e:_v:wv}function yC(e){return e?typeof e=="function"?e:_v:wv}function xC(e,t={}){const{clone:n=!1,dump:r=vC(n),parse:i=yC(n),setSource:o=mC}=t;function s(){return Al({snapshot:r(e.value),timestamp:fC()})}const a=$t(s()),l=$t([]),c=$t([]),h=v=>{o(e,i(v.snapshot)),a.value=v},u=()=>{l.value.unshift(a.value),a.value=s(),t.capacity&&l.value.length>t.capacity&&l.value.splice(t.capacity,Number.POSITIVE_INFINITY),c.value.length&&c.value.splice(0,c.value.length)},f=()=>{l.value.splice(0,l.value.length),c.value.splice(0,c.value.length)},d=()=>{const v=l.value.shift();v&&(c.value.unshift(a.value),h(v))},g=()=>{const v=c.value.shift();v&&(l.value.unshift(a.value),h(v))},m=()=>{h(a.value)},b=Ss(()=>[a.value,...l.value]),x=Ss(()=>l.value.length>0),p=Ss(()=>c.value.length>0);return{source:e,undoStack:l,redoStack:c,last:a,history:b,canUndo:x,canRedo:p,clear:f,commit:u,reset:m,undo:d,redo:g}}function bC(e,t={}){const{deep:n=!1,flush:r="pre",eventFilter:i}=t,{eventFilter:o,pause:s,resume:a,isActive:l}=pC(i),{ignoreUpdates:c,ignorePrevAsyncUpdates:h,stop:u}=gC(e,b,{deep:n,flush:r,eventFilter:o});function f(y,_){h(),c(()=>{y.value=_})}const d=xC(e,{...t,clone:t.clone||n,setSource:f}),{clear:g,commit:m}=d;function b(){h(),m()}function x(y){a(),y&&b()}function p(y){let _=!1;const w=()=>_=!0;c(()=>{y(w)}),_||b()}function v(){u(),g()}return{...d,isTracking:l,pause:s,resume:x,commit:b,batch:p,dispose:v}}var it=(e=>(e.ONZOOM="onZoom",e.ONTRANSLATE="onTranslate",e.ONPOINTLEAVE="onPointLeave",e.ONPOINTMOVE="onPointMove",e.ONPOINTDOWN="onPointDown",e.ONPOINTUP="onPointUp",e.ONKEYDOWN="onKeyDown",e.ONCONTEXTMENU="onContextMenu",e.ONMOVE="onMove",e.ONSELECT="onSelect",e.ONDRAW="onDraw",e.ONCOMPLETE="onComplete",e.ONCHANGE="onChange",e.ONGUIDELINEMOVE="onGuideLineMove",e.ONTIMECHANGE="onTimeChange",e))(it||{});class Ev{constructor(t){Q(this,"box");Q(this,"history");Q(this,"renderCanvas",()=>{this.history.pause(),this.box.clear(),this.box.setObjectData(this.history.source.value),this.history.resume()});this.box=t,this._init()}_init(){this.history=bC($t([]),{capacity:50,dump:JSON.stringify,parse:JSON.parse}),this.box.app.on_(it.ONCHANGE,this._save,this),this.box.app.on_(it.ONKEYDOWN,this.hotkeyEvent,this)}getHistory(){return this.history}_save(){if(this.history.isTracking.value){const t=this.box.toJSON();this.history.source.value=t}}undo(){this.history.canUndo&&(this.history.undo(),this.renderCanvas())}redo(){this.history.canRedo&&(this.history.redo(),this.renderCanvas())}clear(){this.history.clear()}hotkeyEvent(t){t.code=="KeyZ"&&t.ctrlKey&&(t.shiftKey?this.redo():this.undo())}}Q(Ev,"pluginName","HistoryPlugin");class _C{constructor(t){Q(this,"box");Q(this,"app");Q(this,"guideLayer");Q(this,"guideLine");this.box=t,this.app=t.app,this.guideLayer=this.app.addLeafer({hittable:!1}),this.guideLine=new ur({x:0,y:0,stroke:"red",strokeWidth:.5,hitFill:"none",draggable:!1}),this.guideLayer.add(this.guideLine),this.app.on_(it.ONGUIDELINEMOVE,this.appOnPointMove,this)}renderGuideLine(t){let n="";if(this.box.moveStatus)return this.guideLine.path=n;let r=0;for(;r<this.app.width;)n+=`M ${r} ${t.y} L ${r+10} ${t.y} `,r+=15;for(r=0;r<this.app.height;)n+=`M ${t.x} ${r} L ${t.x} ${r+10} `,r+=15;this.guideLine.path=n}appOnPointMove(t){this.guideLine.path="",t.buttons!==void 0&&this.renderGuideLine(t)}}class Sv{constructor(t){Q(this,"box");Q(this,"delay",3e3);Q(this,"time",0);Q(this,"type");Q(this,"timer",null);Q(this,"interval",null);this.box=t,this._init()}_init(){this.box.app.on_(it.ONZOOM,this.debouncedHandleInput,this),this.box.app.on_(it.ONTRANSLATE,this.debouncedHandleInput,this),this.box.app.on_(it.ONPOINTLEAVE,this.debouncedHandleInput,this),this.box.app.on_(it.ONPOINTMOVE,this.debouncedHandleInput,this),this.box.app.on_(it.ONPOINTDOWN,this.debouncedHandleInput,this),this.box.app.on_(it.ONPOINTUP,this.debouncedHandleInput,this),this.initInterval()}initInterval(){this.type=1,this.interval||(this.interval=setInterval(()=>{if(this.type===1){this.time+=1;const t=this.formatTime();this.box.app.emit(it.ONTIMECHANGE,{time:t})}},1e3))}clearInterval(){this.interval=clearInterval(this.interval)}debouncedHandleInput(){this.initInterval(),this.debounce(this.handleInput.bind(this),this.delay)}debounce(t,n){this.timer&&clearTimeout(this.timer),this.timer=setTimeout(t,n)}handleInput(){this.type=0,this.clearInterval()}formatTime(){const t=this.time,n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return`${n.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}:${i.toString().padStart(2,"0")}`}getNowTime(){const t=new Date,n=t.getFullYear(),r=(t.getMonth()+1).toString().padStart(2,"0"),i=t.getDate().toString().padStart(2,"0"),o=t.getHours().toString().padStart(2,"0"),s=t.getMinutes().toString().padStart(2,"0"),a=t.getSeconds().toString().padStart(2,"0");return`${n}-${r}-${i} ${o}:${s}:${a}`}reset(){this.time=0,this.type=0}}Q(Sv,"pluginName","TimePlugin");class Ov{constructor(){Q(this,"id","");Q(this,"pointList",[]);Q(this,"minPointCount");Q(this,"type");Q(this,"label","");Q(this,"color","#ffff00");Q(this,"index",1);Q(this,"box");Q(this,"boxEventIds",[]);Q(this,"obj");Q(this,"objoxEventIds",[]);Q(this,"status","draw");Q(this,"completeing",!1);Q(this,"mouseEnter",!1);Q(this,"mouseDown",!1);Q(this,"lastMousePoint",{x:0,y:0});Q(this,"acctivePointIndex",-1);Q(this,"dragStatus",!1)}setLabel(t){this.label=t.label,this.color=t.color,this.render(),this.box.app.emit(it.ONCHANGE)}setSelect(t){this.box.selectObject&&(this.box.selectObject.status="done",this.box.selectObject.render(),this.box.selectObject=void 0),this.status=t?"edit":"done",this.box.selectObject=this,this.render(),this.box.app.emit(it.ONCHANGE)}}function Cv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}var Me=63710088e-1,zh={centimeters:Me*100,centimetres:Me*100,degrees:Me/111325,feet:Me*3.28084,inches:Me*39.37,kilometers:Me/1e3,kilometres:Me/1e3,meters:Me,metres:Me,miles:Me/1609.344,millimeters:Me*1e3,millimetres:Me*1e3,nauticalmiles:Me/1852,radians:1,yards:Me*1.0936},wC={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:1/1e3,kilometres:1/1e3,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/Me,yards:1.0936133},Hu={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,hectares:1e-4,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046};function Rn(e,t,n){n===void 0&&(n={});var r={type:"Feature"};return(n.id===0||n.id)&&(r.id=n.id),n.bbox&&(r.bbox=n.bbox),r.properties=t||{},r.geometry=e,r}function EC(e,t,n){switch(e){case"Point":return er(t).geometry;case"LineString":return Hn(t).geometry;case"Polygon":return hr(t).geometry;case"MultiPoint":return Pv(t).geometry;case"MultiLineString":return Gh(t).geometry;case"MultiPolygon":return sa(t).geometry;default:throw new Error(e+" is invalid")}}function er(e,t,n){if(n===void 0&&(n={}),!e)throw new Error("coordinates is required");if(!Array.isArray(e))throw new Error("coordinates must be an Array");if(e.length<2)throw new Error("coordinates must be at least 2 numbers long");if(!gl(e[0])||!gl(e[1]))throw new Error("coordinates must contain numbers");var r={type:"Point",coordinates:e};return Rn(r,t,n)}function SC(e,t,n){return n===void 0&&(n={}),hi(e.map(function(r){return er(r,t)}),n)}function hr(e,t,n){n===void 0&&(n={});for(var r=0,i=e;r<i.length;r++){var o=i[r];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}var a={type:"Polygon",coordinates:e};return Rn(a,t,n)}function OC(e,t,n){return n===void 0&&(n={}),hi(e.map(function(r){return hr(r,t)}),n)}function Hn(e,t,n){if(n===void 0&&(n={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");var r={type:"LineString",coordinates:e};return Rn(r,t,n)}function CC(e,t,n){return n===void 0&&(n={}),hi(e.map(function(r){return Hn(r,t)}),n)}function hi(e,t){t===void 0&&(t={});var n={type:"FeatureCollection"};return t.id&&(n.id=t.id),t.bbox&&(n.bbox=t.bbox),n.features=e,n}function Gh(e,t,n){n===void 0&&(n={});var r={type:"MultiLineString",coordinates:e};return Rn(r,t,n)}function Pv(e,t,n){n===void 0&&(n={});var r={type:"MultiPoint",coordinates:e};return Rn(r,t,n)}function sa(e,t,n){n===void 0&&(n={});var r={type:"MultiPolygon",coordinates:e};return Rn(r,t,n)}function PC(e,t,n){n===void 0&&(n={});var r={type:"GeometryCollection",geometries:e};return Rn(r,t,n)}function TC(e,t){if(t===void 0&&(t=0),t&&!(t>=0))throw new Error("precision must be a positive number");var n=Math.pow(10,t||0);return Math.round(e*n)/n}function Tv(e,t){t===void 0&&(t="kilometers");var n=zh[t];if(!n)throw new Error(t+" units is invalid");return e*n}function Yh(e,t){t===void 0&&(t="kilometers");var n=zh[t];if(!n)throw new Error(t+" units is invalid");return e/n}function LC(e,t){return Lv(Yh(e,t))}function RC(e){var t=e%360;return t<0&&(t+=360),t}function Lv(e){var t=e%(2*Math.PI);return t*180/Math.PI}function MC(e){var t=e%360;return t*Math.PI/180}function IC(e,t,n){if(t===void 0&&(t="kilometers"),n===void 0&&(n="kilometers"),!(e>=0))throw new Error("length must be a positive number");return Tv(Yh(e,t),n)}function AC(e,t,n){if(t===void 0&&(t="meters"),n===void 0&&(n="kilometers"),!(e>=0))throw new Error("area must be a positive number");var r=Hu[t];if(!r)throw new Error("invalid original units");var i=Hu[n];if(!i)throw new Error("invalid final units");return e/r*i}function gl(e){return!isNaN(e)&&e!==null&&!Array.isArray(e)}function Kh(e){return!!e&&e.constructor===Object}function DC(e){if(!e)throw new Error("bbox is required");if(!Array.isArray(e))throw new Error("bbox must be an Array");if(e.length!==4&&e.length!==6)throw new Error("bbox must be an Array of 4 or 6 numbers");e.forEach(function(t){if(!gl(t))throw new Error("bbox must only contain numbers")})}function BC(e){if(!e)throw new Error("id is required");if(["string","number"].indexOf(typeof e)===-1)throw new Error("id must be a number or a string")}const NC=Object.freeze(Object.defineProperty({__proto__:null,areaFactors:Hu,bearingToAzimuth:RC,convertArea:AC,convertLength:IC,degreesToRadians:MC,earthRadius:Me,factors:zh,feature:Rn,featureCollection:hi,geometry:EC,geometryCollection:PC,isNumber:gl,isObject:Kh,lengthToDegrees:LC,lengthToRadians:Yh,lineString:Hn,lineStrings:CC,multiLineString:Gh,multiPoint:Pv,multiPolygon:sa,point:er,points:SC,polygon:hr,polygons:OC,radiansToDegrees:Lv,radiansToLength:Tv,round:TC,unitsFactors:wC,validateBBox:DC,validateId:BC},Symbol.toStringTag,{value:"Module"}));function Us(e,t,n){if(e!==null)for(var r,i,o,s,a,l,c,h=0,u=0,f,d=e.type,g=d==="FeatureCollection",m=d==="Feature",b=g?e.features.length:1,x=0;x<b;x++){c=g?e.features[x].geometry:m?e.geometry:e,f=c?c.type==="GeometryCollection":!1,a=f?c.geometries.length:1;for(var p=0;p<a;p++){var v=0,y=0;if(s=f?c.geometries[p]:c,s!==null){l=s.coordinates;var _=s.type;switch(h=n&&(_==="Polygon"||_==="MultiPolygon")?1:0,_){case null:break;case"Point":if(t(l,u,x,v,y)===!1)return!1;u++,v++;break;case"LineString":case"MultiPoint":for(r=0;r<l.length;r++){if(t(l[r],u,x,v,y)===!1)return!1;u++,_==="MultiPoint"&&v++}_==="LineString"&&v++;break;case"Polygon":case"MultiLineString":for(r=0;r<l.length;r++){for(i=0;i<l[r].length-h;i++){if(t(l[r][i],u,x,v,y)===!1)return!1;u++}_==="MultiLineString"&&v++,_==="Polygon"&&y++}_==="Polygon"&&v++;break;case"MultiPolygon":for(r=0;r<l.length;r++){for(y=0,i=0;i<l[r].length;i++){for(o=0;o<l[r][i].length-h;o++){if(t(l[r][i][o],u,x,v,y)===!1)return!1;u++}y++}v++}break;case"GeometryCollection":for(r=0;r<s.geometries.length;r++)if(Us(s.geometries[r],t,n)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function FC(e,t,n,r){var i=n;return Us(e,function(o,s,a,l,c){s===0&&n===void 0?i=o:i=t(i,o,s,a,l,c)},r),i}function Rv(e,t){var n;switch(e.type){case"FeatureCollection":for(n=0;n<e.features.length&&t(e.features[n].properties,n)!==!1;n++);break;case"Feature":t(e.properties,0);break}}function kC(e,t,n){var r=n;return Rv(e,function(i,o){o===0&&n===void 0?r=i:r=t(r,i,o)}),r}function ml(e,t){if(e.type==="Feature")t(e,0);else if(e.type==="FeatureCollection")for(var n=0;n<e.features.length&&t(e.features[n],n)!==!1;n++);}function $C(e,t,n){var r=n;return ml(e,function(i,o){o===0&&n===void 0?r=i:r=t(r,i,o)}),r}function jC(e){var t=[];return Us(e,function(n){t.push(n)}),t}function Xh(e,t){var n,r,i,o,s,a,l,c,h,u,f=0,d=e.type==="FeatureCollection",g=e.type==="Feature",m=d?e.features.length:1;for(n=0;n<m;n++){for(a=d?e.features[n].geometry:g?e.geometry:e,c=d?e.features[n].properties:g?e.properties:{},h=d?e.features[n].bbox:g?e.bbox:void 0,u=d?e.features[n].id:g?e.id:void 0,l=a?a.type==="GeometryCollection":!1,s=l?a.geometries.length:1,i=0;i<s;i++){if(o=l?a.geometries[i]:a,o===null){if(t(null,f,c,h,u)===!1)return!1;continue}switch(o.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(o,f,c,h,u)===!1)return!1;break}case"GeometryCollection":{for(r=0;r<o.geometries.length;r++)if(t(o.geometries[r],f,c,h,u)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}f++}}function WC(e,t,n){var r=n;return Xh(e,function(i,o,s,a,l){o===0&&n===void 0?r=i:r=t(r,i,o,s,a,l)}),r}function Ir(e,t){Xh(e,function(n,r,i,o,s){var a=n===null?null:n.type;switch(a){case null:case"Point":case"LineString":case"Polygon":return t(Rn(n,i,{bbox:o,id:s}),r,0)===!1?!1:void 0}var l;switch(a){case"MultiPoint":l="Point";break;case"MultiLineString":l="LineString";break;case"MultiPolygon":l="Polygon";break}for(var c=0;c<n.coordinates.length;c++){var h=n.coordinates[c],u={type:l,coordinates:h};if(t(Rn(u,i),r,c)===!1)return!1}})}function UC(e,t,n){var r=n;return Ir(e,function(i,o,s){o===0&&s===0&&n===void 0?r=i:r=t(r,i,o,s)}),r}function Mv(e,t){Ir(e,function(n,r,i){var o=0;if(n.geometry){var s=n.geometry.type;if(!(s==="Point"||s==="MultiPoint")){var a,l=0,c=0,h=0;if(Us(n,function(u,f,d,g,m){if(a===void 0||r>l||g>c||m>h){a=u,l=r,c=g,h=m,o=0;return}var b=Hn([a,u],n.properties);if(t(b,r,i,m,o)===!1)return!1;o++,a=u})===!1)return!1}}})}function HC(e,t,n){var r=n,i=!1;return Mv(e,function(o,s,a,l,c){i===!1&&n===void 0?r=o:r=t(r,o,s,a,l,c),i=!0}),r}function Iv(e,t){if(!e)throw new Error("geojson is required");Ir(e,function(n,r,i){if(n.geometry!==null){var o=n.geometry.type,s=n.geometry.coordinates;switch(o){case"LineString":if(t(n,r,i,0,0)===!1)return!1;break;case"Polygon":for(var a=0;a<s.length;a++)if(t(Hn(s[a],n.properties),r,i,a)===!1)return!1;break}}})}function zC(e,t,n){var r=n;return Iv(e,function(i,o,s,a){o===0&&n===void 0?r=i:r=t(r,i,o,s,a)}),r}function GC(e,t){if(t=t||{},!Kh(t))throw new Error("options is invalid");var n=t.featureIndex||0,r=t.multiFeatureIndex||0,i=t.geometryIndex||0,o=t.segmentIndex||0,s=t.properties,a;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),s=s||e.features[n].properties,a=e.features[n].geometry;break;case"Feature":s=s||e.properties,a=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":a=e;break;default:throw new Error("geojson is invalid")}if(a===null)return null;var l=a.coordinates;switch(a.type){case"Point":case"MultiPoint":return null;case"LineString":return o<0&&(o=l.length+o-1),Hn([l[o],l[o+1]],s,t);case"Polygon":return i<0&&(i=l.length+i),o<0&&(o=l[i].length+o-1),Hn([l[i][o],l[i][o+1]],s,t);case"MultiLineString":return r<0&&(r=l.length+r),o<0&&(o=l[r].length+o-1),Hn([l[r][o],l[r][o+1]],s,t);case"MultiPolygon":return r<0&&(r=l.length+r),i<0&&(i=l[r].length+i),o<0&&(o=l[r][i].length-o-1),Hn([l[r][i][o],l[r][i][o+1]],s,t)}throw new Error("geojson is invalid")}function YC(e,t){if(t=t||{},!Kh(t))throw new Error("options is invalid");var n=t.featureIndex||0,r=t.multiFeatureIndex||0,i=t.geometryIndex||0,o=t.coordIndex||0,s=t.properties,a;switch(e.type){case"FeatureCollection":n<0&&(n=e.features.length+n),s=s||e.features[n].properties,a=e.features[n].geometry;break;case"Feature":s=s||e.properties,a=e.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":a=e;break;default:throw new Error("geojson is invalid")}if(a===null)return null;var l=a.coordinates;switch(a.type){case"Point":return er(l,s,t);case"MultiPoint":return r<0&&(r=l.length+r),er(l[r],s,t);case"LineString":return o<0&&(o=l.length+o),er(l[o],s,t);case"Polygon":return i<0&&(i=l.length+i),o<0&&(o=l[i].length+o),er(l[i][o],s,t);case"MultiLineString":return r<0&&(r=l.length+r),o<0&&(o=l[r].length+o),er(l[r][o],s,t);case"MultiPolygon":return r<0&&(r=l.length+r),i<0&&(i=l[r].length+i),o<0&&(o=l[r][i].length-o),er(l[r][i][o],s,t)}throw new Error("geojson is invalid")}const KC=Object.freeze(Object.defineProperty({__proto__:null,coordAll:jC,coordEach:Us,coordReduce:FC,featureEach:ml,featureReduce:$C,findPoint:YC,findSegment:GC,flattenEach:Ir,flattenReduce:UC,geomEach:Xh,geomReduce:WC,lineEach:Iv,lineReduce:zC,propEach:Rv,propReduce:kC,segmentEach:Mv,segmentReduce:HC},Symbol.toStringTag,{value:"Module"}));function zu(e){var t=[1/0,1/0,-1/0,-1/0];return Us(e,function(n){t[0]>n[0]&&(t[0]=n[0]),t[1]>n[1]&&(t[1]=n[1]),t[2]<n[0]&&(t[2]=n[0]),t[3]<n[1]&&(t[3]=n[1])}),t}zu.default=zu;const XC=Object.freeze(Object.defineProperty({__proto__:null,default:zu},Symbol.toStringTag,{value:"Module"}));function VC(e){if(!e)throw new Error("coord is required");if(!Array.isArray(e)){if(e.type==="Feature"&&e.geometry!==null&&e.geometry.type==="Point")return e.geometry.coordinates;if(e.type==="Point")return e.coordinates}if(Array.isArray(e)&&e.length>=2&&!Array.isArray(e[0])&&!Array.isArray(e[1]))return e;throw new Error("coord must be GeoJSON Point or an Array of numbers")}function Ui(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function fr(e){return e.type==="Feature"?e.geometry:e}var Av=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dv(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function oa(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var o=Function.bind.apply(t,i);return new o}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}function Yo(e,t,n){if(n===void 0&&(n={}),!e)throw new Error("point is required");if(!t)throw new Error("polygon is required");var r=VC(e),i=fr(t),o=i.type,s=t.bbox,a=i.coordinates;if(s&&ZC(r,s)===!1)return!1;o==="Polygon"&&(a=[a]);for(var l=!1,c=0;c<a.length&&!l;c++)if(wp(r,a[c][0],n.ignoreBoundary)){for(var h=!1,u=1;u<a[c].length&&!h;)wp(r,a[c][u],!n.ignoreBoundary)&&(h=!0),u++;h||(l=!0)}return l}function wp(e,t,n){var r=!1;t[0][0]===t[t.length-1][0]&&t[0][1]===t[t.length-1][1]&&(t=t.slice(0,t.length-1));for(var i=0,o=t.length-1;i<t.length;o=i++){var s=t[i][0],a=t[i][1],l=t[o][0],c=t[o][1],h=e[1]*(s-l)+a*(l-e[0])+c*(e[0]-s)===0&&(s-e[0])*(l-e[0])<=0&&(a-e[1])*(c-e[1])<=0;if(h)return!n;var u=a>e[1]!=c>e[1]&&e[0]<(l-s)*(e[1]-a)/(c-a)+s;u&&(r=!r)}return r}function ZC(e,t){return t[0]<=e[0]&&t[1]<=e[1]&&t[2]>=e[0]&&t[3]>=e[1]}function Ep(e){if(!e)throw new Error("geojson is required");var t=[];return Ir(e,function(n){JC(n,t)}),hi(t)}function JC(e,t){var n=[],r=e.geometry;if(r!==null){switch(r.type){case"Polygon":n=Ui(r);break;case"LineString":n=[Ui(r)]}n.forEach(function(i){var o=QC(i,e.properties);o.forEach(function(s){s.id=t.length,t.push(s)})})}}function QC(e,t){var n=[];return e.reduce(function(r,i){var o=Hn([r,i],t);return o.bbox=qC(r,i),n.push(o),i}),n}function qC(e,t){var n=e[0],r=e[1],i=t[0],o=t[1],s=n<i?n:i,a=r<o?r:o,l=n>i?n:i,c=r>o?r:o;return[s,a,l,c]}var Vh={exports:{}},Bv={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(Av,function(){function n(p,v,y,_,w){(function C(E,S,T,R,B){for(;R>T;){if(R-T>600){var L=R-T+1,M=S-T+1,$=Math.log(L),D=.5*Math.exp(2*$/3),j=.5*Math.sqrt($*D*(L-D)/L)*(M-L/2<0?-1:1),X=Math.max(T,Math.floor(S-M*D/L+j)),Ot=Math.min(R,Math.floor(S+(L-M)*D/L+j));C(E,S,X,Ot,B)}var Dt=E[S],Tt=T,xt=R;for(r(E,T,S),B(E[R],Dt)>0&&r(E,T,R);Tt<xt;){for(r(E,Tt,xt),Tt++,xt--;B(E[Tt],Dt)<0;)Tt++;for(;B(E[xt],Dt)>0;)xt--}B(E[T],Dt)===0?r(E,T,xt):r(E,++xt,R),xt<=S&&(T=xt+1),S<=xt&&(R=xt-1)}})(p,v,y||0,_||p.length-1,w||i)}function r(p,v,y){var _=p[v];p[v]=p[y],p[y]=_}function i(p,v){return p<v?-1:p>v?1:0}var o=function(p){p===void 0&&(p=9),this._maxEntries=Math.max(4,p),this._minEntries=Math.max(2,Math.ceil(.4*this._maxEntries)),this.clear()};function s(p,v,y){if(!y)return v.indexOf(p);for(var _=0;_<v.length;_++)if(y(p,v[_]))return _;return-1}function a(p,v){l(p,0,p.children.length,v,p)}function l(p,v,y,_,w){w||(w=b(null)),w.minX=1/0,w.minY=1/0,w.maxX=-1/0,w.maxY=-1/0;for(var C=v;C<y;C++){var E=p.children[C];c(w,p.leaf?_(E):E)}return w}function c(p,v){return p.minX=Math.min(p.minX,v.minX),p.minY=Math.min(p.minY,v.minY),p.maxX=Math.max(p.maxX,v.maxX),p.maxY=Math.max(p.maxY,v.maxY),p}function h(p,v){return p.minX-v.minX}function u(p,v){return p.minY-v.minY}function f(p){return(p.maxX-p.minX)*(p.maxY-p.minY)}function d(p){return p.maxX-p.minX+(p.maxY-p.minY)}function g(p,v){return p.minX<=v.minX&&p.minY<=v.minY&&v.maxX<=p.maxX&&v.maxY<=p.maxY}function m(p,v){return v.minX<=p.maxX&&v.minY<=p.maxY&&v.maxX>=p.minX&&v.maxY>=p.minY}function b(p){return{children:p,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function x(p,v,y,_,w){for(var C=[v,y];C.length;)if(!((y=C.pop())-(v=C.pop())<=_)){var E=v+Math.ceil((y-v)/_/2)*_;n(p,E,v,y,w),C.push(v,E,E,y)}}return o.prototype.all=function(){return this._all(this.data,[])},o.prototype.search=function(p){var v=this.data,y=[];if(!m(p,v))return y;for(var _=this.toBBox,w=[];v;){for(var C=0;C<v.children.length;C++){var E=v.children[C],S=v.leaf?_(E):E;m(p,S)&&(v.leaf?y.push(E):g(p,S)?this._all(E,y):w.push(E))}v=w.pop()}return y},o.prototype.collides=function(p){var v=this.data;if(!m(p,v))return!1;for(var y=[];v;){for(var _=0;_<v.children.length;_++){var w=v.children[_],C=v.leaf?this.toBBox(w):w;if(m(p,C)){if(v.leaf||g(p,C))return!0;y.push(w)}}v=y.pop()}return!1},o.prototype.load=function(p){if(!p||!p.length)return this;if(p.length<this._minEntries){for(var v=0;v<p.length;v++)this.insert(p[v]);return this}var y=this._build(p.slice(),0,p.length-1,0);if(this.data.children.length)if(this.data.height===y.height)this._splitRoot(this.data,y);else{if(this.data.height<y.height){var _=this.data;this.data=y,y=_}this._insert(y,this.data.height-y.height-1,!0)}else this.data=y;return this},o.prototype.insert=function(p){return p&&this._insert(p,this.data.height-1),this},o.prototype.clear=function(){return this.data=b([]),this},o.prototype.remove=function(p,v){if(!p)return this;for(var y,_,w,C=this.data,E=this.toBBox(p),S=[],T=[];C||S.length;){if(C||(C=S.pop(),_=S[S.length-1],y=T.pop(),w=!0),C.leaf){var R=s(p,C.children,v);if(R!==-1)return C.children.splice(R,1),S.push(C),this._condense(S),this}w||C.leaf||!g(C,E)?_?(y++,C=_.children[y],w=!1):C=null:(S.push(C),T.push(y),y=0,_=C,C=C.children[0])}return this},o.prototype.toBBox=function(p){return p},o.prototype.compareMinX=function(p,v){return p.minX-v.minX},o.prototype.compareMinY=function(p,v){return p.minY-v.minY},o.prototype.toJSON=function(){return this.data},o.prototype.fromJSON=function(p){return this.data=p,this},o.prototype._all=function(p,v){for(var y=[];p;)p.leaf?v.push.apply(v,p.children):y.push.apply(y,p.children),p=y.pop();return v},o.prototype._build=function(p,v,y,_){var w,C=y-v+1,E=this._maxEntries;if(C<=E)return a(w=b(p.slice(v,y+1)),this.toBBox),w;_||(_=Math.ceil(Math.log(C)/Math.log(E)),E=Math.ceil(C/Math.pow(E,_-1))),(w=b([])).leaf=!1,w.height=_;var S=Math.ceil(C/E),T=S*Math.ceil(Math.sqrt(E));x(p,v,y,T,this.compareMinX);for(var R=v;R<=y;R+=T){var B=Math.min(R+T-1,y);x(p,R,B,S,this.compareMinY);for(var L=R;L<=B;L+=S){var M=Math.min(L+S-1,B);w.children.push(this._build(p,L,M,_-1))}}return a(w,this.toBBox),w},o.prototype._chooseSubtree=function(p,v,y,_){for(;_.push(v),!v.leaf&&_.length-1!==y;){for(var w=1/0,C=1/0,E=void 0,S=0;S<v.children.length;S++){var T=v.children[S],R=f(T),B=(L=p,M=T,(Math.max(M.maxX,L.maxX)-Math.min(M.minX,L.minX))*(Math.max(M.maxY,L.maxY)-Math.min(M.minY,L.minY))-R);B<C?(C=B,w=R<w?R:w,E=T):B===C&&R<w&&(w=R,E=T)}v=E||v.children[0]}var L,M;return v},o.prototype._insert=function(p,v,y){var _=y?p:this.toBBox(p),w=[],C=this._chooseSubtree(_,this.data,v,w);for(C.children.push(p),c(C,_);v>=0&&w[v].children.length>this._maxEntries;)this._split(w,v),v--;this._adjustParentBBoxes(_,w,v)},o.prototype._split=function(p,v){var y=p[v],_=y.children.length,w=this._minEntries;this._chooseSplitAxis(y,w,_);var C=this._chooseSplitIndex(y,w,_),E=b(y.children.splice(C,y.children.length-C));E.height=y.height,E.leaf=y.leaf,a(y,this.toBBox),a(E,this.toBBox),v?p[v-1].children.push(E):this._splitRoot(y,E)},o.prototype._splitRoot=function(p,v){this.data=b([p,v]),this.data.height=p.height+1,this.data.leaf=!1,a(this.data,this.toBBox)},o.prototype._chooseSplitIndex=function(p,v,y){for(var _,w,C,E,S,T,R,B=1/0,L=1/0,M=v;M<=y-v;M++){var $=l(p,0,M,this.toBBox),D=l(p,M,y,this.toBBox),j=(w=$,C=D,E=void 0,S=void 0,T=void 0,R=void 0,E=Math.max(w.minX,C.minX),S=Math.max(w.minY,C.minY),T=Math.min(w.maxX,C.maxX),R=Math.min(w.maxY,C.maxY),Math.max(0,T-E)*Math.max(0,R-S)),X=f($)+f(D);j<B?(B=j,_=M,L=X<L?X:L):j===B&&X<L&&(L=X,_=M)}return _||y-v},o.prototype._chooseSplitAxis=function(p,v,y){var _=p.leaf?this.compareMinX:h,w=p.leaf?this.compareMinY:u;this._allDistMargin(p,v,y,_)<this._allDistMargin(p,v,y,w)&&p.children.sort(_)},o.prototype._allDistMargin=function(p,v,y,_){p.children.sort(_);for(var w=this.toBBox,C=l(p,0,v,w),E=l(p,y-v,y,w),S=d(C)+d(E),T=v;T<y-v;T++){var R=p.children[T];c(C,p.leaf?w(R):R),S+=d(C)}for(var B=y-v-1;B>=v;B--){var L=p.children[B];c(E,p.leaf?w(L):L),S+=d(E)}return S},o.prototype._adjustParentBBoxes=function(p,v,y){for(var _=y;_>=0;_--)c(v[_],p)},o.prototype._condense=function(p){for(var v=p.length-1,y=void 0;v>=0;v--)p[v].children.length===0?v>0?(y=p[v-1].children).splice(y.indexOf(p[v]),1):this.clear():a(p[v],this.toBBox)},o})})(Bv);var tP=Bv.exports;const eP=oa(NC),nP=oa(KC),rP=oa(XC);var Jn=tP,Nv=eP,Fv=nP,as=rP.default,iP=Fv.featureEach;Fv.coordEach;Nv.polygon;var Sp=Nv.featureCollection;function kv(e){var t=new Jn(e);return t.insert=function(n){if(n.type!=="Feature")throw new Error("invalid feature");return n.bbox=n.bbox?n.bbox:as(n),Jn.prototype.insert.call(this,n)},t.load=function(n){var r=[];return Array.isArray(n)?n.forEach(function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:as(i),r.push(i)}):iP(n,function(i){if(i.type!=="Feature")throw new Error("invalid features");i.bbox=i.bbox?i.bbox:as(i),r.push(i)}),Jn.prototype.load.call(this,r)},t.remove=function(n,r){if(n.type!=="Feature")throw new Error("invalid feature");return n.bbox=n.bbox?n.bbox:as(n),Jn.prototype.remove.call(this,n,r)},t.clear=function(){return Jn.prototype.clear.call(this)},t.search=function(n){var r=Jn.prototype.search.call(this,this.toBBox(n));return Sp(r)},t.collides=function(n){return Jn.prototype.collides.call(this,this.toBBox(n))},t.all=function(){var n=Jn.prototype.all.call(this);return Sp(n)},t.toJSON=function(){return Jn.prototype.toJSON.call(this)},t.fromJSON=function(n){return Jn.prototype.fromJSON.call(this,n)},t.toBBox=function(n){var r;if(n.bbox)r=n.bbox;else if(Array.isArray(n)&&n.length===4)r=n;else if(Array.isArray(n)&&n.length===6)r=[n[0],n[1],n[3],n[4]];else if(n.type==="Feature")r=as(n);else if(n.type==="FeatureCollection")r=as(n);else throw new Error("invalid geojson");return{minX:r[0],minY:r[1],maxX:r[2],maxY:r[3]}},t}Vh.exports=kv;Vh.exports.default=kv;var sP=Vh.exports;const oP=Dv(sP);function Zh(e,t){var n={},r=[];if(e.type==="LineString"&&(e=Rn(e)),t.type==="LineString"&&(t=Rn(t)),e.type==="Feature"&&t.type==="Feature"&&e.geometry!==null&&t.geometry!==null&&e.geometry.type==="LineString"&&t.geometry.type==="LineString"&&e.geometry.coordinates.length===2&&t.geometry.coordinates.length===2){var i=Op(e,t);return i&&r.push(i),hi(r)}var o=oP();return o.load(Ep(t)),ml(Ep(e),function(s){ml(o.search(s),function(a){var l=Op(s,a);if(l){var c=Ui(l).join(",");n[c]||(n[c]=!0,r.push(l))}})}),hi(r)}function Op(e,t){var n=Ui(e),r=Ui(t);if(n.length!==2)throw new Error("<intersects> line1 must only contain 2 coordinates");if(r.length!==2)throw new Error("<intersects> line2 must only contain 2 coordinates");var i=n[0][0],o=n[0][1],s=n[1][0],a=n[1][1],l=r[0][0],c=r[0][1],h=r[1][0],u=r[1][1],f=(u-c)*(s-i)-(h-l)*(a-o),d=(h-l)*(o-c)-(u-c)*(i-l),g=(s-i)*(o-c)-(a-o)*(i-l);if(f===0)return null;var m=d/f,b=g/f;if(m>=0&&m<=1&&b>=0&&b<=1){var x=i+m*(s-i),p=o+m*(a-o);return er([x,p])}return null}function Gu(e,t){t===void 0&&(t={});var n=fr(e);switch(!t.properties&&e.type==="Feature"&&(t.properties=e.properties),n.type){case"Polygon":return aP(n,t);case"MultiPolygon":return lP(n,t);default:throw new Error("invalid poly")}}function aP(e,t){t===void 0&&(t={});var n=fr(e),r=n.coordinates,i=t.properties?t.properties:e.type==="Feature"?e.properties:{};return $v(r,i)}function lP(e,t){t===void 0&&(t={});var n=fr(e),r=n.coordinates,i=t.properties?t.properties:e.type==="Feature"?e.properties:{},o=[];return r.forEach(function(s){o.push($v(s,i))}),hi(o)}function $v(e,t){return e.length>1?Gh(e,t):Hn(e[0],t)}function cP(e,t){var n=!0;return Ir(e,function(r){Ir(t,function(i){if(n===!1)return!1;n=uP(r.geometry,i.geometry)})}),n}function uP(e,t){switch(e.type){case"Point":switch(t.type){case"Point":return!pP(e.coordinates,t.coordinates);case"LineString":return!Cp(t,e);case"Polygon":return!Yo(e,t)}break;case"LineString":switch(t.type){case"Point":return!Cp(e,t);case"LineString":return!hP(e,t);case"Polygon":return!Pp(t,e)}break;case"Polygon":switch(t.type){case"Point":return!Yo(t,e);case"LineString":return!Pp(e,t);case"Polygon":return!fP(t,e)}}return!1}function Cp(e,t){for(var n=0;n<e.coordinates.length-1;n++)if(dP(e.coordinates[n],e.coordinates[n+1],t.coordinates))return!0;return!1}function hP(e,t){var n=Zh(e,t);return n.features.length>0}function Pp(e,t){for(var n=0,r=t.coordinates;n<r.length;n++){var i=r[n];if(Yo(i,e))return!0}var o=Zh(t,Gu(e));return o.features.length>0}function fP(e,t){for(var n=0,r=e.coordinates[0];n<r.length;n++){var i=r[n];if(Yo(i,t))return!0}for(var o=0,s=t.coordinates[0];o<s.length;o++){var a=s[o];if(Yo(a,e))return!0}var l=Zh(Gu(e),Gu(t));return l.features.length>0}function dP(e,t,n){var r=n[0]-e[0],i=n[1]-e[1],o=t[0]-e[0],s=t[1]-e[1],a=r*s-i*o;return a!==0?!1:Math.abs(o)>=Math.abs(s)?o>0?e[0]<=n[0]&&n[0]<=t[0]:t[0]<=n[0]&&n[0]<=e[0]:s>0?e[1]<=n[1]&&n[1]<=t[1]:t[1]<=n[1]&&n[1]<=e[1]}function pP(e,t){return e[0]===t[0]&&e[1]===t[1]}function gP(e,t){var n=!1;return Ir(e,function(r){Ir(t,function(i){if(n===!0)return!0;n=!cP(r.geometry,i.geometry)})}),n}/**
 * splaytree v3.1.2
 * Fast Splay tree for Node and browser
 *
 * @author Alexander Milevski <info@w8r.name>
 * @license MIT
 * @preserve
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function mP(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(c){return function(h){return l([c,h])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(o=c[0]&2?i.return:c[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,c[1])).done)return o;switch(i=0,o&&(c=[c[0]&2,o.value]),c[0]){case 0:case 1:o=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!o||c[1]>o[0]&&c[1]<o[3])){n.label=c[1];break}if(c[0]===6&&n.label<o[1]){n.label=o[1],o=c;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(c);break}o[2]&&n.ops.pop(),n.trys.pop();continue}c=t.call(e,n)}catch(h){c=[6,h],i=0}finally{r=o=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var fi=function(){function e(t,n){this.next=null,this.key=t,this.data=n,this.left=null,this.right=null}return e}();function vP(e,t){return e>t?1:e<t?-1:0}function Xr(e,t,n){for(var r=new fi(null,null),i=r,o=r;;){var s=n(e,t.key);if(s<0){if(t.left===null)break;if(n(e,t.left.key)<0){var a=t.left;if(t.left=a.right,a.right=t,t=a,t.left===null)break}o.left=t,o=t,t=t.left}else if(s>0){if(t.right===null)break;if(n(e,t.right.key)>0){var a=t.right;if(t.right=a.left,a.left=t,t=a,t.right===null)break}i.right=t,i=t,t=t.right}else break}return i.right=t.left,o.left=t.right,t.left=r.right,t.right=r.left,t}function Vc(e,t,n,r){var i=new fi(e,t);if(n===null)return i.left=i.right=null,i;n=Xr(e,n,r);var o=r(e,n.key);return o<0?(i.left=n.left,i.right=n,n.left=null):o>=0&&(i.right=n.right,i.left=n,n.right=null),i}function Tp(e,t,n){var r=null,i=null;if(t){t=Xr(e,t,n);var o=n(t.key,e);o===0?(r=t.left,i=t.right):o<0?(i=t.right,t.right=null,r=t):(r=t.left,t.left=null,i=t)}return{left:r,right:i}}function yP(e,t,n){return t===null?e:(e===null||(t=Xr(e.key,t,n),t.left=e),t)}function Yu(e,t,n,r,i){if(e){r(""+t+(n?"└── ":"├── ")+i(e)+`
`);var o=t+(n?"    ":"│   ");e.left&&Yu(e.left,o,!1,r,i),e.right&&Yu(e.right,o,!0,r,i)}}var Jh=function(){function e(t){t===void 0&&(t=vP),this._root=null,this._size=0,this._comparator=t}return e.prototype.insert=function(t,n){return this._size++,this._root=Vc(t,n,this._root,this._comparator)},e.prototype.add=function(t,n){var r=new fi(t,n);this._root===null&&(r.left=r.right=null,this._size++,this._root=r);var i=this._comparator,o=Xr(t,this._root,i),s=i(t,o.key);return s===0?this._root=o:(s<0?(r.left=o.left,r.right=o,o.left=null):s>0&&(r.right=o.right,r.left=o,o.right=null),this._size++,this._root=r),this._root},e.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},e.prototype._remove=function(t,n,r){var i;if(n===null)return null;n=Xr(t,n,r);var o=r(t,n.key);return o===0?(n.left===null?i=n.right:(i=Xr(t,n.left,r),i.right=n.right),this._size--,i):n},e.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=Xr(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},e.prototype.findStatic=function(t){for(var n=this._root,r=this._comparator;n;){var i=r(t,n.key);if(i===0)return n;i<0?n=n.left:n=n.right}return null},e.prototype.find=function(t){return this._root&&(this._root=Xr(t,this._root,this._comparator),this._comparator(t,this._root.key)!==0)?null:this._root},e.prototype.contains=function(t){for(var n=this._root,r=this._comparator;n;){var i=r(t,n.key);if(i===0)return!0;i<0?n=n.left:n=n.right}return!1},e.prototype.forEach=function(t,n){for(var r=this._root,i=[],o=!1;!o;)r!==null?(i.push(r),r=r.left):i.length!==0?(r=i.pop(),t.call(n,r),r=r.right):o=!0;return this},e.prototype.range=function(t,n,r,i){for(var o=[],s=this._comparator,a=this._root,l;o.length!==0||a;)if(a)o.push(a),a=a.left;else{if(a=o.pop(),l=s(a.key,n),l>0)break;if(s(a.key,t)>=0&&r.call(i,a))return this;a=a.right}return this},e.prototype.keys=function(){var t=[];return this.forEach(function(n){var r=n.key;return t.push(r)}),t},e.prototype.values=function(){var t=[];return this.forEach(function(n){var r=n.data;return t.push(r)}),t},e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},e.prototype.minNode=function(t){if(t===void 0&&(t=this._root),t)for(;t.left;)t=t.left;return t},e.prototype.maxNode=function(t){if(t===void 0&&(t=this._root),t)for(;t.right;)t=t.right;return t},e.prototype.at=function(t){for(var n=this._root,r=!1,i=0,o=[];!r;)if(n)o.push(n),n=n.left;else if(o.length>0){if(n=o.pop(),i===t)return n;i++,n=n.right}else r=!0;return null},e.prototype.next=function(t){var n=this._root,r=null;if(t.right){for(r=t.right;r.left;)r=r.left;return r}for(var i=this._comparator;n;){var o=i(t.key,n.key);if(o===0)break;o<0?(r=n,n=n.left):n=n.right}return r},e.prototype.prev=function(t){var n=this._root,r=null;if(t.left!==null){for(r=t.left;r.right;)r=r.right;return r}for(var i=this._comparator;n;){var o=i(t.key,n.key);if(o===0)break;o<0?n=n.left:(r=n,n=n.right)}return r},e.prototype.clear=function(){return this._root=null,this._size=0,this},e.prototype.toList=function(){return bP(this._root)},e.prototype.load=function(t,n,r){n===void 0&&(n=[]),r===void 0&&(r=!1);var i=t.length,o=this._comparator;if(r&&Vu(t,n,0,i-1,o),this._root===null)this._root=Ku(t,n,0,i),this._size=i;else{var s=_P(this.toList(),xP(t,n),o);i=this._size+i,this._root=Xu({head:s},0,i)}return this},e.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.toString=function(t){t===void 0&&(t=function(r){return String(r.key)});var n=[];return Yu(this._root,"",!0,function(r){return n.push(r)},t),n.join("")},e.prototype.update=function(t,n,r){var i=this._comparator,o=Tp(t,this._root,i),s=o.left,a=o.right;i(t,n)<0?a=Vc(n,r,a,i):s=Vc(n,r,s,i),this._root=yP(s,a,i)},e.prototype.split=function(t){return Tp(t,this._root,this._comparator)},e.prototype[Symbol.iterator]=function(){var t,n,r;return mP(this,function(i){switch(i.label){case 0:t=this._root,n=[],r=!1,i.label=1;case 1:return r?[3,6]:t===null?[3,2]:(n.push(t),t=t.left,[3,5]);case 2:return n.length===0?[3,4]:(t=n.pop(),[4,t]);case 3:return i.sent(),t=t.right,[3,5];case 4:r=!0,i.label=5;case 5:return[3,1];case 6:return[2]}})},e}();function Ku(e,t,n,r){var i=r-n;if(i>0){var o=n+Math.floor(i/2),s=e[o],a=t[o],l=new fi(s,a);return l.left=Ku(e,t,n,o),l.right=Ku(e,t,o+1,r),l}return null}function xP(e,t){for(var n=new fi(null,null),r=n,i=0;i<e.length;i++)r=r.next=new fi(e[i],t[i]);return r.next=null,n.next}function bP(e){for(var t=e,n=[],r=!1,i=new fi(null,null),o=i;!r;)t?(n.push(t),t=t.left):n.length>0?(t=o=o.next=n.pop(),t=t.right):r=!0;return o.next=null,i.next}function Xu(e,t,n){var r=n-t;if(r>0){var i=t+Math.floor(r/2),o=Xu(e,t,i),s=e.head;return s.left=o,e.head=e.head.next,s.right=Xu(e,i+1,n),s}return null}function _P(e,t,n){for(var r=new fi(null,null),i=r,o=e,s=t;o!==null&&s!==null;)n(o.key,s.key)<0?(i.next=o,o=o.next):(i.next=s,s=s.next),i=i.next;return o!==null?i.next=o:s!==null&&(i.next=s),r.next}function Vu(e,t,n,r,i){if(!(n>=r)){for(var o=e[n+r>>1],s=n-1,a=r+1;;){do s++;while(i(e[s],o)<0);do a--;while(i(e[a],o)>0);if(s>=a)break;var l=e[s];e[s]=e[a],e[a]=l,l=t[s],t[s]=t[a],t[a]=l}Vu(e,t,n,a,i),Vu(e,t,a+1,r,i)}}const Cr=11102230246251565e-32,Le=134217729,wP=(3+8*Cr)*Cr;function Zc(e,t,n,r,i){let o,s,a,l,c=t[0],h=r[0],u=0,f=0;h>c==h>-c?(o=c,c=t[++u]):(o=h,h=r[++f]);let d=0;if(u<e&&f<n)for(h>c==h>-c?(s=c+o,a=o-(s-c),c=t[++u]):(s=h+o,a=o-(s-h),h=r[++f]),o=s,a!==0&&(i[d++]=a);u<e&&f<n;)h>c==h>-c?(s=o+c,l=s-o,a=o-(s-l)+(c-l),c=t[++u]):(s=o+h,l=s-o,a=o-(s-l)+(h-l),h=r[++f]),o=s,a!==0&&(i[d++]=a);for(;u<e;)s=o+c,l=s-o,a=o-(s-l)+(c-l),c=t[++u],o=s,a!==0&&(i[d++]=a);for(;f<n;)s=o+h,l=s-o,a=o-(s-l)+(h-l),h=r[++f],o=s,a!==0&&(i[d++]=a);return(o!==0||d===0)&&(i[d++]=o),d}function EP(e,t){let n=t[0];for(let r=1;r<e;r++)n+=t[r];return n}function aa(e){return new Float64Array(e)}const SP=(3+16*Cr)*Cr,OP=(2+12*Cr)*Cr,CP=(9+64*Cr)*Cr*Cr,ls=aa(4),Lp=aa(8),Rp=aa(12),Mp=aa(16),je=aa(4);function PP(e,t,n,r,i,o,s){let a,l,c,h,u,f,d,g,m,b,x,p,v,y,_,w,C,E;const S=e-i,T=n-i,R=t-o,B=r-o;y=S*B,f=Le*S,d=f-(f-S),g=S-d,f=Le*B,m=f-(f-B),b=B-m,_=g*b-(y-d*m-g*m-d*b),w=R*T,f=Le*R,d=f-(f-R),g=R-d,f=Le*T,m=f-(f-T),b=T-m,C=g*b-(w-d*m-g*m-d*b),x=_-C,u=_-x,ls[0]=_-(x+u)+(u-C),p=y+x,u=p-y,v=y-(p-u)+(x-u),x=v-w,u=v-x,ls[1]=v-(x+u)+(u-w),E=p+x,u=E-p,ls[2]=p-(E-u)+(x-u),ls[3]=E;let L=EP(4,ls),M=OP*s;if(L>=M||-L>=M||(u=e-S,a=e-(S+u)+(u-i),u=n-T,c=n-(T+u)+(u-i),u=t-R,l=t-(R+u)+(u-o),u=r-B,h=r-(B+u)+(u-o),a===0&&l===0&&c===0&&h===0)||(M=CP*s+wP*Math.abs(L),L+=S*h+B*a-(R*c+T*l),L>=M||-L>=M))return L;y=a*B,f=Le*a,d=f-(f-a),g=a-d,f=Le*B,m=f-(f-B),b=B-m,_=g*b-(y-d*m-g*m-d*b),w=l*T,f=Le*l,d=f-(f-l),g=l-d,f=Le*T,m=f-(f-T),b=T-m,C=g*b-(w-d*m-g*m-d*b),x=_-C,u=_-x,je[0]=_-(x+u)+(u-C),p=y+x,u=p-y,v=y-(p-u)+(x-u),x=v-w,u=v-x,je[1]=v-(x+u)+(u-w),E=p+x,u=E-p,je[2]=p-(E-u)+(x-u),je[3]=E;const $=Zc(4,ls,4,je,Lp);y=S*h,f=Le*S,d=f-(f-S),g=S-d,f=Le*h,m=f-(f-h),b=h-m,_=g*b-(y-d*m-g*m-d*b),w=R*c,f=Le*R,d=f-(f-R),g=R-d,f=Le*c,m=f-(f-c),b=c-m,C=g*b-(w-d*m-g*m-d*b),x=_-C,u=_-x,je[0]=_-(x+u)+(u-C),p=y+x,u=p-y,v=y-(p-u)+(x-u),x=v-w,u=v-x,je[1]=v-(x+u)+(u-w),E=p+x,u=E-p,je[2]=p-(E-u)+(x-u),je[3]=E;const D=Zc($,Lp,4,je,Rp);y=a*h,f=Le*a,d=f-(f-a),g=a-d,f=Le*h,m=f-(f-h),b=h-m,_=g*b-(y-d*m-g*m-d*b),w=l*c,f=Le*l,d=f-(f-l),g=l-d,f=Le*c,m=f-(f-c),b=c-m,C=g*b-(w-d*m-g*m-d*b),x=_-C,u=_-x,je[0]=_-(x+u)+(u-C),p=y+x,u=p-y,v=y-(p-u)+(x-u),x=v-w,u=v-x,je[1]=v-(x+u)+(u-w),E=p+x,u=E-p,je[2]=p-(E-u)+(x-u),je[3]=E;const j=Zc(D,Rp,4,je,Mp);return Mp[j-1]}function TP(e,t,n,r,i,o){const s=(t-o)*(n-i),a=(e-i)*(r-o),l=s-a,c=Math.abs(s+a);return Math.abs(l)>=SP*c?l:-PP(e,t,n,r,i,o,c)}const no=(e,t)=>e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y,Zu=(e,t)=>{if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;const n=e.ll.x<t.ll.x?t.ll.x:e.ll.x,r=e.ur.x<t.ur.x?e.ur.x:t.ur.x,i=e.ll.y<t.ll.y?t.ll.y:e.ll.y,o=e.ur.y<t.ur.y?e.ur.y:t.ur.y;return{ll:{x:n,y:i},ur:{x:r,y:o}}};let Zr=Number.EPSILON;Zr===void 0&&(Zr=Math.pow(2,-52));const LP=Zr*Zr,Ip=(e,t)=>{if(-Zr<e&&e<Zr&&-Zr<t&&t<Zr)return 0;const n=e-t;return n*n<LP*e*t?0:e<t?-1:1};class RP{constructor(){this.reset()}reset(){this.xRounder=new Ap,this.yRounder=new Ap}round(t,n){return{x:this.xRounder.round(t),y:this.yRounder.round(n)}}}class Ap{constructor(){this.tree=new Jh,this.round(0)}round(t){const n=this.tree.add(t),r=this.tree.prev(n);if(r!==null&&Ip(n.key,r.key)===0)return this.tree.remove(t),r.key;const i=this.tree.next(n);return i!==null&&Ip(n.key,i.key)===0?(this.tree.remove(t),i.key):t}}const Ko=new RP,Za=(e,t)=>e.x*t.y-e.y*t.x,jv=(e,t)=>e.x*t.x+e.y*t.y,Dp=(e,t,n)=>{const r=TP(e.x,e.y,t.x,t.y,n.x,n.y);return r>0?-1:r<0?1:0},vl=e=>Math.sqrt(jv(e,e)),MP=(e,t,n)=>{const r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y};return Za(i,r)/vl(i)/vl(r)},IP=(e,t,n)=>{const r={x:t.x-e.x,y:t.y-e.y},i={x:n.x-e.x,y:n.y-e.y};return jv(i,r)/vl(i)/vl(r)},Bp=(e,t,n)=>t.y===0?null:{x:e.x+t.x/t.y*(n-e.y),y:n},Np=(e,t,n)=>t.x===0?null:{x:n,y:e.y+t.y/t.x*(n-e.x)},AP=(e,t,n,r)=>{if(t.x===0)return Np(n,r,e.x);if(r.x===0)return Np(e,t,n.x);if(t.y===0)return Bp(n,r,e.y);if(r.y===0)return Bp(e,t,n.y);const i=Za(t,r);if(i==0)return null;const o={x:n.x-e.x,y:n.y-e.y},s=Za(o,t)/i,a=Za(o,r)/i,l=e.x+a*t.x,c=n.x+s*r.x,h=e.y+a*t.y,u=n.y+s*r.y,f=(l+c)/2,d=(h+u)/2;return{x:f,y:d}};class Cn{static compare(t,n){const r=Cn.comparePoints(t.point,n.point);return r!==0?r:(t.point!==n.point&&t.link(n),t.isLeft!==n.isLeft?t.isLeft?1:-1:ni.compare(t.segment,n.segment))}static comparePoints(t,n){return t.x<n.x?-1:t.x>n.x?1:t.y<n.y?-1:t.y>n.y?1:0}constructor(t,n){t.events===void 0?t.events=[this]:t.events.push(this),this.point=t,this.isLeft=n}link(t){if(t.point===this.point)throw new Error("Tried to link already linked events");const n=t.point.events;for(let r=0,i=n.length;r<i;r++){const o=n[r];this.point.events.push(o),o.point=this.point}this.checkForConsuming()}checkForConsuming(){const t=this.point.events.length;for(let n=0;n<t;n++){const r=this.point.events[n];if(r.segment.consumedBy===void 0)for(let i=n+1;i<t;i++){const o=this.point.events[i];o.consumedBy===void 0&&r.otherSE.point.events===o.otherSE.point.events&&r.segment.consume(o.segment)}}}getAvailableLinkedEvents(){const t=[];for(let n=0,r=this.point.events.length;n<r;n++){const i=this.point.events[n];i!==this&&!i.segment.ringOut&&i.segment.isInResult()&&t.push(i)}return t}getLeftmostComparator(t){const n=new Map,r=i=>{const o=i.otherSE;n.set(i,{sine:MP(this.point,t.point,o.point),cosine:IP(this.point,t.point,o.point)})};return(i,o)=>{n.has(i)||r(i),n.has(o)||r(o);const{sine:s,cosine:a}=n.get(i),{sine:l,cosine:c}=n.get(o);return s>=0&&l>=0?a<c?1:a>c?-1:0:s<0&&l<0?a<c?-1:a>c?1:0:l<s?-1:l>s?1:0}}}let DP=0;class ni{static compare(t,n){const r=t.leftSE.point.x,i=n.leftSE.point.x,o=t.rightSE.point.x,s=n.rightSE.point.x;if(s<r)return 1;if(o<i)return-1;const a=t.leftSE.point.y,l=n.leftSE.point.y,c=t.rightSE.point.y,h=n.rightSE.point.y;if(r<i){if(l<a&&l<c)return 1;if(l>a&&l>c)return-1;const u=t.comparePoint(n.leftSE.point);if(u<0)return 1;if(u>0)return-1;const f=n.comparePoint(t.rightSE.point);return f!==0?f:-1}if(r>i){if(a<l&&a<h)return-1;if(a>l&&a>h)return 1;const u=n.comparePoint(t.leftSE.point);if(u!==0)return u;const f=t.comparePoint(n.rightSE.point);return f<0?1:f>0?-1:1}if(a<l)return-1;if(a>l)return 1;if(o<s){const u=n.comparePoint(t.rightSE.point);if(u!==0)return u}if(o>s){const u=t.comparePoint(n.rightSE.point);if(u<0)return 1;if(u>0)return-1}if(o!==s){const u=c-a,f=o-r,d=h-l,g=s-i;if(u>f&&d<g)return 1;if(u<f&&d>g)return-1}return o>s?1:o<s||c<h?-1:c>h?1:t.id<n.id?-1:t.id>n.id?1:0}constructor(t,n,r,i){this.id=++DP,this.leftSE=t,t.segment=this,t.otherSE=n,this.rightSE=n,n.segment=this,n.otherSE=t,this.rings=r,this.windings=i}static fromRing(t,n,r){let i,o,s;const a=Cn.comparePoints(t,n);if(a<0)i=t,o=n,s=1;else if(a>0)i=n,o=t,s=-1;else throw new Error(`Tried to create degenerate segment at [${t.x}, ${t.y}]`);const l=new Cn(i,!0),c=new Cn(o,!1);return new ni(l,c,[r],[s])}replaceRightSE(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const t=this.leftSE.point.y,n=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<n?t:n},ur:{x:this.rightSE.point.x,y:t>n?t:n}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}comparePoint(t){if(this.isAnEndpoint(t))return 0;const n=this.leftSE.point,r=this.rightSE.point,i=this.vector();if(n.x===r.x)return t.x===n.x?0:t.x<n.x?1:-1;const o=(t.y-n.y)/i.y,s=n.x+o*i.x;if(t.x===s)return 0;const a=(t.x-n.x)/i.x,l=n.y+a*i.y;return t.y===l?0:t.y<l?-1:1}getIntersection(t){const n=this.bbox(),r=t.bbox(),i=Zu(n,r);if(i===null)return null;const o=this.leftSE.point,s=this.rightSE.point,a=t.leftSE.point,l=t.rightSE.point,c=no(n,a)&&this.comparePoint(a)===0,h=no(r,o)&&t.comparePoint(o)===0,u=no(n,l)&&this.comparePoint(l)===0,f=no(r,s)&&t.comparePoint(s)===0;if(h&&c)return f&&!u?s:!f&&u?l:null;if(h)return u&&o.x===l.x&&o.y===l.y?null:o;if(c)return f&&s.x===a.x&&s.y===a.y?null:a;if(f&&u)return null;if(f)return s;if(u)return l;const d=AP(o,this.vector(),a,t.vector());return d===null||!no(i,d)?null:Ko.round(d.x,d.y)}split(t){const n=[],r=t.events!==void 0,i=new Cn(t,!0),o=new Cn(t,!1),s=this.rightSE;this.replaceRightSE(o),n.push(o),n.push(i);const a=new ni(i,s,this.rings.slice(),this.windings.slice());return Cn.comparePoints(a.leftSE.point,a.rightSE.point)>0&&a.swapEvents(),Cn.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),r&&(i.checkForConsuming(),o.checkForConsuming()),n}swapEvents(){const t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let n=0,r=this.windings.length;n<r;n++)this.windings[n]*=-1}consume(t){let n=this,r=t;for(;n.consumedBy;)n=n.consumedBy;for(;r.consumedBy;)r=r.consumedBy;const i=ni.compare(n,r);if(i!==0){if(i>0){const o=n;n=r,r=o}if(n.prev===r){const o=n;n=r,r=o}for(let o=0,s=r.rings.length;o<s;o++){const a=r.rings[o],l=r.windings[o],c=n.rings.indexOf(a);c===-1?(n.rings.push(a),n.windings.push(l)):n.windings[c]+=l}r.rings=null,r.windings=null,r.consumedBy=n,r.leftSE.consumedBy=n.leftSE,r.rightSE.consumedBy=n.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{const t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;const t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};const n=this._afterState.rings,r=this._afterState.windings,i=this._afterState.multiPolys;for(let a=0,l=this.rings.length;a<l;a++){const c=this.rings[a],h=this.windings[a],u=n.indexOf(c);u===-1?(n.push(c),r.push(h)):r[u]+=h}const o=[],s=[];for(let a=0,l=n.length;a<l;a++){if(r[a]===0)continue;const c=n[a],h=c.poly;if(s.indexOf(h)===-1)if(c.isExterior)o.push(h);else{s.indexOf(h)===-1&&s.push(h);const u=o.indexOf(c.poly);u!==-1&&o.splice(u,1)}}for(let a=0,l=o.length;a<l;a++){const c=o[a].multiPoly;i.indexOf(c)===-1&&i.push(c)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;const t=this.beforeState().multiPolys,n=this.afterState().multiPolys;switch(zn.type){case"union":{const r=t.length===0,i=n.length===0;this._isInResult=r!==i;break}case"intersection":{let r,i;t.length<n.length?(r=t.length,i=n.length):(r=n.length,i=t.length),this._isInResult=i===zn.numMultiPolys&&r<i;break}case"xor":{const r=Math.abs(t.length-n.length);this._isInResult=r%2===1;break}case"difference":{const r=i=>i.length===1&&i[0].isSubject;this._isInResult=r(t)!==r(n);break}default:throw new Error(`Unrecognized operation type found ${zn.type}`)}return this._isInResult}}class Fp{constructor(t,n,r){if(!Array.isArray(t)||t.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=n,this.isExterior=r,this.segments=[],typeof t[0][0]!="number"||typeof t[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const i=Ko.round(t[0][0],t[0][1]);this.bbox={ll:{x:i.x,y:i.y},ur:{x:i.x,y:i.y}};let o=i;for(let s=1,a=t.length;s<a;s++){if(typeof t[s][0]!="number"||typeof t[s][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let l=Ko.round(t[s][0],t[s][1]);l.x===o.x&&l.y===o.y||(this.segments.push(ni.fromRing(o,l,this)),l.x<this.bbox.ll.x&&(this.bbox.ll.x=l.x),l.y<this.bbox.ll.y&&(this.bbox.ll.y=l.y),l.x>this.bbox.ur.x&&(this.bbox.ur.x=l.x),l.y>this.bbox.ur.y&&(this.bbox.ur.y=l.y),o=l)}(i.x!==o.x||i.y!==o.y)&&this.segments.push(ni.fromRing(o,i,this))}getSweepEvents(){const t=[];for(let n=0,r=this.segments.length;n<r;n++){const i=this.segments[n];t.push(i.leftSE),t.push(i.rightSE)}return t}}class BP{constructor(t,n){if(!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new Fp(t[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let r=1,i=t.length;r<i;r++){const o=new Fp(t[r],this,!1);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.interiorRings.push(o)}this.multiPoly=n}getSweepEvents(){const t=this.exteriorRing.getSweepEvents();for(let n=0,r=this.interiorRings.length;n<r;n++){const i=this.interiorRings[n].getSweepEvents();for(let o=0,s=i.length;o<s;o++)t.push(i[o])}return t}}class kp{constructor(t,n){if(!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof t[0][0][0]=="number"&&(t=[t])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let r=0,i=t.length;r<i;r++){const o=new BP(t[r],this);o.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=o.bbox.ll.x),o.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=o.bbox.ll.y),o.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=o.bbox.ur.x),o.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=o.bbox.ur.y),this.polys.push(o)}this.isSubject=n}getSweepEvents(){const t=[];for(let n=0,r=this.polys.length;n<r;n++){const i=this.polys[n].getSweepEvents();for(let o=0,s=i.length;o<s;o++)t.push(i[o])}return t}}class yl{static factory(t){const n=[];for(let r=0,i=t.length;r<i;r++){const o=t[r];if(!o.isInResult()||o.ringOut)continue;let s=null,a=o.leftSE,l=o.rightSE;const c=[a],h=a.point,u=[];for(;s=a,a=l,c.push(a),a.point!==h;)for(;;){const f=a.getAvailableLinkedEvents();if(f.length===0){const m=c[0].point,b=c[c.length-1].point;throw new Error(`Unable to complete output ring starting at [${m.x}, ${m.y}]. Last matching segment found ends at [${b.x}, ${b.y}].`)}if(f.length===1){l=f[0].otherSE;break}let d=null;for(let m=0,b=u.length;m<b;m++)if(u[m].point===a.point){d=m;break}if(d!==null){const m=u.splice(d)[0],b=c.splice(m.index);b.unshift(b[0].otherSE),n.push(new yl(b.reverse()));continue}u.push({index:c.length,point:a.point});const g=a.getLeftmostComparator(s);l=f.sort(g)[0].otherSE;break}n.push(new yl(c))}return n}constructor(t){this.events=t;for(let n=0,r=t.length;n<r;n++)t[n].segment.ringOut=this;this.poly=null}getGeom(){let t=this.events[0].point;const n=[t];for(let c=1,h=this.events.length-1;c<h;c++){const u=this.events[c].point,f=this.events[c+1].point;Dp(u,t,f)!==0&&(n.push(u),t=u)}if(n.length===1)return null;const r=n[0],i=n[1];Dp(r,t,i)===0&&n.shift(),n.push(n[0]);const o=this.isExteriorRing()?1:-1,s=this.isExteriorRing()?0:n.length-1,a=this.isExteriorRing()?n.length:-1,l=[];for(let c=s;c!=a;c+=o)l.push([n[c].x,n[c].y]);return l}isExteriorRing(){if(this._isExteriorRing===void 0){const t=this.enclosingRing();this._isExteriorRing=t?!t.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let t=this.events[0];for(let i=1,o=this.events.length;i<o;i++){const s=this.events[i];Cn.compare(t,s)>0&&(t=s)}let n=t.segment.prevInResult(),r=n?n.prevInResult():null;for(;;){if(!n)return null;if(!r)return n.ringOut;if(r.ringOut!==n.ringOut)return r.ringOut.enclosingRing()!==n.ringOut?n.ringOut:n.ringOut.enclosingRing();n=r.prevInResult(),r=n?n.prevInResult():null}}}class $p{constructor(t){this.exteriorRing=t,t.poly=this,this.interiorRings=[]}addInterior(t){this.interiorRings.push(t),t.poly=this}getGeom(){const t=[this.exteriorRing.getGeom()];if(t[0]===null)return null;for(let n=0,r=this.interiorRings.length;n<r;n++){const i=this.interiorRings[n].getGeom();i!==null&&t.push(i)}return t}}class NP{constructor(t){this.rings=t,this.polys=this._composePolys(t)}getGeom(){const t=[];for(let n=0,r=this.polys.length;n<r;n++){const i=this.polys[n].getGeom();i!==null&&t.push(i)}return t}_composePolys(t){const n=[];for(let r=0,i=t.length;r<i;r++){const o=t[r];if(!o.poly)if(o.isExteriorRing())n.push(new $p(o));else{const s=o.enclosingRing();s.poly||n.push(new $p(s)),s.poly.addInterior(o)}}return n}}class FP{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ni.compare;this.queue=t,this.tree=new Jh(n),this.segments=[]}process(t){const n=t.segment,r=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(n),r;const i=t.isLeft?this.tree.add(n):this.tree.find(n);if(!i)throw new Error(`Unable to find segment #${n.id} [${n.leftSE.point.x}, ${n.leftSE.point.y}] -> [${n.rightSE.point.x}, ${n.rightSE.point.y}] in SweepLine tree.`);let o=i,s=i,a,l;for(;a===void 0;)o=this.tree.prev(o),o===null?a=null:o.key.consumedBy===void 0&&(a=o.key);for(;l===void 0;)s=this.tree.next(s),s===null?l=null:s.key.consumedBy===void 0&&(l=s.key);if(t.isLeft){let c=null;if(a){const u=a.getIntersection(n);if(u!==null&&(n.isAnEndpoint(u)||(c=u),!a.isAnEndpoint(u))){const f=this._splitSafely(a,u);for(let d=0,g=f.length;d<g;d++)r.push(f[d])}}let h=null;if(l){const u=l.getIntersection(n);if(u!==null&&(n.isAnEndpoint(u)||(h=u),!l.isAnEndpoint(u))){const f=this._splitSafely(l,u);for(let d=0,g=f.length;d<g;d++)r.push(f[d])}}if(c!==null||h!==null){let u=null;c===null?u=h:h===null?u=c:u=Cn.comparePoints(c,h)<=0?c:h,this.queue.remove(n.rightSE),r.push(n.rightSE);const f=n.split(u);for(let d=0,g=f.length;d<g;d++)r.push(f[d])}r.length>0?(this.tree.remove(n),r.push(t)):(this.segments.push(n),n.prev=a)}else{if(a&&l){const c=a.getIntersection(l);if(c!==null){if(!a.isAnEndpoint(c)){const h=this._splitSafely(a,c);for(let u=0,f=h.length;u<f;u++)r.push(h[u])}if(!l.isAnEndpoint(c)){const h=this._splitSafely(l,c);for(let u=0,f=h.length;u<f;u++)r.push(h[u])}}}this.tree.remove(n)}return r}_splitSafely(t,n){this.tree.remove(t);const r=t.rightSE;this.queue.remove(r);const i=t.split(n);return i.push(r),t.consumedBy===void 0&&this.tree.add(t),i}}const jp=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,kP=typeof process<"u"&&{}.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6;class $P{run(t,n,r){zn.type=t,Ko.reset();const i=[new kp(n,!0)];for(let u=0,f=r.length;u<f;u++)i.push(new kp(r[u],!1));if(zn.numMultiPolys=i.length,zn.type==="difference"){const u=i[0];let f=1;for(;f<i.length;)Zu(i[f].bbox,u.bbox)!==null?f++:i.splice(f,1)}if(zn.type==="intersection")for(let u=0,f=i.length;u<f;u++){const d=i[u];for(let g=u+1,m=i.length;g<m;g++)if(Zu(d.bbox,i[g].bbox)===null)return[]}const o=new Jh(Cn.compare);for(let u=0,f=i.length;u<f;u++){const d=i[u].getSweepEvents();for(let g=0,m=d.length;g<m;g++)if(o.insert(d[g]),o.size>jp)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).")}const s=new FP(o);let a=o.size,l=o.pop();for(;l;){const u=l.key;if(o.size===a){const d=u.segment;throw new Error(`Unable to pop() ${u.isLeft?"left":"right"} SweepEvent [${u.point.x}, ${u.point.y}] from segment #${d.id} [${d.leftSE.point.x}, ${d.leftSE.point.y}] -> [${d.rightSE.point.x}, ${d.rightSE.point.y}] from queue.`)}if(o.size>jp)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(s.segments.length>kP)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");const f=s.process(u);for(let d=0,g=f.length;d<g;d++){const m=f[d];m.consumedBy===void 0&&o.insert(m)}a=o.size,l=o.pop()}Ko.reset();const c=yl.factory(s.segments);return new NP(c).getGeom()}}const zn=new $P,jP=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return zn.run("union",e,n)},WP=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return zn.run("intersection",e,n)},UP=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return zn.run("xor",e,n)},HP=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return zn.run("difference",e,n)};var Qh={union:jP,intersection:WP,xor:UP,difference:HP};function zP(e,t){var n=fr(e),r=fr(t),i=e.properties||{},o=Qh.difference(n.coordinates,r.coordinates);return o.length===0?null:o.length===1?hr(o[0],i):sa(o,i)}function GP(e,t,n){n===void 0&&(n={});var r=fr(e),i=fr(t),o=Qh.union(r.coordinates,i.coordinates);return o.length===0?null:o.length===1?hr(o[0],n.properties):sa(o,n.properties)}function YP(e,t,n){n===void 0&&(n={});var r=fr(e),i=fr(t),o=Qh.intersection(r.coordinates,i.coordinates);return o.length===0?null:o.length===1?hr(o[0],n.properties):sa(o,n.properties)}function Wv(e,t){let n=!1,r=1/0;for(let i=0,o=t.length-1;i<t.length;o=i++){const s=t[i].x,a=t[i].y,l=t[o].x,c=t[o].y;a>e.y!=c>e.y&&e.x<(l-s)*(e.y-a)/(c-a)+s&&(n=!n);const u=l-s,f=c-a,d=((e.x-s)*u+(e.y-a)*f)/(u*u+f*f),g=Math.max(0,Math.min(1,d)),m=s+g*u,b=a+g*f,x=Math.sqrt((e.x-m)**2+(e.y-b)**2);x<r&&(r=x)}return n?-r:r}function Uv(e,t){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function KP(e,t){const n=hr([[...e,e[0]]]),r=hr([[...t,t[0]]]),i=YP(n,r);if(!i)return!1;const o=zP(r,i);return Ui(o)[0].slice(0,-1)}function XP(e,t){const n=hr([[...e,e[0]]]),r=hr([[...t,t[0]]]);if(!gP(n,r))return!1;const i=GP(n,r);return Ui(i)[0].slice(0,-1)}class Xo extends Ov{constructor(n,r){super();Q(this,"lastPointDown");Q(this,"config");this.id=Cv(),this.minPointCount=2,this.type=Ie.RECT,this.box=n,r&&(this.config=r,this.color=r.color,this.label=r.label),this.index=n.markObjectList.length+1,this.obj=new Rr({x:0,y:0}),this.box.objectsLayer.add(this.obj),this.boxEventIds=[this.box.app.on_(it.ONZOOM,this.boxOnZoom,this),this.box.app.on_(it.ONTRANSLATE,this.boxOnTranslate,this),this.box.app.on_(it.ONPOINTLEAVE,this.boxOnPointLeave,this),this.box.app.on_(it.ONPOINTMOVE,this.boxOnPointMove,this),this.box.app.on_(it.ONPOINTDOWN,this.boxOnPointDown,this),this.box.app.on_(it.ONPOINTUP,this.boxOnPointUp,this)]}async boxOnPointDown(n){this.lastPointDown=n,this.status=="draw"&&(this.pointList=[n,n],this.render()),this.mouseEnter&&(this.status=="done"||this.status=="edit")?(this.box.selectObject&&this.box.selectObject.id!==this.id&&(this.box.selectObject.status="done",this.box.selectObject.render(),this.box.selectObject=void 0),this.status!="edit"&&this.box.app.emit(it.ONCHANGE),this.status="edit",this.box.selectObject=this,this.mouseDown=!0,this.lastMousePoint=this.box.lastPoint,this.acctivePointIndex=this.getMinDistance(this.lastMousePoint),this.render()):this.status=="edit"&&(this.status="done",this.box.selectObject=void 0,this.render(),this.box.app.emit(it.ONCHANGE))}getMinDistance(n){let r=1/0,i=-1;this.vertexList.forEach((s,a)=>{const l=Math.sqrt(Math.pow(s.x-n.x,2)+Math.pow(s.y-n.y,2));l<r&&(r=l,i=a)});const o=8/this.box.curLayout.zoom;return r<o?i:-1}boxOnPointMove(){if(this.completeing!=!0){if(this.status=="draw"&&this.pointList[0]&&(this.pointList[1]=this.box.lastPoint,this.render()),this.mouseDown&&this.status=="edit"){const n={x:this.box.lastPoint.x-this.lastMousePoint.x,y:this.box.lastPoint.y-this.lastMousePoint.y};if(this.acctivePointIndex==-1)this.pointList=this.pointList.map(r=>({x:r.x+n.x,y:r.y+n.y}));else{let r={...this.vertexList[this.acctivePointIndex]},i;this.acctivePointIndex==0?i={...this.vertexList[2]}:this.acctivePointIndex==1?i={...this.vertexList[3]}:this.acctivePointIndex==2?i={...this.vertexList[0]}:this.acctivePointIndex==3&&(i={...this.vertexList[1]}),r={...this.box.lastPoint};const o=Math.min(r.x,i.x),s=Math.min(r.y,i.y),a=Math.max(r.x,i.x),l=Math.max(r.y,i.y);this.pointList=[{x:o,y:s},{x:a,y:l}],this.acctivePointIndex=this.vertexList.findIndex(c=>c.x==r.x&&c.y==r.y)}this.lastMousePoint=this.box.lastPoint}else this.status=="edit"&&(this.acctivePointIndex=this.getMinDistance(this.box.lastPoint));this.render()}}boxOnPointUp(n){if(this.mouseDown&&this.status=="edit"){const r=Uv(this.lastPointDown,n);console.log(r),r>10&&this.box.app.emit(it.ONCHANGE)}if(this.mouseDown=!1,(this.status=="draw"||this.status=="edit")&&this.pointList.length===2){const r=Math.min(this.pointList[0].x,this.pointList[1].x),i=Math.min(this.pointList[0].y,this.pointList[1].y),o=Math.max(this.pointList[0].x,this.pointList[1].x),s=Math.max(this.pointList[0].y,this.pointList[1].y);this.pointList=[{x:r,y:i},{x:o,y:s}],this.render()}this.status=="draw"&&this.pointList.length===2&&this.complete()}boxOnPointLeave(){this.mouseDown=!1,this.acctivePointIndex=-1,this.render()}boxOnZoom(){this.render()}boxOnTranslate(){this.render()}destory(){this.box.app.off_(this.boxEventIds),this.obj.off_(this.objoxEventIds);for(let n=0;n<this.obj.children.length;n++)this.obj.remove(this.obj.children[n]);this.obj.children=[],this.box.objectsLayer.remove(this.obj),this.box.app.emit(it.ONCHANGE)}async complete(){if(this.pointList.length<this.minPointCount)return;if(Math.max(Math.abs(this.pointList[0].x-this.pointList[1].x),Math.abs(this.pointList[0].y-this.pointList[1].y))<30){this.status="draw",this.pointList=[],this.render();return}if(this.config)this.completeing=!1;else{this.completeing=!0;const i=await new Promise((o,s)=>{this.box.app.emit(it.ONCOMPLETE,{ok:o,err:s})}).catch(()=>{throw this.completeing=!1,this.pointList=[],this.render(),Error("The mark object has not been assigned a label.")});this.completeing=!1,this.label=i.label,this.color=i.color}this.status="done",this.render();let r=null;this.box.currentDrawingType==Ie.RECT?r=new Xo(this.box,this.config):this.box.currentDrawingType==Ie.POLYGON&&(r=new Vo(this.box,this.config)),r&&this.box.markObjectList.push(r),this.box.app.emit(it.ONCHANGE)}get vertexList(){return this.pointList.length===2?[this.pointList[0],{x:this.pointList[0].x,y:this.pointList[1].y},this.pointList[1],{x:this.pointList[1].x,y:this.pointList[0].y}]:[]}render(){for(let o=0;o<this.obj.children.length;o++)this.obj.remove(this.obj.children[o]);this.obj.children=[],this.obj.x=0,this.obj.y=0;const n=this.box.curLayout.zoom;if(this.pointList.length==2){const o=this.pointList[0]||this.box.lastPoint,s=new Jt({height:20/n,x:o.x,y:o.y-20/n,fill:this.color,textAlign:"center",verticalAlign:"middle",text:`#${this.label}`,fontSize:12/n,fontWeight:"bold"});this.obj.add(s)}const r=this.box.config.lineWidth/n,i=new ur({path:"",windingRule:"evenodd",stroke:this.color,fill:this.mouseEnter||this.status=="edit"?"rgba(255, 255, 255, 0.5)":"rgba(0,0,0,0)",strokeWidth:r});this.obj.add(i),this.vertexList.forEach((o,s)=>{if(s===0?i.path+=`M${o.x},${o.y} `:i.path+=`L${o.x},${o.y} `,this.status=="draw"||this.status=="edit"){const a=new or({x:o.x-r*2,y:o.y-r*2,width:r*4,height:r*4,fill:this.color});this.obj.add(a)}}),i.path+="Z"}isPointInside(n){const r=8/this.box.curLayout.zoom;return Wv(n,this.vertexList)<r}export(){return{index:this.index,type:this.type,label:this.label,color:this.color,pointList:this.pointList}}static import(n,r){const i=new this(n);return i.label=r.label,i.color=r.color,i.pointList=r.pointList,i.status="done",i.render(),i}}class Vo extends Ov{constructor(n,r){super();Q(this,"lastPointDown");Q(this,"config");this.id=Cv(),this.minPointCount=3,this.type=Ie.POLYGON,this.box=n,this.index=n.markObjectList.length+1,r&&(this.config=r,this.color=r.color,this.label=r.label),this.obj=new Rr({x:0,y:0}),this.box.objectsLayer.add(this.obj),r&&(this.label=r.label,this.color=r.color),this.boxEventIds=[this.box.app.on_(it.ONZOOM,this.boxOnZoom,this),this.box.app.on_(it.ONTRANSLATE,this.boxOnTranslate,this),this.box.app.on_(it.ONPOINTLEAVE,this.boxOnPointLeave,this),this.box.app.on_(it.ONPOINTMOVE,this.boxOnPointMove,this),this.box.app.on_(it.ONPOINTDOWN,this.boxOnPointDown,this),this.box.app.on_(it.ONPOINTUP,this.boxOnPointUp,this)]}async boxOnPointDown(n){if(this.lastPointDown=n,this.status=="draw"){if(this.pointList.length>=3){const r=this.box.config.lineWidth/this.box.curLayout.zoom,i={x:n.x-this.pointList[0].x,y:n.y-this.pointList[0].y};if(Math.abs(i.x)<r*4&&Math.abs(i.y)<r*4){await this.complete();return}}this.pointList.push(n),this.render()}this.mouseEnter&&(this.status=="done"||this.status=="edit")?(this.box.selectObject&&this.box.selectObject.id!==this.id&&(this.box.selectObject.status="done",this.box.selectObject.render(),this.box.selectObject=void 0),this.status!="edit"&&(this.status="edit",this.box.app.emit(it.ONCHANGE)),this.box.selectObject=this,this.mouseDown=!0,this.lastMousePoint=this.box.lastPoint,this.acctivePointIndex=this.getMinDistance(this.lastMousePoint),this.render()):this.status=="edit"&&(this.status="done",this.box.selectObject=void 0,this.render(),this.box.app.emit(it.ONCHANGE))}getMinDistance(n){let r=1/0,i=-1;this.pointList.forEach((s,a)=>{const l=Math.sqrt(Math.pow(s.x-n.x,2)+Math.pow(s.y-n.y,2));l<r&&(r=l,i=a)});const o=8/this.box.curLayout.zoom;return r<o?i:-1}boxOnPointMove(){if(this.mouseDown&&this.status=="edit"){const n={x:this.box.lastPoint.x-this.lastMousePoint.x,y:this.box.lastPoint.y-this.lastMousePoint.y};this.acctivePointIndex==-1?this.pointList=this.pointList.map(r=>({x:r.x+n.x,y:r.y+n.y})):this.pointList[this.acctivePointIndex]={x:this.lastMousePoint.x,y:this.lastMousePoint.y},this.lastMousePoint=this.box.lastPoint}else this.status=="edit"&&(this.acctivePointIndex=this.getMinDistance(this.box.lastPoint));this.render()}boxOnPointUp(n){this.mouseDown&&this.status=="edit"&&Uv(this.lastPointDown,n)>10&&this.box.app.emit(it.ONCHANGE),this.mouseDown=!1}boxOnPointLeave(){this.mouseDown=!1,this.acctivePointIndex=-1,this.render()}boxOnContextMenu(){this.pointList.pop(),this.render()}boxOnZoom(){this.render()}boxOnTranslate(){this.render()}destory(){this.box.app.off_(this.boxEventIds),this.obj.off_(this.objoxEventIds);for(let n=0;n<this.obj.children.length;n++)this.obj.remove(this.obj.children[n]);this.obj.children=[],this.box.objectsLayer.remove(this.obj),this.box.app.emit(it.ONCHANGE)}async complete(){if(this.pointList.length<this.minPointCount)return;if(this.completeing=!0,this.config)this.completeing=!1;else{const r=await new Promise((i,o)=>{this.box.app.emit(it.ONCOMPLETE,{ok:i,err:o})}).catch(()=>{throw this.completeing=!1,this.render(),Error("The mark object has not been assigned a label.")});this.completeing=!1,this.label=r.label,this.color=r.color}this.status="done";try{if(this.box.edges!==0){const i=this.box.toJSON().filter(o=>o.index!==this.index&&o.type==="polygon");if(i&&i.length!==0)for(let o=0;o<i.length;o++){const s=i[o].pointList.map(c=>[c.x,c.y]),a=this.pointList.map(c=>[c.x,c.y]),l=this.box.edges===1?KP(s,a):XP(s,a);console.log(l),l&&(this.pointList=l.map(c=>({x:c[0],y:c[1]})))}}}catch{this.completeing=!1}this.render();let n=null;this.box.currentDrawingType==Ie.RECT?n=new Xo(this.box,this.config):this.box.currentDrawingType==Ie.POLYGON&&(n=new Vo(this.box,this.config)),n&&this.box.markObjectList.push(n),this.box.app.emit(it.ONCHANGE)}render(){for(let s=0;s<this.obj.children.length;s++)this.obj.remove(this.obj.children[s]);this.obj.children=[],this.obj.x=0,this.obj.y=0;const n=this.box.lastPoint&&this.box.lastPoint.x&&this.box.lastPoint.y,r=this.box.curLayout.zoom;if(this.pointList[0]||n&&this.pointList.length>0){const s=this.pointList[0]||this.box.lastPoint,a=new Jt({height:20/r,x:s.x,y:s.y-20/r,fill:this.color,textAlign:"center",verticalAlign:"middle",text:`#${this.label}`,fontSize:12/r,fontWeight:"bold"});this.obj.add(a)}const i=this.box.config.lineWidth/r,o=new ur({path:"",windingRule:"evenodd",stroke:this.color,fill:this.mouseEnter||this.status=="edit"?"rgba(255, 255, 255, 0.5)":"rgba(0,0,0,0)",strokeWidth:i});if(this.obj.add(o),this.pointList.forEach((s,a)=>{if(a===0?o.path+=`M${s.x},${s.y} `:o.path+=`L${s.x},${s.y} `,this.status!=="done"||a===0&&this.box.selectObject==this){const l=new or({x:s.x-i*2,y:s.y-i*2,width:i*4,height:i*4,fill:this.color});this.obj.add(l)}if(this.acctivePointIndex===a){const l=new or({x:s.x-i*4,y:s.y-i*4,width:i*8,height:i*8,fill:this.color});this.obj.add(l)}}),this.status=="done"||this.status=="edit")o.path+="Z";else if(n&&!this.completeing){const s=this.box.lastPoint;let a="";const l=new or({width:i*4,height:i*4,fill:this.color});if(this.pointList.length>=3){const c={x:s.x-this.pointList[0].x,y:s.y-this.pointList[0].y};Math.abs(c.x)<i*4&&Math.abs(c.y)<i*4&&(a=`L${this.pointList[0].x},${this.pointList[0].y} `,l.width=i*10,l.height=i*10,l.x=this.pointList[0].x-i*5,l.y=this.pointList[0].y-i*5)}a||(a=`L${s.x},${s.y} `,l.x=s.x-i*2,l.y=s.y-i*2),o.path+=a,this.obj.add(l)}}isPointInside(n){const r=8/this.box.curLayout.zoom;return Wv(n,this.pointList)<r}export(){return{index:this.index,type:this.type,label:this.label,color:this.color,pointList:this.pointList}}static import(n,r){const i=new this(n);return i.label=r.label,i.color=r.color,i.pointList=r.pointList,i.status="done",i.render(),i}}var Ie=(e=>(e.NONE="",e.RECT="rect",e.POLYGON="polygon",e))(Ie||{});class VP{constructor(t,n){Q(this,"app");Q(this,"ruler");Q(this,"history");Q(this,"guideLine");Q(this,"time");Q(this,"config");Q(this,"initLayout",{zoom:1,offsetx:0,offsety:0});Q(this,"curLayout",{zoom:1,offsetx:0,offsety:0});Q(this,"originSize",{width:0,height:0});Q(this,"lastMovePoint");Q(this,"objectsLayer");Q(this,"backgroundImage");Q(this,"selectMode",!0);Q(this,"selectObject");Q(this,"moveStatus",!1);Q(this,"mouseDown",!1);Q(this,"zoomStatus",!1);Q(this,"windowKeydown");Q(this,"windowKeyup");Q(this,"docMouseMove");Q(this,"currentDrawingType",Ie.NONE);Q(this,"markObjectList",[]);Q(this,"edges",1);this.app=new Nu({type:"user",wheel:{zoomMode:!0},fill:"red",...t}),this.config={lineWidth:2},Object.assign(this.config,n||{}),this.view.style.cursor="default",this.view.oncontextmenu=()=>{const r=this.pointMapping(this.lastMovePoint);return this.app.emit(it.ONCONTEXTMENU,r),!1},this.objectsLayer=this.app.addLeafer(),this.backgroundImage=new Ho,this.objectsLayer.add(this.backgroundImage),this.app.on_(mt.DOWN,this.appPointDown,this),this.app.on_(mt.UP,this.appPointUp,this),this.app.on_(mt.DOUBLE_TAP,this.appPointDoubleTap,this),this.app.on(rn.START,()=>this.zoomStatus=!0),this.app.on_(rn.ZOOM,this.appZooming,this),this.app.on(rn.END,()=>this.zoomStatus=!1),this.app.on_(Fe.MOVE,this.appMoving,this),this.windowKeydown=this._windowKeydown.bind(this),this.windowKeyup=this._windowKeyup.bind(this),window.addEventListener("keydown",this.windowKeydown),window.addEventListener("keyup",this.windowKeyup),this.docMouseMove=r=>{let{x:i,y:o}=this.view.getBoundingClientRect();i=r.clientX-i,o=r.clientY-o;const s={x:i,y:o};r.target&&(s.origin={target:r.target}),s.buttons=r.buttons,s.spaceKey=this.moveStatus,this.appPointMove(s)},document.addEventListener("mousemove",this.docMouseMove),this.ruler=new hC(this),this.history=new Ev(this),this.guideLine=new _C(this),this.time=new Sv(this)}get view(){return this.app.view}async setBackground(t){return new Promise(n=>{this.backgroundImage.url=t,this.backgroundImage.once(Pn.LOADED,r=>{const{width:i,height:o}=r.image;this.originSize={width:i,height:o},this.backgroundImage.width=i,this.backgroundImage.height=o,console.log(i,o);const s=this.app.width/i,a=this.app.height/o,l=Math.min(s,a),c=(this.app.width-i*l)/2,h=(this.app.height-o*l)/2;this.scale(l),this.translate(c,h),this.ruler.forceRender(),this.initLayout={zoom:l,offsetx:c,offsety:h},this.curLayout=this.initLayout,n(null)})})}setObjectData(t){t&&(t.forEach(n=>{let r;n.type===Ie.POLYGON?r=Vo.import(this,n):n.type===Ie.RECT&&(r=Xo.import(this,n)),r&&this.markObjectList.push(r)}),this.app.emit(it.ONCHANGE))}sortObject(t){const n=[];t.forEach(r=>{const i=this.markObjectList.find(o=>o.id===r);this.markObjectList=this.markObjectList.filter(o=>o.id!==r),i&&n.push(i)}),this.markObjectList.push(...n),this.markObjectList.forEach((r,i)=>{r.index=i+1,r.render()}),this.app.emit(it.ONCHANGE)}selectObjectById(t){const n=this.markObjectList.find(r=>r.id===t);n&&n.setSelect(!0)}setObjectLabel(t,n){const r=this.markObjectList.find(i=>i.id===t);r&&r.setLabel(n)}deleteObject(t){const n=this.markObjectList.find(r=>r.id===t);n&&n.destory(),this.markObjectList=this.markObjectList.filter(r=>r.id!==t),this.app.emit(it.ONCHANGE)}setSelectMode(t){this.selectMode!=t&&(t&&this.setDrawType(Ie.NONE),this.selectObject&&(this.selectObject.status="done",this.selectObject.render(),this.selectObject=void 0),this.selectMode=t,this.lastMovePoint&&this.appPointMove({...this.lastMovePoint,spaceKey:this.moveStatus}),this.app.emit(it.ONSELECT,{status:t}))}scale(t){this.objectsLayer.zoomLayer.scaleX=t,this.objectsLayer.zoomLayer.scaleY=t,this.curLayout.zoom=t,this.app.emit(it.ONZOOM,{zoom:t})}translate(t,n){this.objectsLayer.x=t,this.objectsLayer.y=n,this.curLayout.offsetx=t,this.curLayout.offsety=n,this.app.emit(it.ONTRANSLATE,{x:t,y:n})}setMoveStatus(t){this.moveStatus!=t&&(this.moveStatus=t,this.lastMovePoint&&this.appPointMove({...this.lastMovePoint,spaceKey:t}),this.app.emit(it.ONMOVE,{status:t}))}pointMapping(t){const n={x:0,y:0};return n.x=(t.x-this.curLayout.offsetx)/this.curLayout.zoom,n.y=(t.y-this.curLayout.offsety)/this.curLayout.zoom,n}get lastPoint(){return this.lastMovePoint?this.pointMapping(this.lastMovePoint):null}appPointMove(t){const n=this.pointMapping(t),r=this.markObjectList.map((i,o)=>(i.mouseEnter=!1,i.render(),o)).reverse();if(this.selectMode){const i=r.find(o=>this.markObjectList[o].isPointInside(n));i!==void 0&&this.markObjectList[i]&&(this.markObjectList[i].mouseEnter=!0,this.markObjectList[i].render())}if(t.buttons!==void 0&&(this.lastMovePoint={x:t.x,y:t.y}),t.spaceKey)this.objectsLayer.cursor="default";else{const i=!!this.markObjectList.find(o=>o.status==="draw");this.selectMode?this.objectsLayer.cursor="pointer":i?this.objectsLayer.cursor="crosshair":this.objectsLayer.cursor="default"}t.buttons!==void 0&&this.app.emit(it.ONPOINTMOVE,n),t.buttons!==void 0&&this.app.emit(it.ONGUIDELINEMOVE,t)}appPointLeave(){this.lastMovePoint=void 0,this.app.emit(it.ONPOINTLEAVE)}appPointDown(t){if(this.moveStatus)return;const n=this.pointMapping(t);t.buttons===1&&this.app.emit(it.ONPOINTDOWN,n)}appPointUp(t){if(this.moveStatus)return;const n=this.pointMapping(t);this.app.emit(it.ONPOINTUP,n)}appPointDoubleTap(){if(this.markObjectList.length&&this.markObjectList[this.markObjectList.length-1].status=="draw")return;const{width:t,height:n}=this.originSize,r=this.app.width/t,i=this.app.height/n,o=Math.min(r,i),s=(this.app.width-t*o)/2,a=(this.app.height-n*o)/2;this.scale(o),this.translate(s,a),this.ruler.forceRender(),this.initLayout={zoom:o,offsetx:s,offsety:a}}appZooming(t){const n={x:t.x,y:t.y},r=t.scale>1?1.1:.9;an.zoomOfWorld(this.objectsLayer,n,r),this.scale(this.objectsLayer.zoomLayer.scaleX),this.translate(this.objectsLayer.x,this.objectsLayer.y),this.ruler.forceRender()}appMoving(t){t.buttons!=0&&(an.moveWorld(this.objectsLayer,t.moveX,t.moveY),this.scale(this.objectsLayer.zoomLayer.scaleX),this.translate(this.objectsLayer.x,this.objectsLayer.y),this.ruler.forceRender(),this.setMoveStatus(!0))}async _windowKeydown(t){if(this.app.emit(it.ONKEYDOWN,t),t.code=="Space"&&(this.setMoveStatus(!0),t.preventDefault()),t.code=="NumpadEnter"||t.code=="Enter"){const n=this.markObjectList[this.markObjectList.length-1];n.status=="draw"&&await n.complete()}if(t.code=="Delete"){const n=this.markObjectList.find(r=>r.status=="edit");n&&(n.destory(),this.markObjectList.splice(this.markObjectList.indexOf(n),1),this.app.emit(it.ONCHANGE))}}_windowKeyup(t){t.code=="Space"&&this.setMoveStatus(!1)}async setDrawType(t,n){if(t!==Ie.NONE&&this.setSelectMode(!1),this.currentDrawingType){const r=this.markObjectList[this.markObjectList.length-1];if(r.pointList.length<r.minPointCount?(r.destory(),this.markObjectList.pop()):await r.complete(),r.type===t){this.currentDrawingType=Ie.NONE,this.app.emit(it.ONDRAW,{type:Ie.NONE}),this.appPointMove({...this.lastMovePoint,spaceKey:this.moveStatus});return}}if(this.currentDrawingType=t,t==Ie.RECT){const r=new Xo(this,n);this.markObjectList.push(r)}else if(t==Ie.POLYGON){const r=new Vo(this,n);this.markObjectList.push(r)}this.appPointMove({...this.lastMovePoint,spaceKey:this.moveStatus}),this.app.emit(it.ONDRAW,{type:t})}clear(){this.setSelectMode(!0),this.markObjectList.forEach(t=>t.destory()),this.markObjectList=[],this.appPointMove({...this.lastMovePoint,spaceKey:this.moveStatus}),this.app.emit(it.ONCHANGE)}get objects(){return this.markObjectList.filter(t=>t.status!=="draw").map(t=>({id:t.id,label:t.label,color:t.color,pointList:t.pointList,select:t.status=="edit"}))}toJSON(){return this.markObjectList.filter(t=>t.status!=="draw").map(t=>t.export())}destory(){window.removeEventListener("keydown",this.windowKeydown),window.removeEventListener("keyup",this.windowKeyup),document.removeEventListener("mousemove",this.docMouseMove),this.view.innerHTML="",this.app.destory()}}var Hv={exports:{}};const ZP=oa(Rb);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Wp(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function dr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Wp(Object(n),!0).forEach(function(r){JP(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Wp(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ja(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ja=function(t){return typeof t}:Ja=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ja(e)}function JP(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Mn(){return Mn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Mn.apply(this,arguments)}function QP(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,o;for(o=0;o<r.length;o++)i=r[o],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function qP(e,t){if(e==null)return{};var n=QP(e,t),r,i;if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)r=o[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function t3(e){return e3(e)||n3(e)||r3(e)||i3()}function e3(e){if(Array.isArray(e))return Ju(e)}function n3(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function r3(e,t){if(e){if(typeof e=="string")return Ju(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ju(e,t)}}function Ju(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function i3(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var s3="1.14.0";function Pr(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var Nr=Pr(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),la=Pr(/Edge/i),Up=Pr(/firefox/i),Co=Pr(/safari/i)&&!Pr(/chrome/i)&&!Pr(/android/i),zv=Pr(/iP(ad|od|hone)/i),o3=Pr(/chrome/i)&&Pr(/android/i),Gv={capture:!1,passive:!1};function Lt(e,t,n){e.addEventListener(t,n,!Nr&&Gv)}function Ct(e,t,n){e.removeEventListener(t,n,!Nr&&Gv)}function xl(e,t){if(t){if(t[0]===">"&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function a3(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function Nn(e,t,n,r){if(e){n=n||document;do{if(t!=null&&(t[0]===">"?e.parentNode===n&&xl(e,t):xl(e,t))||r&&e===n)return e;if(e===n)break}while(e=a3(e))}return null}var Hp=/\s+/g;function oe(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(Hp," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(Hp," ")}}function rt(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf("webkit")===-1&&(t="-webkit-"+t),r[t]=n+(typeof n=="string"?"":"px")}}function Bi(e,t){var n="";if(typeof e=="string")n=e;else do{var r=rt(e,"transform");r&&r!=="none"&&(n=r+" "+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function Yv(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,o=r.length;if(n)for(;i<o;i++)n(r[i],i);return r}return[]}function ar(){var e=document.scrollingElement;return e||document.documentElement}function ie(e,t,n,r,i){if(!(!e.getBoundingClientRect&&e!==window)){var o,s,a,l,c,h,u;if(e!==window&&e.parentNode&&e!==ar()?(o=e.getBoundingClientRect(),s=o.top,a=o.left,l=o.bottom,c=o.right,h=o.height,u=o.width):(s=0,a=0,l=window.innerHeight,c=window.innerWidth,h=window.innerHeight,u=window.innerWidth),(t||n)&&e!==window&&(i=i||e.parentNode,!Nr))do if(i&&i.getBoundingClientRect&&(rt(i,"transform")!=="none"||n&&rt(i,"position")!=="static")){var f=i.getBoundingClientRect();s-=f.top+parseInt(rt(i,"border-top-width")),a-=f.left+parseInt(rt(i,"border-left-width")),l=s+o.height,c=a+o.width;break}while(i=i.parentNode);if(r&&e!==window){var d=Bi(i||e),g=d&&d.a,m=d&&d.d;d&&(s/=m,a/=g,u/=g,h/=m,l=s+h,c=a+u)}return{top:s,left:a,bottom:l,right:c,width:u,height:h}}}function zp(e,t,n){for(var r=Jr(e,!0),i=ie(e)[t];r;){var o=ie(r)[n],s=void 0;if(n==="top"||n==="left"?s=i>=o:s=i<=o,!s)return r;if(r===ar())break;r=Jr(r,!1)}return!1}function Fs(e,t,n,r){for(var i=0,o=0,s=e.children;o<s.length;){if(s[o].style.display!=="none"&&s[o]!==gt.ghost&&(r||s[o]!==gt.dragged)&&Nn(s[o],n.draggable,e,!1)){if(i===t)return s[o];i++}o++}return null}function qh(e,t){for(var n=e.lastElementChild;n&&(n===gt.ghost||rt(n,"display")==="none"||t&&!xl(n,t));)n=n.previousElementSibling;return n||null}function pe(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==gt.clone&&(!t||xl(e,t))&&n++;return n}function Gp(e){var t=0,n=0,r=ar();if(e)do{var i=Bi(e),o=i.a,s=i.d;t+=e.scrollLeft*o,n+=e.scrollTop*s}while(e!==r&&(e=e.parentNode));return[t,n]}function l3(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function Jr(e,t){if(!e||!e.getBoundingClientRect)return ar();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=rt(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX=="auto"||i.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(i.overflowY=="auto"||i.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return ar();if(r||t)return n;r=!0}}while(n=n.parentNode);return ar()}function c3(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Jc(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Po;function Kv(e,t){return function(){if(!Po){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),Po=setTimeout(function(){Po=void 0},t)}}}function u3(){clearTimeout(Po),Po=void 0}function Xv(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function tf(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function Yp(e,t){rt(e,"position","absolute"),rt(e,"top",t.top),rt(e,"left",t.left),rt(e,"width",t.width),rt(e,"height",t.height)}function Qc(e){rt(e,"position",""),rt(e,"top",""),rt(e,"left",""),rt(e,"width",""),rt(e,"height","")}var Ne="Sortable"+new Date().getTime();function h3(){var e=[],t;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var r=[].slice.call(this.el.children);r.forEach(function(i){if(!(rt(i,"display")==="none"||i===gt.ghost)){e.push({target:i,rect:ie(i)});var o=dr({},e[e.length-1].rect);if(i.thisAnimationDuration){var s=Bi(i,!0);s&&(o.top-=s.f,o.left-=s.e)}i.fromRect=o}})}},addAnimationState:function(r){e.push(r)},removeAnimationState:function(r){e.splice(l3(e,{target:r}),1)},animateAll:function(r){var i=this;if(!this.options.animation){clearTimeout(t),typeof r=="function"&&r();return}var o=!1,s=0;e.forEach(function(a){var l=0,c=a.target,h=c.fromRect,u=ie(c),f=c.prevFromRect,d=c.prevToRect,g=a.rect,m=Bi(c,!0);m&&(u.top-=m.f,u.left-=m.e),c.toRect=u,c.thisAnimationDuration&&Jc(f,u)&&!Jc(h,u)&&(g.top-u.top)/(g.left-u.left)===(h.top-u.top)/(h.left-u.left)&&(l=d3(g,f,d,i.options)),Jc(u,h)||(c.prevFromRect=h,c.prevToRect=u,l||(l=i.options.animation),i.animate(c,g,u,l)),l&&(o=!0,s=Math.max(s,l),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},l),c.thisAnimationDuration=l)}),clearTimeout(t),o?t=setTimeout(function(){typeof r=="function"&&r()},s):typeof r=="function"&&r(),e=[]},animate:function(r,i,o,s){if(s){rt(r,"transition",""),rt(r,"transform","");var a=Bi(this.el),l=a&&a.a,c=a&&a.d,h=(i.left-o.left)/(l||1),u=(i.top-o.top)/(c||1);r.animatingX=!!h,r.animatingY=!!u,rt(r,"transform","translate3d("+h+"px,"+u+"px,0)"),this.forRepaintDummy=f3(r),rt(r,"transition","transform "+s+"ms"+(this.options.easing?" "+this.options.easing:"")),rt(r,"transform","translate3d(0,0,0)"),typeof r.animated=="number"&&clearTimeout(r.animated),r.animated=setTimeout(function(){rt(r,"transition",""),rt(r,"transform",""),r.animated=!1,r.animatingX=!1,r.animatingY=!1},s)}}}}function f3(e){return e.offsetWidth}function d3(e,t,n,r){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*r.animation}var cs=[],qc={initializeByDefault:!0},ca={mount:function(t){for(var n in qc)qc.hasOwnProperty(n)&&!(n in t)&&(t[n]=qc[n]);cs.forEach(function(r){if(r.pluginName===t.pluginName)throw"Sortable: Cannot mount plugin ".concat(t.pluginName," more than once")}),cs.push(t)},pluginEvent:function(t,n,r){var i=this;this.eventCanceled=!1,r.cancel=function(){i.eventCanceled=!0};var o=t+"Global";cs.forEach(function(s){n[s.pluginName]&&(n[s.pluginName][o]&&n[s.pluginName][o](dr({sortable:n},r)),n.options[s.pluginName]&&n[s.pluginName][t]&&n[s.pluginName][t](dr({sortable:n},r)))})},initializePlugins:function(t,n,r,i){cs.forEach(function(a){var l=a.pluginName;if(!(!t.options[l]&&!a.initializeByDefault)){var c=new a(t,n,t.options);c.sortable=t,c.options=t.options,t[l]=c,Mn(r,c.defaults)}});for(var o in t.options)if(t.options.hasOwnProperty(o)){var s=this.modifyOption(t,o,t.options[o]);typeof s<"u"&&(t.options[o]=s)}},getEventProperties:function(t,n){var r={};return cs.forEach(function(i){typeof i.eventProperties=="function"&&Mn(r,i.eventProperties.call(n[i.pluginName],t))}),r},modifyOption:function(t,n,r){var i;return cs.forEach(function(o){t[o.pluginName]&&o.optionListeners&&typeof o.optionListeners[n]=="function"&&(i=o.optionListeners[n].call(t[o.pluginName],r))}),i}};function ho(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,o=e.cloneEl,s=e.toEl,a=e.fromEl,l=e.oldIndex,c=e.newIndex,h=e.oldDraggableIndex,u=e.newDraggableIndex,f=e.originalEvent,d=e.putSortable,g=e.extraEventProperties;if(t=t||n&&n[Ne],!!t){var m,b=t.options,x="on"+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Nr&&!la?m=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(m=document.createEvent("Event"),m.initEvent(r,!0,!0)),m.to=s||n,m.from=a||n,m.item=i||n,m.clone=o,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=h,m.newDraggableIndex=u,m.originalEvent=f,m.pullMode=d?d.lastPutMode:void 0;var p=dr(dr({},g),ca.getEventProperties(r,t));for(var v in p)m[v]=p[v];n&&n.dispatchEvent(m),b[x]&&b[x].call(t,m)}}var p3=["evt"],Ze=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=r.evt,o=qP(r,p3);ca.pluginEvent.bind(gt)(t,n,dr({dragEl:V,parentEl:he,ghostEl:St,rootEl:re,nextEl:Ei,lastDownEl:Qa,cloneEl:fe,cloneHidden:Vr,dragStarted:fo,putSortable:Se,activeSortable:gt.active,originalEvent:i,oldIndex:ys,oldDraggableIndex:To,newIndex:pn,newDraggableIndex:Kr,hideGhostForTarget:Qv,unhideGhostForTarget:qv,cloneNowHidden:function(){Vr=!0},cloneNowShown:function(){Vr=!1},dispatchSortableEvent:function(a){Ue({sortable:n,name:a,originalEvent:i})}},o))};function Ue(e){ho(dr({putSortable:Se,cloneEl:fe,targetEl:V,rootEl:re,oldIndex:ys,oldDraggableIndex:To,newIndex:pn,newDraggableIndex:Kr},e))}var V,he,St,re,Ei,Qa,fe,Vr,ys,pn,To,Kr,$a,Se,gs=!1,bl=!1,_l=[],_i,Dn,tu,eu,Kp,Xp,fo,us,Lo,Ro=!1,ja=!1,qa,Re,nu=[],Qu=!1,wl=[],nc=typeof document<"u",Wa=zv,Vp=la||Nr?"cssFloat":"float",g3=nc&&!o3&&!zv&&"draggable"in document.createElement("div"),Vv=function(){if(nc){if(Nr)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Zv=function(t,n){var r=rt(t),i=parseInt(r.width)-parseInt(r.paddingLeft)-parseInt(r.paddingRight)-parseInt(r.borderLeftWidth)-parseInt(r.borderRightWidth),o=Fs(t,0,n),s=Fs(t,1,n),a=o&&rt(o),l=s&&rt(s),c=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+ie(o).width,h=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+ie(s).width;if(r.display==="flex")return r.flexDirection==="column"||r.flexDirection==="column-reverse"?"vertical":"horizontal";if(r.display==="grid")return r.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&a.float!=="none"){var u=a.float==="left"?"left":"right";return s&&(l.clear==="both"||l.clear===u)?"vertical":"horizontal"}return o&&(a.display==="block"||a.display==="flex"||a.display==="table"||a.display==="grid"||c>=i&&r[Vp]==="none"||s&&r[Vp]==="none"&&c+h>i)?"vertical":"horizontal"},m3=function(t,n,r){var i=r?t.left:t.top,o=r?t.right:t.bottom,s=r?t.width:t.height,a=r?n.left:n.top,l=r?n.right:n.bottom,c=r?n.width:n.height;return i===a||o===l||i+s/2===a+c/2},v3=function(t,n){var r;return _l.some(function(i){var o=i[Ne].options.emptyInsertThreshold;if(!(!o||qh(i))){var s=ie(i),a=t>=s.left-o&&t<=s.right+o,l=n>=s.top-o&&n<=s.bottom+o;if(a&&l)return r=i}}),r},Jv=function(t){function n(o,s){return function(a,l,c,h){var u=a.options.group.name&&l.options.group.name&&a.options.group.name===l.options.group.name;if(o==null&&(s||u))return!0;if(o==null||o===!1)return!1;if(s&&o==="clone")return o;if(typeof o=="function")return n(o(a,l,c,h),s)(a,l,c,h);var f=(s?a:l).options.group.name;return o===!0||typeof o=="string"&&o===f||o.join&&o.indexOf(f)>-1}}var r={},i=t.group;(!i||Ja(i)!="object")&&(i={name:i}),r.name=i.name,r.checkPull=n(i.pull,!0),r.checkPut=n(i.put),r.revertClone=i.revertClone,t.group=r},Qv=function(){!Vv&&St&&rt(St,"display","none")},qv=function(){!Vv&&St&&rt(St,"display","")};nc&&document.addEventListener("click",function(e){if(bl)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),bl=!1,!1},!0);var wi=function(t){if(V){t=t.touches?t.touches[0]:t;var n=v3(t.clientX,t.clientY);if(n){var r={};for(var i in t)t.hasOwnProperty(i)&&(r[i]=t[i]);r.target=r.rootEl=n,r.preventDefault=void 0,r.stopPropagation=void 0,n[Ne]._onDragOver(r)}}},y3=function(t){V&&V.parentNode[Ne]._isOutsideThisEl(t.target)};function gt(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=Mn({},t),e[Ne]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Zv(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(s,a){s.setData("Text",a.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:gt.supportPointer!==!1&&"PointerEvent"in window&&!Co,emptyInsertThreshold:5};ca.initializePlugins(this,e,n);for(var r in n)!(r in t)&&(t[r]=n[r]);Jv(t);for(var i in this)i.charAt(0)==="_"&&typeof this[i]=="function"&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:g3,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?Lt(e,"pointerdown",this._onTapStart):(Lt(e,"mousedown",this._onTapStart),Lt(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(Lt(e,"dragover",this),Lt(e,"dragenter",this)),_l.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),Mn(this,h3())}gt.prototype={constructor:gt,_isOutsideThisEl:function(t){!this.el.contains(t)&&t!==this.el&&(us=null)},_getDirection:function(t,n){return typeof this.options.direction=="function"?this.options.direction.call(this,t,n,V):this.options.direction},_onTapStart:function(t){if(t.cancelable){var n=this,r=this.el,i=this.options,o=i.preventOnFilter,s=t.type,a=t.touches&&t.touches[0]||t.pointerType&&t.pointerType==="touch"&&t,l=(a||t).target,c=t.target.shadowRoot&&(t.path&&t.path[0]||t.composedPath&&t.composedPath()[0])||l,h=i.filter;if(C3(r),!V&&!(/mousedown|pointerdown/.test(s)&&t.button!==0||i.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&Co&&l&&l.tagName.toUpperCase()==="SELECT")&&(l=Nn(l,i.draggable,r,!1),!(l&&l.animated)&&Qa!==l)){if(ys=pe(l),To=pe(l,i.draggable),typeof h=="function"){if(h.call(this,t,l,this)){Ue({sortable:n,rootEl:c,name:"filter",targetEl:l,toEl:r,fromEl:r}),Ze("filter",n,{evt:t}),o&&t.cancelable&&t.preventDefault();return}}else if(h&&(h=h.split(",").some(function(u){if(u=Nn(c,u.trim(),r,!1),u)return Ue({sortable:n,rootEl:u,name:"filter",targetEl:l,fromEl:r,toEl:r}),Ze("filter",n,{evt:t}),!0}),h)){o&&t.cancelable&&t.preventDefault();return}i.handle&&!Nn(c,i.handle,r,!1)||this._prepareDragStart(t,a,l)}}},_prepareDragStart:function(t,n,r){var i=this,o=i.el,s=i.options,a=o.ownerDocument,l;if(r&&!V&&r.parentNode===o){var c=ie(r);if(re=o,V=r,he=V.parentNode,Ei=V.nextSibling,Qa=r,$a=s.group,gt.dragged=V,_i={target:V,clientX:(n||t).clientX,clientY:(n||t).clientY},Kp=_i.clientX-c.left,Xp=_i.clientY-c.top,this._lastX=(n||t).clientX,this._lastY=(n||t).clientY,V.style["will-change"]="all",l=function(){if(Ze("delayEnded",i,{evt:t}),gt.eventCanceled){i._onDrop();return}i._disableDelayedDragEvents(),!Up&&i.nativeDraggable&&(V.draggable=!0),i._triggerDragStart(t,n),Ue({sortable:i,name:"choose",originalEvent:t}),oe(V,s.chosenClass,!0)},s.ignore.split(",").forEach(function(h){Yv(V,h.trim(),ru)}),Lt(a,"dragover",wi),Lt(a,"mousemove",wi),Lt(a,"touchmove",wi),Lt(a,"mouseup",i._onDrop),Lt(a,"touchend",i._onDrop),Lt(a,"touchcancel",i._onDrop),Up&&this.nativeDraggable&&(this.options.touchStartThreshold=4,V.draggable=!0),Ze("delayStart",this,{evt:t}),s.delay&&(!s.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(la||Nr))){if(gt.eventCanceled){this._onDrop();return}Lt(a,"mouseup",i._disableDelayedDrag),Lt(a,"touchend",i._disableDelayedDrag),Lt(a,"touchcancel",i._disableDelayedDrag),Lt(a,"mousemove",i._delayedDragTouchMoveHandler),Lt(a,"touchmove",i._delayedDragTouchMoveHandler),s.supportPointer&&Lt(a,"pointermove",i._delayedDragTouchMoveHandler),i._dragStartTimer=setTimeout(l,s.delay)}else l()}},_delayedDragTouchMoveHandler:function(t){var n=t.touches?t.touches[0]:t;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){V&&ru(V),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;Ct(t,"mouseup",this._disableDelayedDrag),Ct(t,"touchend",this._disableDelayedDrag),Ct(t,"touchcancel",this._disableDelayedDrag),Ct(t,"mousemove",this._delayedDragTouchMoveHandler),Ct(t,"touchmove",this._delayedDragTouchMoveHandler),Ct(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,n){n=n||t.pointerType=="touch"&&t,!this.nativeDraggable||n?this.options.supportPointer?Lt(document,"pointermove",this._onTouchMove):n?Lt(document,"touchmove",this._onTouchMove):Lt(document,"mousemove",this._onTouchMove):(Lt(V,"dragend",this),Lt(re,"dragstart",this._onDragStart));try{document.selection?tl(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(t,n){if(gs=!1,re&&V){Ze("dragStarted",this,{evt:n}),this.nativeDraggable&&Lt(document,"dragover",y3);var r=this.options;!t&&oe(V,r.dragClass,!1),oe(V,r.ghostClass,!0),gt.active=this,t&&this._appendGhost(),Ue({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(Dn){this._lastX=Dn.clientX,this._lastY=Dn.clientY,Qv();for(var t=document.elementFromPoint(Dn.clientX,Dn.clientY),n=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(Dn.clientX,Dn.clientY),t!==n);)n=t;if(V.parentNode[Ne]._isOutsideThisEl(t),n)do{if(n[Ne]){var r=void 0;if(r=n[Ne]._onDragOver({clientX:Dn.clientX,clientY:Dn.clientY,target:t,rootEl:n}),r&&!this.options.dragoverBubble)break}t=n}while(n=n.parentNode);qv()}},_onTouchMove:function(t){if(_i){var n=this.options,r=n.fallbackTolerance,i=n.fallbackOffset,o=t.touches?t.touches[0]:t,s=St&&Bi(St,!0),a=St&&s&&s.a,l=St&&s&&s.d,c=Wa&&Re&&Gp(Re),h=(o.clientX-_i.clientX+i.x)/(a||1)+(c?c[0]-nu[0]:0)/(a||1),u=(o.clientY-_i.clientY+i.y)/(l||1)+(c?c[1]-nu[1]:0)/(l||1);if(!gt.active&&!gs){if(r&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<r)return;this._onDragStart(t,!0)}if(St){s?(s.e+=h-(tu||0),s.f+=u-(eu||0)):s={a:1,b:0,c:0,d:1,e:h,f:u};var f="matrix(".concat(s.a,",").concat(s.b,",").concat(s.c,",").concat(s.d,",").concat(s.e,",").concat(s.f,")");rt(St,"webkitTransform",f),rt(St,"mozTransform",f),rt(St,"msTransform",f),rt(St,"transform",f),tu=h,eu=u,Dn=o}t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!St){var t=this.options.fallbackOnBody?document.body:re,n=ie(V,!0,Wa,!0,t),r=this.options;if(Wa){for(Re=t;rt(Re,"position")==="static"&&rt(Re,"transform")==="none"&&Re!==document;)Re=Re.parentNode;Re!==document.body&&Re!==document.documentElement?(Re===document&&(Re=ar()),n.top+=Re.scrollTop,n.left+=Re.scrollLeft):Re=ar(),nu=Gp(Re)}St=V.cloneNode(!0),oe(St,r.ghostClass,!1),oe(St,r.fallbackClass,!0),oe(St,r.dragClass,!0),rt(St,"transition",""),rt(St,"transform",""),rt(St,"box-sizing","border-box"),rt(St,"margin",0),rt(St,"top",n.top),rt(St,"left",n.left),rt(St,"width",n.width),rt(St,"height",n.height),rt(St,"opacity","0.8"),rt(St,"position",Wa?"absolute":"fixed"),rt(St,"zIndex","100000"),rt(St,"pointerEvents","none"),gt.ghost=St,t.appendChild(St),rt(St,"transform-origin",Kp/parseInt(St.style.width)*100+"% "+Xp/parseInt(St.style.height)*100+"%")}},_onDragStart:function(t,n){var r=this,i=t.dataTransfer,o=r.options;if(Ze("dragStart",this,{evt:t}),gt.eventCanceled){this._onDrop();return}Ze("setupClone",this),gt.eventCanceled||(fe=tf(V),fe.draggable=!1,fe.style["will-change"]="",this._hideClone(),oe(fe,this.options.chosenClass,!1),gt.clone=fe),r.cloneId=tl(function(){Ze("clone",r),!gt.eventCanceled&&(r.options.removeCloneOnHide||re.insertBefore(fe,V),r._hideClone(),Ue({sortable:r,name:"clone"}))}),!n&&oe(V,o.dragClass,!0),n?(bl=!0,r._loopId=setInterval(r._emulateDragOver,50)):(Ct(document,"mouseup",r._onDrop),Ct(document,"touchend",r._onDrop),Ct(document,"touchcancel",r._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(r,i,V)),Lt(document,"drop",r),rt(V,"transform","translateZ(0)")),gs=!0,r._dragStartId=tl(r._dragStarted.bind(r,n,t)),Lt(document,"selectstart",r),fo=!0,Co&&rt(document.body,"user-select","none")},_onDragOver:function(t){var n=this.el,r=t.target,i,o,s,a=this.options,l=a.group,c=gt.active,h=$a===l,u=a.sort,f=Se||c,d,g=this,m=!1;if(Qu)return;function b(X,Ot){Ze(X,g,dr({evt:t,isOwner:h,axis:d?"vertical":"horizontal",revert:s,dragRect:i,targetRect:o,canSort:u,fromSortable:f,target:r,completed:p,onMove:function(Tt,xt){return Ua(re,n,V,i,Tt,ie(Tt),t,xt)},changed:v},Ot))}function x(){b("dragOverAnimationCapture"),g.captureAnimationState(),g!==f&&f.captureAnimationState()}function p(X){return b("dragOverCompleted",{insertion:X}),X&&(h?c._hideClone():c._showClone(g),g!==f&&(oe(V,Se?Se.options.ghostClass:c.options.ghostClass,!1),oe(V,a.ghostClass,!0)),Se!==g&&g!==gt.active?Se=g:g===gt.active&&Se&&(Se=null),f===g&&(g._ignoreWhileAnimating=r),g.animateAll(function(){b("dragOverAnimationComplete"),g._ignoreWhileAnimating=null}),g!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(r===V&&!V.animated||r===n&&!r.animated)&&(us=null),!a.dragoverBubble&&!t.rootEl&&r!==document&&(V.parentNode[Ne]._isOutsideThisEl(t.target),!X&&wi(t)),!a.dragoverBubble&&t.stopPropagation&&t.stopPropagation(),m=!0}function v(){pn=pe(V),Kr=pe(V,a.draggable),Ue({sortable:g,name:"change",toEl:n,newIndex:pn,newDraggableIndex:Kr,originalEvent:t})}if(t.preventDefault!==void 0&&t.cancelable&&t.preventDefault(),r=Nn(r,a.draggable,n,!0),b("dragOver"),gt.eventCanceled)return m;if(V.contains(t.target)||r.animated&&r.animatingX&&r.animatingY||g._ignoreWhileAnimating===r)return p(!1);if(bl=!1,c&&!a.disabled&&(h?u||(s=he!==re):Se===this||(this.lastPutMode=$a.checkPull(this,c,V,t))&&l.checkPut(this,c,V,t))){if(d=this._getDirection(t,r)==="vertical",i=ie(V),b("dragOverValid"),gt.eventCanceled)return m;if(s)return he=re,x(),this._hideClone(),b("revert"),gt.eventCanceled||(Ei?re.insertBefore(V,Ei):re.appendChild(V)),p(!0);var y=qh(n,a.draggable);if(!y||w3(t,d,this)&&!y.animated){if(y===V)return p(!1);if(y&&n===t.target&&(r=y),r&&(o=ie(r)),Ua(re,n,V,i,r,o,t,!!r)!==!1)return x(),n.appendChild(V),he=n,v(),p(!0)}else if(y&&_3(t,d,this)){var _=Fs(n,0,a,!0);if(_===V)return p(!1);if(r=_,o=ie(r),Ua(re,n,V,i,r,o,t,!1)!==!1)return x(),n.insertBefore(V,_),he=n,v(),p(!0)}else if(r.parentNode===n){o=ie(r);var w=0,C,E=V.parentNode!==n,S=!m3(V.animated&&V.toRect||i,r.animated&&r.toRect||o,d),T=d?"top":"left",R=zp(r,"top","top")||zp(V,"top","top"),B=R?R.scrollTop:void 0;us!==r&&(C=o[T],Ro=!1,ja=!S&&a.invertSwap||E),w=E3(t,r,o,d,S?1:a.swapThreshold,a.invertedSwapThreshold==null?a.swapThreshold:a.invertedSwapThreshold,ja,us===r);var L;if(w!==0){var M=pe(V);do M-=w,L=he.children[M];while(L&&(rt(L,"display")==="none"||L===St))}if(w===0||L===r)return p(!1);us=r,Lo=w;var $=r.nextElementSibling,D=!1;D=w===1;var j=Ua(re,n,V,i,r,o,t,D);if(j!==!1)return(j===1||j===-1)&&(D=j===1),Qu=!0,setTimeout(b3,30),x(),D&&!$?n.appendChild(V):r.parentNode.insertBefore(V,D?$:r),R&&Xv(R,0,B-R.scrollTop),he=V.parentNode,C!==void 0&&!ja&&(qa=Math.abs(C-ie(r)[T])),v(),p(!0)}if(n.contains(V))return p(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ct(document,"mousemove",this._onTouchMove),Ct(document,"touchmove",this._onTouchMove),Ct(document,"pointermove",this._onTouchMove),Ct(document,"dragover",wi),Ct(document,"mousemove",wi),Ct(document,"touchmove",wi)},_offUpEvents:function(){var t=this.el.ownerDocument;Ct(t,"mouseup",this._onDrop),Ct(t,"touchend",this._onDrop),Ct(t,"pointerup",this._onDrop),Ct(t,"touchcancel",this._onDrop),Ct(document,"selectstart",this)},_onDrop:function(t){var n=this.el,r=this.options;if(pn=pe(V),Kr=pe(V,r.draggable),Ze("drop",this,{evt:t}),he=V&&V.parentNode,pn=pe(V),Kr=pe(V,r.draggable),gt.eventCanceled){this._nulling();return}gs=!1,ja=!1,Ro=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),qu(this.cloneId),qu(this._dragStartId),this.nativeDraggable&&(Ct(document,"drop",this),Ct(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Co&&rt(document.body,"user-select",""),rt(V,"transform",""),t&&(fo&&(t.cancelable&&t.preventDefault(),!r.dropBubble&&t.stopPropagation()),St&&St.parentNode&&St.parentNode.removeChild(St),(re===he||Se&&Se.lastPutMode!=="clone")&&fe&&fe.parentNode&&fe.parentNode.removeChild(fe),V&&(this.nativeDraggable&&Ct(V,"dragend",this),ru(V),V.style["will-change"]="",fo&&!gs&&oe(V,Se?Se.options.ghostClass:this.options.ghostClass,!1),oe(V,this.options.chosenClass,!1),Ue({sortable:this,name:"unchoose",toEl:he,newIndex:null,newDraggableIndex:null,originalEvent:t}),re!==he?(pn>=0&&(Ue({rootEl:he,name:"add",toEl:he,fromEl:re,originalEvent:t}),Ue({sortable:this,name:"remove",toEl:he,originalEvent:t}),Ue({rootEl:he,name:"sort",toEl:he,fromEl:re,originalEvent:t}),Ue({sortable:this,name:"sort",toEl:he,originalEvent:t})),Se&&Se.save()):pn!==ys&&pn>=0&&(Ue({sortable:this,name:"update",toEl:he,originalEvent:t}),Ue({sortable:this,name:"sort",toEl:he,originalEvent:t})),gt.active&&((pn==null||pn===-1)&&(pn=ys,Kr=To),Ue({sortable:this,name:"end",toEl:he,originalEvent:t}),this.save()))),this._nulling()},_nulling:function(){Ze("nulling",this),re=V=he=St=Ei=fe=Qa=Vr=_i=Dn=fo=pn=Kr=ys=To=us=Lo=Se=$a=gt.dragged=gt.ghost=gt.clone=gt.active=null,wl.forEach(function(t){t.checked=!0}),wl.length=tu=eu=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":V&&(this._onDragOver(t),x3(t));break;case"selectstart":t.preventDefault();break}},toArray:function(){for(var t=[],n,r=this.el.children,i=0,o=r.length,s=this.options;i<o;i++)n=r[i],Nn(n,s.draggable,this.el,!1)&&t.push(n.getAttribute(s.dataIdAttr)||O3(n));return t},sort:function(t,n){var r={},i=this.el;this.toArray().forEach(function(o,s){var a=i.children[s];Nn(a,this.options.draggable,i,!1)&&(r[o]=a)},this),n&&this.captureAnimationState(),t.forEach(function(o){r[o]&&(i.removeChild(r[o]),i.appendChild(r[o]))}),n&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,n){return Nn(t,n||this.options.draggable,this.el,!1)},option:function(t,n){var r=this.options;if(n===void 0)return r[t];var i=ca.modifyOption(this,t,n);typeof i<"u"?r[t]=i:r[t]=n,t==="group"&&Jv(r)},destroy:function(){Ze("destroy",this);var t=this.el;t[Ne]=null,Ct(t,"mousedown",this._onTapStart),Ct(t,"touchstart",this._onTapStart),Ct(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ct(t,"dragover",this),Ct(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),_l.splice(_l.indexOf(this.el),1),this.el=t=null},_hideClone:function(){if(!Vr){if(Ze("hideClone",this),gt.eventCanceled)return;rt(fe,"display","none"),this.options.removeCloneOnHide&&fe.parentNode&&fe.parentNode.removeChild(fe),Vr=!0}},_showClone:function(t){if(t.lastPutMode!=="clone"){this._hideClone();return}if(Vr){if(Ze("showClone",this),gt.eventCanceled)return;V.parentNode==re&&!this.options.group.revertClone?re.insertBefore(fe,V):Ei?re.insertBefore(fe,Ei):re.appendChild(fe),this.options.group.revertClone&&this.animate(V,fe),rt(fe,"display",""),Vr=!1}}};function x3(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function Ua(e,t,n,r,i,o,s,a){var l,c=e[Ne],h=c.options.onMove,u;return window.CustomEvent&&!Nr&&!la?l=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(l=document.createEvent("Event"),l.initEvent("move",!0,!0)),l.to=t,l.from=e,l.dragged=n,l.draggedRect=r,l.related=i||t,l.relatedRect=o||ie(t),l.willInsertAfter=a,l.originalEvent=s,e.dispatchEvent(l),h&&(u=h.call(c,l,s)),u}function ru(e){e.draggable=!1}function b3(){Qu=!1}function _3(e,t,n){var r=ie(Fs(n.el,0,n.options,!0)),i=10;return t?e.clientX<r.left-i||e.clientY<r.top&&e.clientX<r.right:e.clientY<r.top-i||e.clientY<r.bottom&&e.clientX<r.left}function w3(e,t,n){var r=ie(qh(n.el,n.options.draggable)),i=10;return t?e.clientX>r.right+i||e.clientX<=r.right&&e.clientY>r.bottom&&e.clientX>=r.left:e.clientX>r.right&&e.clientY>r.top||e.clientX<=r.right&&e.clientY>r.bottom+i}function E3(e,t,n,r,i,o,s,a){var l=r?e.clientY:e.clientX,c=r?n.height:n.width,h=r?n.top:n.left,u=r?n.bottom:n.right,f=!1;if(!s){if(a&&qa<c*i){if(!Ro&&(Lo===1?l>h+c*o/2:l<u-c*o/2)&&(Ro=!0),Ro)f=!0;else if(Lo===1?l<h+qa:l>u-qa)return-Lo}else if(l>h+c*(1-i)/2&&l<u-c*(1-i)/2)return S3(t)}return f=f||s,f&&(l<h+c*o/2||l>u-c*o/2)?l>h+c/2?1:-1:0}function S3(e){return pe(V)<pe(e)?1:-1}function O3(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function C3(e){wl.length=0;for(var t=e.getElementsByTagName("input"),n=t.length;n--;){var r=t[n];r.checked&&wl.push(r)}}function tl(e){return setTimeout(e,0)}function qu(e){return clearTimeout(e)}nc&&Lt(document,"touchmove",function(e){(gt.active||gs)&&e.cancelable&&e.preventDefault()});gt.utils={on:Lt,off:Ct,css:rt,find:Yv,is:function(t,n){return!!Nn(t,n,t,!1)},extend:c3,throttle:Kv,closest:Nn,toggleClass:oe,clone:tf,index:pe,nextTick:tl,cancelNextTick:qu,detectDirection:Zv,getChild:Fs};gt.get=function(e){return e[Ne]};gt.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach(function(r){if(!r.prototype||!r.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(r));r.utils&&(gt.utils=dr(dr({},gt.utils),r.utils)),ca.mount(r)})};gt.create=function(e,t){return new gt(e,t)};gt.version=s3;var ve=[],po,th,eh=!1,iu,su,El,go;function P3(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var t in this)t.charAt(0)==="_"&&typeof this[t]=="function"&&(this[t]=this[t].bind(this))}return e.prototype={dragStarted:function(n){var r=n.originalEvent;this.sortable.nativeDraggable?Lt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Lt(document,"pointermove",this._handleFallbackAutoScroll):r.touches?Lt(document,"touchmove",this._handleFallbackAutoScroll):Lt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var r=n.originalEvent;!this.options.dragOverBubble&&!r.rootEl&&this._handleAutoScroll(r)},drop:function(){this.sortable.nativeDraggable?Ct(document,"dragover",this._handleAutoScroll):(Ct(document,"pointermove",this._handleFallbackAutoScroll),Ct(document,"touchmove",this._handleFallbackAutoScroll),Ct(document,"mousemove",this._handleFallbackAutoScroll)),Zp(),el(),u3()},nulling:function(){El=th=po=eh=go=iu=su=null,ve.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,r){var i=this,o=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,a=document.elementFromPoint(o,s);if(El=n,r||this.options.forceAutoScrollFallback||la||Nr||Co){ou(n,this.options,a,r);var l=Jr(a,!0);eh&&(!go||o!==iu||s!==su)&&(go&&Zp(),go=setInterval(function(){var c=Jr(document.elementFromPoint(o,s),!0);c!==l&&(l=c,el()),ou(n,i.options,c,r)},10),iu=o,su=s)}else{if(!this.options.bubbleScroll||Jr(a,!0)===ar()){el();return}ou(n,this.options,Jr(a,!1),!1)}}},Mn(e,{pluginName:"scroll",initializeByDefault:!0})}function el(){ve.forEach(function(e){clearInterval(e.pid)}),ve=[]}function Zp(){clearInterval(go)}var ou=Kv(function(e,t,n,r){if(t.scroll){var i=(e.touches?e.touches[0]:e).clientX,o=(e.touches?e.touches[0]:e).clientY,s=t.scrollSensitivity,a=t.scrollSpeed,l=ar(),c=!1,h;th!==n&&(th=n,el(),po=t.scroll,h=t.scrollFn,po===!0&&(po=Jr(n,!0)));var u=0,f=po;do{var d=f,g=ie(d),m=g.top,b=g.bottom,x=g.left,p=g.right,v=g.width,y=g.height,_=void 0,w=void 0,C=d.scrollWidth,E=d.scrollHeight,S=rt(d),T=d.scrollLeft,R=d.scrollTop;d===l?(_=v<C&&(S.overflowX==="auto"||S.overflowX==="scroll"||S.overflowX==="visible"),w=y<E&&(S.overflowY==="auto"||S.overflowY==="scroll"||S.overflowY==="visible")):(_=v<C&&(S.overflowX==="auto"||S.overflowX==="scroll"),w=y<E&&(S.overflowY==="auto"||S.overflowY==="scroll"));var B=_&&(Math.abs(p-i)<=s&&T+v<C)-(Math.abs(x-i)<=s&&!!T),L=w&&(Math.abs(b-o)<=s&&R+y<E)-(Math.abs(m-o)<=s&&!!R);if(!ve[u])for(var M=0;M<=u;M++)ve[M]||(ve[M]={});(ve[u].vx!=B||ve[u].vy!=L||ve[u].el!==d)&&(ve[u].el=d,ve[u].vx=B,ve[u].vy=L,clearInterval(ve[u].pid),(B!=0||L!=0)&&(c=!0,ve[u].pid=setInterval((function(){r&&this.layer===0&&gt.active._onTouchMove(El);var $=ve[this.layer].vy?ve[this.layer].vy*a:0,D=ve[this.layer].vx?ve[this.layer].vx*a:0;typeof h=="function"&&h.call(gt.dragged.parentNode[Ne],D,$,e,El,ve[this.layer].el)!=="continue"||Xv(ve[this.layer].el,D,$)}).bind({layer:u}),24))),u++}while(t.bubbleScroll&&f!==l&&(f=Jr(f,!1)));eh=c}},30),ty=function(t){var n=t.originalEvent,r=t.putSortable,i=t.dragEl,o=t.activeSortable,s=t.dispatchSortableEvent,a=t.hideGhostForTarget,l=t.unhideGhostForTarget;if(n){var c=r||o;a();var h=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,u=document.elementFromPoint(h.clientX,h.clientY);l(),c&&!c.el.contains(u)&&(s("spill"),this.onSpill({dragEl:i,putSortable:r}))}};function ef(){}ef.prototype={startIndex:null,dragStart:function(t){var n=t.oldDraggableIndex;this.startIndex=n},onSpill:function(t){var n=t.dragEl,r=t.putSortable;this.sortable.captureAnimationState(),r&&r.captureAnimationState();var i=Fs(this.sortable.el,this.startIndex,this.options);i?this.sortable.el.insertBefore(n,i):this.sortable.el.appendChild(n),this.sortable.animateAll(),r&&r.animateAll()},drop:ty};Mn(ef,{pluginName:"revertOnSpill"});function nf(){}nf.prototype={onSpill:function(t){var n=t.dragEl,r=t.putSortable,i=r||this.sortable;i.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),i.animateAll()},drop:ty};Mn(nf,{pluginName:"removeOnSpill"});var Sn;function T3(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(n){var r=n.dragEl;Sn=r},dragOverValid:function(n){var r=n.completed,i=n.target,o=n.onMove,s=n.activeSortable,a=n.changed,l=n.cancel;if(s.options.swap){var c=this.sortable.el,h=this.options;if(i&&i!==c){var u=Sn;o(i)!==!1?(oe(i,h.swapClass,!0),Sn=i):Sn=null,u&&u!==Sn&&oe(u,h.swapClass,!1)}a(),r(!0),l()}},drop:function(n){var r=n.activeSortable,i=n.putSortable,o=n.dragEl,s=i||this.sortable,a=this.options;Sn&&oe(Sn,a.swapClass,!1),Sn&&(a.swap||i&&i.options.swap)&&o!==Sn&&(s.captureAnimationState(),s!==r&&r.captureAnimationState(),L3(o,Sn),s.animateAll(),s!==r&&r.animateAll())},nulling:function(){Sn=null}},Mn(e,{pluginName:"swap",eventProperties:function(){return{swapItem:Sn}}})}function L3(e,t){var n=e.parentNode,r=t.parentNode,i,o;!n||!r||n.isEqualNode(t)||r.isEqualNode(e)||(i=pe(e),o=pe(t),n.isEqualNode(r)&&i<o&&o++,n.insertBefore(t,n.children[i]),r.insertBefore(e,r.children[o]))}var bt=[],dn=[],ro,Bn,io=!1,Je=!1,hs=!1,Vt,so,Ha;function R3(){function e(t){for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this));t.options.supportPointer?Lt(document,"pointerup",this._deselectMultiDrag):(Lt(document,"mouseup",this._deselectMultiDrag),Lt(document,"touchend",this._deselectMultiDrag)),Lt(document,"keydown",this._checkKeyDown),Lt(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(i,o){var s="";bt.length&&Bn===t?bt.forEach(function(a,l){s+=(l?", ":"")+a.textContent}):s=o.textContent,i.setData("Text",s)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(n){var r=n.dragEl;Vt=r},delayEnded:function(){this.isMultiDrag=~bt.indexOf(Vt)},setupClone:function(n){var r=n.sortable,i=n.cancel;if(this.isMultiDrag){for(var o=0;o<bt.length;o++)dn.push(tf(bt[o])),dn[o].sortableIndex=bt[o].sortableIndex,dn[o].draggable=!1,dn[o].style["will-change"]="",oe(dn[o],this.options.selectedClass,!1),bt[o]===Vt&&oe(dn[o],this.options.chosenClass,!1);r._hideClone(),i()}},clone:function(n){var r=n.sortable,i=n.rootEl,o=n.dispatchSortableEvent,s=n.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||bt.length&&Bn===r&&(Jp(!0,i),o("clone"),s()))},showClone:function(n){var r=n.cloneNowShown,i=n.rootEl,o=n.cancel;this.isMultiDrag&&(Jp(!1,i),dn.forEach(function(s){rt(s,"display","")}),r(),Ha=!1,o())},hideClone:function(n){var r=this;n.sortable;var i=n.cloneNowHidden,o=n.cancel;this.isMultiDrag&&(dn.forEach(function(s){rt(s,"display","none"),r.options.removeCloneOnHide&&s.parentNode&&s.parentNode.removeChild(s)}),i(),Ha=!0,o())},dragStartGlobal:function(n){n.sortable,!this.isMultiDrag&&Bn&&Bn.multiDrag._deselectMultiDrag(),bt.forEach(function(r){r.sortableIndex=pe(r)}),bt=bt.sort(function(r,i){return r.sortableIndex-i.sortableIndex}),hs=!0},dragStarted:function(n){var r=this,i=n.sortable;if(this.isMultiDrag){if(this.options.sort&&(i.captureAnimationState(),this.options.animation)){bt.forEach(function(s){s!==Vt&&rt(s,"position","absolute")});var o=ie(Vt,!1,!0,!0);bt.forEach(function(s){s!==Vt&&Yp(s,o)}),Je=!0,io=!0}i.animateAll(function(){Je=!1,io=!1,r.options.animation&&bt.forEach(function(s){Qc(s)}),r.options.sort&&za()})}},dragOver:function(n){var r=n.target,i=n.completed,o=n.cancel;Je&&~bt.indexOf(r)&&(i(!1),o())},revert:function(n){var r=n.fromSortable,i=n.rootEl,o=n.sortable,s=n.dragRect;bt.length>1&&(bt.forEach(function(a){o.addAnimationState({target:a,rect:Je?ie(a):s}),Qc(a),a.fromRect=s,r.removeAnimationState(a)}),Je=!1,M3(!this.options.removeCloneOnHide,i))},dragOverCompleted:function(n){var r=n.sortable,i=n.isOwner,o=n.insertion,s=n.activeSortable,a=n.parentEl,l=n.putSortable,c=this.options;if(o){if(i&&s._hideClone(),io=!1,c.animation&&bt.length>1&&(Je||!i&&!s.options.sort&&!l)){var h=ie(Vt,!1,!0,!0);bt.forEach(function(f){f!==Vt&&(Yp(f,h),a.appendChild(f))}),Je=!0}if(!i)if(Je||za(),bt.length>1){var u=Ha;s._showClone(r),s.options.animation&&!Ha&&u&&dn.forEach(function(f){s.addAnimationState({target:f,rect:so}),f.fromRect=so,f.thisAnimationDuration=null})}else s._showClone(r)}},dragOverAnimationCapture:function(n){var r=n.dragRect,i=n.isOwner,o=n.activeSortable;if(bt.forEach(function(a){a.thisAnimationDuration=null}),o.options.animation&&!i&&o.multiDrag.isMultiDrag){so=Mn({},r);var s=Bi(Vt,!0);so.top-=s.f,so.left-=s.e}},dragOverAnimationComplete:function(){Je&&(Je=!1,za())},drop:function(n){var r=n.originalEvent,i=n.rootEl,o=n.parentEl,s=n.sortable,a=n.dispatchSortableEvent,l=n.oldIndex,c=n.putSortable,h=c||this.sortable;if(r){var u=this.options,f=o.children;if(!hs)if(u.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),oe(Vt,u.selectedClass,!~bt.indexOf(Vt)),~bt.indexOf(Vt))bt.splice(bt.indexOf(Vt),1),ro=null,ho({sortable:s,rootEl:i,name:"deselect",targetEl:Vt,originalEvt:r});else{if(bt.push(Vt),ho({sortable:s,rootEl:i,name:"select",targetEl:Vt,originalEvt:r}),r.shiftKey&&ro&&s.el.contains(ro)){var d=pe(ro),g=pe(Vt);if(~d&&~g&&d!==g){var m,b;for(g>d?(b=d,m=g):(b=g,m=d+1);b<m;b++)~bt.indexOf(f[b])||(oe(f[b],u.selectedClass,!0),bt.push(f[b]),ho({sortable:s,rootEl:i,name:"select",targetEl:f[b],originalEvt:r}))}}else ro=Vt;Bn=h}if(hs&&this.isMultiDrag){if(Je=!1,(o[Ne].options.sort||o!==i)&&bt.length>1){var x=ie(Vt),p=pe(Vt,":not(."+this.options.selectedClass+")");if(!io&&u.animation&&(Vt.thisAnimationDuration=null),h.captureAnimationState(),!io&&(u.animation&&(Vt.fromRect=x,bt.forEach(function(y){if(y.thisAnimationDuration=null,y!==Vt){var _=Je?ie(y):x;y.fromRect=_,h.addAnimationState({target:y,rect:_})}})),za(),bt.forEach(function(y){f[p]?o.insertBefore(y,f[p]):o.appendChild(y),p++}),l===pe(Vt))){var v=!1;bt.forEach(function(y){if(y.sortableIndex!==pe(y)){v=!0;return}}),v&&a("update")}bt.forEach(function(y){Qc(y)}),h.animateAll()}Bn=h}(i===o||c&&c.lastPutMode!=="clone")&&dn.forEach(function(y){y.parentNode&&y.parentNode.removeChild(y)})}},nullingGlobal:function(){this.isMultiDrag=hs=!1,dn.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Ct(document,"pointerup",this._deselectMultiDrag),Ct(document,"mouseup",this._deselectMultiDrag),Ct(document,"touchend",this._deselectMultiDrag),Ct(document,"keydown",this._checkKeyDown),Ct(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(n){if(!(typeof hs<"u"&&hs)&&Bn===this.sortable&&!(n&&Nn(n.target,this.options.draggable,this.sortable.el,!1))&&!(n&&n.button!==0))for(;bt.length;){var r=bt[0];oe(r,this.options.selectedClass,!1),bt.shift(),ho({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:r,originalEvt:n})}},_checkKeyDown:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(n){n.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Mn(e,{pluginName:"multiDrag",utils:{select:function(n){var r=n.parentNode[Ne];!r||!r.options.multiDrag||~bt.indexOf(n)||(Bn&&Bn!==r&&(Bn.multiDrag._deselectMultiDrag(),Bn=r),oe(n,r.options.selectedClass,!0),bt.push(n))},deselect:function(n){var r=n.parentNode[Ne],i=bt.indexOf(n);!r||!r.options.multiDrag||!~i||(oe(n,r.options.selectedClass,!1),bt.splice(i,1))}},eventProperties:function(){var n=this,r=[],i=[];return bt.forEach(function(o){r.push({multiDragElement:o,index:o.sortableIndex});var s;Je&&o!==Vt?s=-1:Je?s=pe(o,":not(."+n.options.selectedClass+")"):s=pe(o),i.push({multiDragElement:o,index:s})}),{items:t3(bt),clones:[].concat(dn),oldIndicies:r,newIndicies:i}},optionListeners:{multiDragKey:function(n){return n=n.toLowerCase(),n==="ctrl"?n="Control":n.length>1&&(n=n.charAt(0).toUpperCase()+n.substr(1)),n}}})}function M3(e,t){bt.forEach(function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)})}function Jp(e,t){dn.forEach(function(n,r){var i=t.children[n.sortableIndex+(e?Number(r):0)];i?t.insertBefore(n,i):t.appendChild(n)})}function za(){bt.forEach(function(e){e!==Vt&&e.parentNode&&e.parentNode.removeChild(e)})}gt.mount(new P3);gt.mount(nf,ef);const I3=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:R3,Sortable:gt,Swap:T3,default:gt},Symbol.toStringTag,{value:"Module"})),A3=oa(I3);(function(e,t){(function(r,i){e.exports=i(ZP,A3)})(typeof self<"u"?self:Av,function(n,r){return function(i){var o={};function s(a){if(o[a])return o[a].exports;var l=o[a]={i:a,l:!1,exports:{}};return i[a].call(l.exports,l,l.exports,s),l.l=!0,l.exports}return s.m=i,s.c=o,s.d=function(a,l,c){s.o(a,l)||Object.defineProperty(a,l,{enumerable:!0,get:c})},s.r=function(a){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})},s.t=function(a,l){if(l&1&&(a=s(a)),l&8||l&4&&typeof a=="object"&&a&&a.__esModule)return a;var c=Object.create(null);if(s.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:a}),l&2&&typeof a!="string")for(var h in a)s.d(c,h,(function(u){return a[u]}).bind(null,h));return c},s.n=function(a){var l=a&&a.__esModule?function(){return a.default}:function(){return a};return s.d(l,"a",l),l},s.o=function(a,l){return Object.prototype.hasOwnProperty.call(a,l)},s.p="",s(s.s="fb15")}({"00ee":function(i,o,s){var a=s("b622"),l=a("toStringTag"),c={};c[l]="z",i.exports=String(c)==="[object z]"},"0366":function(i,o,s){var a=s("1c0b");i.exports=function(l,c,h){if(a(l),c===void 0)return l;switch(h){case 0:return function(){return l.call(c)};case 1:return function(u){return l.call(c,u)};case 2:return function(u,f){return l.call(c,u,f)};case 3:return function(u,f,d){return l.call(c,u,f,d)}}return function(){return l.apply(c,arguments)}}},"057f":function(i,o,s){var a=s("fc6a"),l=s("241c").f,c={}.toString,h=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],u=function(f){try{return l(f)}catch{return h.slice()}};i.exports.f=function(d){return h&&c.call(d)=="[object Window]"?u(d):l(a(d))}},"06cf":function(i,o,s){var a=s("83ab"),l=s("d1e7"),c=s("5c6c"),h=s("fc6a"),u=s("c04e"),f=s("5135"),d=s("0cfb"),g=Object.getOwnPropertyDescriptor;o.f=a?g:function(b,x){if(b=h(b),x=u(x,!0),d)try{return g(b,x)}catch{}if(f(b,x))return c(!l.f.call(b,x),b[x])}},"0cfb":function(i,o,s){var a=s("83ab"),l=s("d039"),c=s("cc12");i.exports=!a&&!l(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(i,o,s){var a=s("23e7"),l=s("d58f").left,c=s("a640"),h=s("ae40"),u=c("reduce"),f=h("reduce",{1:0});a({target:"Array",proto:!0,forced:!u||!f},{reduce:function(g){return l(this,g,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(i,o,s){var a=s("c6b6"),l=s("9263");i.exports=function(c,h){var u=c.exec;if(typeof u=="function"){var f=u.call(c,h);if(typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(a(c)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return l.call(c,h)}},"159b":function(i,o,s){var a=s("da84"),l=s("fdbc"),c=s("17c2"),h=s("9112");for(var u in l){var f=a[u],d=f&&f.prototype;if(d&&d.forEach!==c)try{h(d,"forEach",c)}catch{d.forEach=c}}},"17c2":function(i,o,s){var a=s("b727").forEach,l=s("a640"),c=s("ae40"),h=l("forEach"),u=c("forEach");i.exports=!h||!u?function(d){return a(this,d,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(i,o,s){var a=s("d066");i.exports=a("document","documentElement")},"1c0b":function(i,o){i.exports=function(s){if(typeof s!="function")throw TypeError(String(s)+" is not a function");return s}},"1c7e":function(i,o,s){var a=s("b622"),l=a("iterator"),c=!1;try{var h=0,u={next:function(){return{done:!!h++}},return:function(){c=!0}};u[l]=function(){return this},Array.from(u,function(){throw 2})}catch{}i.exports=function(f,d){if(!d&&!c)return!1;var g=!1;try{var m={};m[l]=function(){return{next:function(){return{done:g=!0}}}},f(m)}catch{}return g}},"1d80":function(i,o){i.exports=function(s){if(s==null)throw TypeError("Can't call method on "+s);return s}},"1dde":function(i,o,s){var a=s("d039"),l=s("b622"),c=s("2d00"),h=l("species");i.exports=function(u){return c>=51||!a(function(){var f=[],d=f.constructor={};return d[h]=function(){return{foo:1}},f[u](Boolean).foo!==1})}},"23cb":function(i,o,s){var a=s("a691"),l=Math.max,c=Math.min;i.exports=function(h,u){var f=a(h);return f<0?l(f+u,0):c(f,u)}},"23e7":function(i,o,s){var a=s("da84"),l=s("06cf").f,c=s("9112"),h=s("6eeb"),u=s("ce4e"),f=s("e893"),d=s("94ca");i.exports=function(g,m){var b=g.target,x=g.global,p=g.stat,v,y,_,w,C,E;if(x?y=a:p?y=a[b]||u(b,{}):y=(a[b]||{}).prototype,y)for(_ in m){if(C=m[_],g.noTargetGet?(E=l(y,_),w=E&&E.value):w=y[_],v=d(x?_:b+(p?".":"#")+_,g.forced),!v&&w!==void 0){if(typeof C==typeof w)continue;f(C,w)}(g.sham||w&&w.sham)&&c(C,"sham",!0),h(y,_,C,g)}}},"241c":function(i,o,s){var a=s("ca84"),l=s("7839"),c=l.concat("length","prototype");o.f=Object.getOwnPropertyNames||function(u){return a(u,c)}},"25f0":function(i,o,s){var a=s("6eeb"),l=s("825a"),c=s("d039"),h=s("ad6d"),u="toString",f=RegExp.prototype,d=f[u],g=c(function(){return d.call({source:"a",flags:"b"})!="/a/b"}),m=d.name!=u;(g||m)&&a(RegExp.prototype,u,function(){var x=l(this),p=String(x.source),v=x.flags,y=String(v===void 0&&x instanceof RegExp&&!("flags"in f)?h.call(x):v);return"/"+p+"/"+y},{unsafe:!0})},"2ca0":function(i,o,s){var a=s("23e7"),l=s("06cf").f,c=s("50c4"),h=s("5a34"),u=s("1d80"),f=s("ab13"),d=s("c430"),g="".startsWith,m=Math.min,b=f("startsWith"),x=!d&&!b&&!!function(){var p=l(String.prototype,"startsWith");return p&&!p.writable}();a({target:"String",proto:!0,forced:!x&&!b},{startsWith:function(v){var y=String(u(this));h(v);var _=c(m(arguments.length>1?arguments[1]:void 0,y.length)),w=String(v);return g?g.call(y,w,_):y.slice(_,_+w.length)===w}})},"2d00":function(i,o,s){var a=s("da84"),l=s("342f"),c=a.process,h=c&&c.versions,u=h&&h.v8,f,d;u?(f=u.split("."),d=f[0]+f[1]):l&&(f=l.match(/Edge\/(\d+)/),(!f||f[1]>=74)&&(f=l.match(/Chrome\/(\d+)/),f&&(d=f[1]))),i.exports=d&&+d},"342f":function(i,o,s){var a=s("d066");i.exports=a("navigator","userAgent")||""},"35a1":function(i,o,s){var a=s("f5df"),l=s("3f8c"),c=s("b622"),h=c("iterator");i.exports=function(u){if(u!=null)return u[h]||u["@@iterator"]||l[a(u)]}},"37e8":function(i,o,s){var a=s("83ab"),l=s("9bf2"),c=s("825a"),h=s("df75");i.exports=a?Object.defineProperties:function(f,d){c(f);for(var g=h(d),m=g.length,b=0,x;m>b;)l.f(f,x=g[b++],d[x]);return f}},"3bbe":function(i,o,s){var a=s("861d");i.exports=function(l){if(!a(l)&&l!==null)throw TypeError("Can't set "+String(l)+" as a prototype");return l}},"3ca3":function(i,o,s){var a=s("6547").charAt,l=s("69f3"),c=s("7dd0"),h="String Iterator",u=l.set,f=l.getterFor(h);c(String,"String",function(d){u(this,{type:h,string:String(d),index:0})},function(){var g=f(this),m=g.string,b=g.index,x;return b>=m.length?{value:void 0,done:!0}:(x=a(m,b),g.index+=x.length,{value:x,done:!1})})},"3f8c":function(i,o){i.exports={}},4160:function(i,o,s){var a=s("23e7"),l=s("17c2");a({target:"Array",proto:!0,forced:[].forEach!=l},{forEach:l})},"428f":function(i,o,s){var a=s("da84");i.exports=a},"44ad":function(i,o,s){var a=s("d039"),l=s("c6b6"),c="".split;i.exports=a(function(){return!Object("z").propertyIsEnumerable(0)})?function(h){return l(h)=="String"?c.call(h,""):Object(h)}:Object},"44d2":function(i,o,s){var a=s("b622"),l=s("7c73"),c=s("9bf2"),h=a("unscopables"),u=Array.prototype;u[h]==null&&c.f(u,h,{configurable:!0,value:l(null)}),i.exports=function(f){u[h][f]=!0}},"44e7":function(i,o,s){var a=s("861d"),l=s("c6b6"),c=s("b622"),h=c("match");i.exports=function(u){var f;return a(u)&&((f=u[h])!==void 0?!!f:l(u)=="RegExp")}},4930:function(i,o,s){var a=s("d039");i.exports=!!Object.getOwnPropertySymbols&&!a(function(){return!String(Symbol())})},"4d64":function(i,o,s){var a=s("fc6a"),l=s("50c4"),c=s("23cb"),h=function(u){return function(f,d,g){var m=a(f),b=l(m.length),x=c(g,b),p;if(u&&d!=d){for(;b>x;)if(p=m[x++],p!=p)return!0}else for(;b>x;x++)if((u||x in m)&&m[x]===d)return u||x||0;return!u&&-1}};i.exports={includes:h(!0),indexOf:h(!1)}},"4de4":function(i,o,s){var a=s("23e7"),l=s("b727").filter,c=s("1dde"),h=s("ae40"),u=c("filter"),f=h("filter");a({target:"Array",proto:!0,forced:!u||!f},{filter:function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(i,o,s){var a=s("0366"),l=s("7b0b"),c=s("9bdd"),h=s("e95a"),u=s("50c4"),f=s("8418"),d=s("35a1");i.exports=function(m){var b=l(m),x=typeof this=="function"?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,y=v!==void 0,_=d(b),w=0,C,E,S,T,R,B;if(y&&(v=a(v,p>2?arguments[2]:void 0,2)),_!=null&&!(x==Array&&h(_)))for(T=_.call(b),R=T.next,E=new x;!(S=R.call(T)).done;w++)B=y?c(T,v,[S.value,w],!0):S.value,f(E,w,B);else for(C=u(b.length),E=new x(C);C>w;w++)B=y?v(b[w],w):b[w],f(E,w,B);return E.length=w,E}},"4fad":function(i,o,s){var a=s("23e7"),l=s("6f53").entries;a({target:"Object",stat:!0},{entries:function(h){return l(h)}})},"50c4":function(i,o,s){var a=s("a691"),l=Math.min;i.exports=function(c){return c>0?l(a(c),9007199254740991):0}},5135:function(i,o){var s={}.hasOwnProperty;i.exports=function(a,l){return s.call(a,l)}},5319:function(i,o,s){var a=s("d784"),l=s("825a"),c=s("7b0b"),h=s("50c4"),u=s("a691"),f=s("1d80"),d=s("8aa5"),g=s("14c3"),m=Math.max,b=Math.min,x=Math.floor,p=/\$([$&'`]|\d\d?|<[^>]*>)/g,v=/\$([$&'`]|\d\d?)/g,y=function(_){return _===void 0?_:String(_)};a("replace",2,function(_,w,C,E){var S=E.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,T=E.REPLACE_KEEPS_$0,R=S?"$":"$0";return[function(M,$){var D=f(this),j=M==null?void 0:M[_];return j!==void 0?j.call(M,D,$):w.call(String(D),M,$)},function(L,M){if(!S&&T||typeof M=="string"&&M.indexOf(R)===-1){var $=C(w,L,this,M);if($.done)return $.value}var D=l(L),j=String(this),X=typeof M=="function";X||(M=String(M));var Ot=D.global;if(Ot){var Dt=D.unicode;D.lastIndex=0}for(var Tt=[];;){var xt=g(D,j);if(xt===null||(Tt.push(xt),!Ot))break;var ae=String(xt[0]);ae===""&&(D.lastIndex=d(j,h(D.lastIndex),Dt))}for(var me="",le=0,It=0;It<Tt.length;It++){xt=Tt[It];for(var Wt=String(xt[0]),Te=m(b(u(xt.index),j.length),0),ce=[],un=1;un<xt.length;un++)ce.push(y(xt[un]));var In=xt.groups;if(X){var O=[Wt].concat(ce,Te,j);In!==void 0&&O.push(In);var P=String(M.apply(void 0,O))}else P=B(Wt,j,Te,ce,In,M);Te>=le&&(me+=j.slice(le,Te)+P,le=Te+Wt.length)}return me+j.slice(le)}];function B(L,M,$,D,j,X){var Ot=$+L.length,Dt=D.length,Tt=v;return j!==void 0&&(j=c(j),Tt=p),w.call(X,Tt,function(xt,ae){var me;switch(ae.charAt(0)){case"$":return"$";case"&":return L;case"`":return M.slice(0,$);case"'":return M.slice(Ot);case"<":me=j[ae.slice(1,-1)];break;default:var le=+ae;if(le===0)return xt;if(le>Dt){var It=x(le/10);return It===0?xt:It<=Dt?D[It-1]===void 0?ae.charAt(1):D[It-1]+ae.charAt(1):xt}me=D[le-1]}return me===void 0?"":me})}})},5692:function(i,o,s){var a=s("c430"),l=s("c6cd");(i.exports=function(c,h){return l[c]||(l[c]=h!==void 0?h:{})})("versions",[]).push({version:"3.6.5",mode:a?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(i,o,s){var a=s("d066"),l=s("241c"),c=s("7418"),h=s("825a");i.exports=a("Reflect","ownKeys")||function(f){var d=l.f(h(f)),g=c.f;return g?d.concat(g(f)):d}},"5a34":function(i,o,s){var a=s("44e7");i.exports=function(l){if(a(l))throw TypeError("The method doesn't accept regular expressions");return l}},"5c6c":function(i,o){i.exports=function(s,a){return{enumerable:!(s&1),configurable:!(s&2),writable:!(s&4),value:a}}},"5db7":function(i,o,s){var a=s("23e7"),l=s("a2bf"),c=s("7b0b"),h=s("50c4"),u=s("1c0b"),f=s("65f0");a({target:"Array",proto:!0},{flatMap:function(g){var m=c(this),b=h(m.length),x;return u(g),x=f(m,0),x.length=l(x,m,m,b,0,1,g,arguments.length>1?arguments[1]:void 0),x}})},6547:function(i,o,s){var a=s("a691"),l=s("1d80"),c=function(h){return function(u,f){var d=String(l(u)),g=a(f),m=d.length,b,x;return g<0||g>=m?h?"":void 0:(b=d.charCodeAt(g),b<55296||b>56319||g+1===m||(x=d.charCodeAt(g+1))<56320||x>57343?h?d.charAt(g):b:h?d.slice(g,g+2):(b-55296<<10)+(x-56320)+65536)}};i.exports={codeAt:c(!1),charAt:c(!0)}},"65f0":function(i,o,s){var a=s("861d"),l=s("e8b5"),c=s("b622"),h=c("species");i.exports=function(u,f){var d;return l(u)&&(d=u.constructor,typeof d=="function"&&(d===Array||l(d.prototype))?d=void 0:a(d)&&(d=d[h],d===null&&(d=void 0))),new(d===void 0?Array:d)(f===0?0:f)}},"69f3":function(i,o,s){var a=s("7f9a"),l=s("da84"),c=s("861d"),h=s("9112"),u=s("5135"),f=s("f772"),d=s("d012"),g=l.WeakMap,m,b,x,p=function(S){return x(S)?b(S):m(S,{})},v=function(S){return function(T){var R;if(!c(T)||(R=b(T)).type!==S)throw TypeError("Incompatible receiver, "+S+" required");return R}};if(a){var y=new g,_=y.get,w=y.has,C=y.set;m=function(S,T){return C.call(y,S,T),T},b=function(S){return _.call(y,S)||{}},x=function(S){return w.call(y,S)}}else{var E=f("state");d[E]=!0,m=function(S,T){return h(S,E,T),T},b=function(S){return u(S,E)?S[E]:{}},x=function(S){return u(S,E)}}i.exports={set:m,get:b,has:x,enforce:p,getterFor:v}},"6eeb":function(i,o,s){var a=s("da84"),l=s("9112"),c=s("5135"),h=s("ce4e"),u=s("8925"),f=s("69f3"),d=f.get,g=f.enforce,m=String(String).split("String");(i.exports=function(b,x,p,v){var y=v?!!v.unsafe:!1,_=v?!!v.enumerable:!1,w=v?!!v.noTargetGet:!1;if(typeof p=="function"&&(typeof x=="string"&&!c(p,"name")&&l(p,"name",x),g(p).source=m.join(typeof x=="string"?x:"")),b===a){_?b[x]=p:h(x,p);return}else y?!w&&b[x]&&(_=!0):delete b[x];_?b[x]=p:l(b,x,p)})(Function.prototype,"toString",function(){return typeof this=="function"&&d(this).source||u(this)})},"6f53":function(i,o,s){var a=s("83ab"),l=s("df75"),c=s("fc6a"),h=s("d1e7").f,u=function(f){return function(d){for(var g=c(d),m=l(g),b=m.length,x=0,p=[],v;b>x;)v=m[x++],(!a||h.call(g,v))&&p.push(f?[v,g[v]]:g[v]);return p}};i.exports={entries:u(!0),values:u(!1)}},"73d9":function(i,o,s){var a=s("44d2");a("flatMap")},7418:function(i,o){o.f=Object.getOwnPropertySymbols},"746f":function(i,o,s){var a=s("428f"),l=s("5135"),c=s("e538"),h=s("9bf2").f;i.exports=function(u){var f=a.Symbol||(a.Symbol={});l(f,u)||h(f,u,{value:c.f(u)})}},7839:function(i,o){i.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(i,o,s){var a=s("1d80");i.exports=function(l){return Object(a(l))}},"7c73":function(i,o,s){var a=s("825a"),l=s("37e8"),c=s("7839"),h=s("d012"),u=s("1be4"),f=s("cc12"),d=s("f772"),g=">",m="<",b="prototype",x="script",p=d("IE_PROTO"),v=function(){},y=function(S){return m+x+g+S+m+"/"+x+g},_=function(S){S.write(y("")),S.close();var T=S.parentWindow.Object;return S=null,T},w=function(){var S=f("iframe"),T="java"+x+":",R;return S.style.display="none",u.appendChild(S),S.src=String(T),R=S.contentWindow.document,R.open(),R.write(y("document.F=Object")),R.close(),R.F},C,E=function(){try{C=document.domain&&new ActiveXObject("htmlfile")}catch{}E=C?_(C):w();for(var S=c.length;S--;)delete E[b][c[S]];return E()};h[p]=!0,i.exports=Object.create||function(T,R){var B;return T!==null?(v[b]=a(T),B=new v,v[b]=null,B[p]=T):B=E(),R===void 0?B:l(B,R)}},"7dd0":function(i,o,s){var a=s("23e7"),l=s("9ed3"),c=s("e163"),h=s("d2bb"),u=s("d44e"),f=s("9112"),d=s("6eeb"),g=s("b622"),m=s("c430"),b=s("3f8c"),x=s("ae93"),p=x.IteratorPrototype,v=x.BUGGY_SAFARI_ITERATORS,y=g("iterator"),_="keys",w="values",C="entries",E=function(){return this};i.exports=function(S,T,R,B,L,M,$){l(R,T,B);var D=function(It){if(It===L&&Tt)return Tt;if(!v&&It in Ot)return Ot[It];switch(It){case _:return function(){return new R(this,It)};case w:return function(){return new R(this,It)};case C:return function(){return new R(this,It)}}return function(){return new R(this)}},j=T+" Iterator",X=!1,Ot=S.prototype,Dt=Ot[y]||Ot["@@iterator"]||L&&Ot[L],Tt=!v&&Dt||D(L),xt=T=="Array"&&Ot.entries||Dt,ae,me,le;if(xt&&(ae=c(xt.call(new S)),p!==Object.prototype&&ae.next&&(!m&&c(ae)!==p&&(h?h(ae,p):typeof ae[y]!="function"&&f(ae,y,E)),u(ae,j,!0,!0),m&&(b[j]=E))),L==w&&Dt&&Dt.name!==w&&(X=!0,Tt=function(){return Dt.call(this)}),(!m||$)&&Ot[y]!==Tt&&f(Ot,y,Tt),b[T]=Tt,L)if(me={values:D(w),keys:M?Tt:D(_),entries:D(C)},$)for(le in me)(v||X||!(le in Ot))&&d(Ot,le,me[le]);else a({target:T,proto:!0,forced:v||X},me);return me}},"7f9a":function(i,o,s){var a=s("da84"),l=s("8925"),c=a.WeakMap;i.exports=typeof c=="function"&&/native code/.test(l(c))},"825a":function(i,o,s){var a=s("861d");i.exports=function(l){if(!a(l))throw TypeError(String(l)+" is not an object");return l}},"83ab":function(i,o,s){var a=s("d039");i.exports=!a(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(i,o,s){var a=s("c04e"),l=s("9bf2"),c=s("5c6c");i.exports=function(h,u,f){var d=a(u);d in h?l.f(h,d,c(0,f)):h[d]=f}},"861d":function(i,o){i.exports=function(s){return typeof s=="object"?s!==null:typeof s=="function"}},8875:function(i,o,s){var a,l,c;(function(h,u){l=[],a=u,c=typeof a=="function"?a.apply(o,l):a,c!==void 0&&(i.exports=c)})(typeof self<"u"?self:this,function(){function h(){var u=Object.getOwnPropertyDescriptor(document,"currentScript");if(!u&&"currentScript"in document&&document.currentScript||u&&u.get!==h&&document.currentScript)return document.currentScript;try{throw new Error}catch(C){var f=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,d=/@([^@]*):(\d+):(\d+)\s*$/ig,g=f.exec(C.stack)||d.exec(C.stack),m=g&&g[1]||!1,b=g&&g[2]||!1,x=document.location.href.replace(document.location.hash,""),p,v,y,_=document.getElementsByTagName("script");m===x&&(p=document.documentElement.outerHTML,v=new RegExp("(?:[^\\n]+?\\n){0,"+(b-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),y=p.replace(v,"$1").trim());for(var w=0;w<_.length;w++)if(_[w].readyState==="interactive"||_[w].src===m||m===x&&_[w].innerHTML&&_[w].innerHTML.trim()===y)return _[w];return null}}return h})},8925:function(i,o,s){var a=s("c6cd"),l=Function.toString;typeof a.inspectSource!="function"&&(a.inspectSource=function(c){return l.call(c)}),i.exports=a.inspectSource},"8aa5":function(i,o,s){var a=s("6547").charAt;i.exports=function(l,c,h){return c+(h?a(l,c).length:1)}},"8bbf":function(i,o){i.exports=n},"90e3":function(i,o){var s=0,a=Math.random();i.exports=function(l){return"Symbol("+String(l===void 0?"":l)+")_"+(++s+a).toString(36)}},9112:function(i,o,s){var a=s("83ab"),l=s("9bf2"),c=s("5c6c");i.exports=a?function(h,u,f){return l.f(h,u,c(1,f))}:function(h,u,f){return h[u]=f,h}},9263:function(i,o,s){var a=s("ad6d"),l=s("9f7f"),c=RegExp.prototype.exec,h=String.prototype.replace,u=c,f=function(){var b=/a/,x=/b*/g;return c.call(b,"a"),c.call(x,"a"),b.lastIndex!==0||x.lastIndex!==0}(),d=l.UNSUPPORTED_Y||l.BROKEN_CARET,g=/()??/.exec("")[1]!==void 0,m=f||g||d;m&&(u=function(x){var p=this,v,y,_,w,C=d&&p.sticky,E=a.call(p),S=p.source,T=0,R=x;return C&&(E=E.replace("y",""),E.indexOf("g")===-1&&(E+="g"),R=String(x).slice(p.lastIndex),p.lastIndex>0&&(!p.multiline||p.multiline&&x[p.lastIndex-1]!==`
`)&&(S="(?: "+S+")",R=" "+R,T++),y=new RegExp("^(?:"+S+")",E)),g&&(y=new RegExp("^"+S+"$(?!\\s)",E)),f&&(v=p.lastIndex),_=c.call(C?y:p,R),C?_?(_.input=_.input.slice(T),_[0]=_[0].slice(T),_.index=p.lastIndex,p.lastIndex+=_[0].length):p.lastIndex=0:f&&_&&(p.lastIndex=p.global?_.index+_[0].length:v),g&&_&&_.length>1&&h.call(_[0],y,function(){for(w=1;w<arguments.length-2;w++)arguments[w]===void 0&&(_[w]=void 0)}),_}),i.exports=u},"94ca":function(i,o,s){var a=s("d039"),l=/#|\.prototype\./,c=function(g,m){var b=u[h(g)];return b==d?!0:b==f?!1:typeof m=="function"?a(m):!!m},h=c.normalize=function(g){return String(g).replace(l,".").toLowerCase()},u=c.data={},f=c.NATIVE="N",d=c.POLYFILL="P";i.exports=c},"99af":function(i,o,s){var a=s("23e7"),l=s("d039"),c=s("e8b5"),h=s("861d"),u=s("7b0b"),f=s("50c4"),d=s("8418"),g=s("65f0"),m=s("1dde"),b=s("b622"),x=s("2d00"),p=b("isConcatSpreadable"),v=9007199254740991,y="Maximum allowed index exceeded",_=x>=51||!l(function(){var S=[];return S[p]=!1,S.concat()[0]!==S}),w=m("concat"),C=function(S){if(!h(S))return!1;var T=S[p];return T!==void 0?!!T:c(S)},E=!_||!w;a({target:"Array",proto:!0,forced:E},{concat:function(T){var R=u(this),B=g(R,0),L=0,M,$,D,j,X;for(M=-1,D=arguments.length;M<D;M++)if(X=M===-1?R:arguments[M],C(X)){if(j=f(X.length),L+j>v)throw TypeError(y);for($=0;$<j;$++,L++)$ in X&&d(B,L,X[$])}else{if(L>=v)throw TypeError(y);d(B,L++,X)}return B.length=L,B}})},"9bdd":function(i,o,s){var a=s("825a");i.exports=function(l,c,h,u){try{return u?c(a(h)[0],h[1]):c(h)}catch(d){var f=l.return;throw f!==void 0&&a(f.call(l)),d}}},"9bf2":function(i,o,s){var a=s("83ab"),l=s("0cfb"),c=s("825a"),h=s("c04e"),u=Object.defineProperty;o.f=a?u:function(d,g,m){if(c(d),g=h(g,!0),c(m),l)try{return u(d,g,m)}catch{}if("get"in m||"set"in m)throw TypeError("Accessors not supported");return"value"in m&&(d[g]=m.value),d}},"9ed3":function(i,o,s){var a=s("ae93").IteratorPrototype,l=s("7c73"),c=s("5c6c"),h=s("d44e"),u=s("3f8c"),f=function(){return this};i.exports=function(d,g,m){var b=g+" Iterator";return d.prototype=l(a,{next:c(1,m)}),h(d,b,!1,!0),u[b]=f,d}},"9f7f":function(i,o,s){var a=s("d039");function l(c,h){return RegExp(c,h)}o.UNSUPPORTED_Y=a(function(){var c=l("a","y");return c.lastIndex=2,c.exec("abcd")!=null}),o.BROKEN_CARET=a(function(){var c=l("^r","gy");return c.lastIndex=2,c.exec("str")!=null})},a2bf:function(i,o,s){var a=s("e8b5"),l=s("50c4"),c=s("0366"),h=function(u,f,d,g,m,b,x,p){for(var v=m,y=0,_=x?c(x,p,3):!1,w;y<g;){if(y in d){if(w=_?_(d[y],y,f):d[y],b>0&&a(w))v=h(u,f,w,l(w.length),v,b-1)-1;else{if(v>=9007199254740991)throw TypeError("Exceed the acceptable array length");u[v]=w}v++}y++}return v};i.exports=h},a352:function(i,o){i.exports=r},a434:function(i,o,s){var a=s("23e7"),l=s("23cb"),c=s("a691"),h=s("50c4"),u=s("7b0b"),f=s("65f0"),d=s("8418"),g=s("1dde"),m=s("ae40"),b=g("splice"),x=m("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,v=Math.min,y=9007199254740991,_="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!b||!x},{splice:function(C,E){var S=u(this),T=h(S.length),R=l(C,T),B=arguments.length,L,M,$,D,j,X;if(B===0?L=M=0:B===1?(L=0,M=T-R):(L=B-2,M=v(p(c(E),0),T-R)),T+L-M>y)throw TypeError(_);for($=f(S,M),D=0;D<M;D++)j=R+D,j in S&&d($,D,S[j]);if($.length=M,L<M){for(D=R;D<T-M;D++)j=D+M,X=D+L,j in S?S[X]=S[j]:delete S[X];for(D=T;D>T-M+L;D--)delete S[D-1]}else if(L>M)for(D=T-M;D>R;D--)j=D+M-1,X=D+L-1,j in S?S[X]=S[j]:delete S[X];for(D=0;D<L;D++)S[D+R]=arguments[D+2];return S.length=T-M+L,$}})},a4d3:function(i,o,s){var a=s("23e7"),l=s("da84"),c=s("d066"),h=s("c430"),u=s("83ab"),f=s("4930"),d=s("fdbf"),g=s("d039"),m=s("5135"),b=s("e8b5"),x=s("861d"),p=s("825a"),v=s("7b0b"),y=s("fc6a"),_=s("c04e"),w=s("5c6c"),C=s("7c73"),E=s("df75"),S=s("241c"),T=s("057f"),R=s("7418"),B=s("06cf"),L=s("9bf2"),M=s("d1e7"),$=s("9112"),D=s("6eeb"),j=s("5692"),X=s("f772"),Ot=s("d012"),Dt=s("90e3"),Tt=s("b622"),xt=s("e538"),ae=s("746f"),me=s("d44e"),le=s("69f3"),It=s("b727").forEach,Wt=X("hidden"),Te="Symbol",ce="prototype",un=Tt("toPrimitive"),In=le.set,O=le.getterFor(Te),P=Object[ce],N=l.Symbol,U=c("JSON","stringify"),W=B.f,G=L.f,Z=T.f,K=M.f,Y=j("symbols"),H=j("op-symbols"),st=j("string-to-symbol-registry"),tt=j("symbol-to-string-registry"),ot=j("wks"),ft=l.QObject,wt=!ft||!ft[ce]||!ft[ce].findChild,Ft=u&&g(function(){return C(G({},"a",{get:function(){return G(this,"a",{value:7}).a}})).a!=7})?function(yt,at,pt){var Rt=W(P,at);Rt&&delete P[at],G(yt,at,pt),Rt&&yt!==P&&G(P,at,Rt)}:G,At=function(yt,at){var pt=Y[yt]=C(N[ce]);return In(pt,{type:Te,tag:yt,description:at}),u||(pt.description=at),pt},I=d?function(yt){return typeof yt=="symbol"}:function(yt){return Object(yt)instanceof N},A=function(at,pt,Rt){at===P&&A(H,pt,Rt),p(at);var Bt=_(pt,!0);return p(Rt),m(Y,Bt)?(Rt.enumerable?(m(at,Wt)&&at[Wt][Bt]&&(at[Wt][Bt]=!1),Rt=C(Rt,{enumerable:w(0,!1)})):(m(at,Wt)||G(at,Wt,w(1,{})),at[Wt][Bt]=!0),Ft(at,Bt,Rt)):G(at,Bt,Rt)},k=function(at,pt){p(at);var Rt=y(pt),Bt=E(Rt).concat(Et(Rt));return It(Bt,function(Ke){(!u||J.call(Rt,Ke))&&A(at,Ke,Rt[Ke])}),at},z=function(at,pt){return pt===void 0?C(at):k(C(at),pt)},J=function(at){var pt=_(at,!0),Rt=K.call(this,pt);return this===P&&m(Y,pt)&&!m(H,pt)?!1:Rt||!m(this,pt)||!m(Y,pt)||m(this,Wt)&&this[Wt][pt]?Rt:!0},dt=function(at,pt){var Rt=y(at),Bt=_(pt,!0);if(!(Rt===P&&m(Y,Bt)&&!m(H,Bt))){var Ke=W(Rt,Bt);return Ke&&m(Y,Bt)&&!(m(Rt,Wt)&&Rt[Wt][Bt])&&(Ke.enumerable=!0),Ke}},ct=function(at){var pt=Z(y(at)),Rt=[];return It(pt,function(Bt){!m(Y,Bt)&&!m(Ot,Bt)&&Rt.push(Bt)}),Rt},Et=function(at){var pt=at===P,Rt=Z(pt?H:y(at)),Bt=[];return It(Rt,function(Ke){m(Y,Ke)&&(!pt||m(P,Ke))&&Bt.push(Y[Ke])}),Bt};if(f||(N=function(){if(this instanceof N)throw TypeError("Symbol is not a constructor");var at=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),pt=Dt(at),Rt=function(Bt){this===P&&Rt.call(H,Bt),m(this,Wt)&&m(this[Wt],pt)&&(this[Wt][pt]=!1),Ft(this,pt,w(1,Bt))};return u&&wt&&Ft(P,pt,{configurable:!0,set:Rt}),At(pt,at)},D(N[ce],"toString",function(){return O(this).tag}),D(N,"withoutSetter",function(yt){return At(Dt(yt),yt)}),M.f=J,L.f=A,B.f=dt,S.f=T.f=ct,R.f=Et,xt.f=function(yt){return At(Tt(yt),yt)},u&&(G(N[ce],"description",{configurable:!0,get:function(){return O(this).description}}),h||D(P,"propertyIsEnumerable",J,{unsafe:!0}))),a({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:N}),It(E(ot),function(yt){ae(yt)}),a({target:Te,stat:!0,forced:!f},{for:function(yt){var at=String(yt);if(m(st,at))return st[at];var pt=N(at);return st[at]=pt,tt[pt]=at,pt},keyFor:function(at){if(!I(at))throw TypeError(at+" is not a symbol");if(m(tt,at))return tt[at]},useSetter:function(){wt=!0},useSimple:function(){wt=!1}}),a({target:"Object",stat:!0,forced:!f,sham:!u},{create:z,defineProperty:A,defineProperties:k,getOwnPropertyDescriptor:dt}),a({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:ct,getOwnPropertySymbols:Et}),a({target:"Object",stat:!0,forced:g(function(){R.f(1)})},{getOwnPropertySymbols:function(at){return R.f(v(at))}}),U){var ee=!f||g(function(){var yt=N();return U([yt])!="[null]"||U({a:yt})!="{}"||U(Object(yt))!="{}"});a({target:"JSON",stat:!0,forced:ee},{stringify:function(at,pt,Rt){for(var Bt=[at],Ke=1,rc;arguments.length>Ke;)Bt.push(arguments[Ke++]);if(rc=pt,!(!x(pt)&&at===void 0||I(at)))return b(pt)||(pt=function(ny,ua){if(typeof rc=="function"&&(ua=rc.call(this,ny,ua)),!I(ua))return ua}),Bt[1]=pt,U.apply(null,Bt)}})}N[ce][un]||$(N[ce],un,N[ce].valueOf),me(N,Te),Ot[Wt]=!0},a630:function(i,o,s){var a=s("23e7"),l=s("4df4"),c=s("1c7e"),h=!c(function(u){Array.from(u)});a({target:"Array",stat:!0,forced:h},{from:l})},a640:function(i,o,s){var a=s("d039");i.exports=function(l,c){var h=[][l];return!!h&&a(function(){h.call(null,c||function(){throw 1},1)})}},a691:function(i,o){var s=Math.ceil,a=Math.floor;i.exports=function(l){return isNaN(l=+l)?0:(l>0?a:s)(l)}},ab13:function(i,o,s){var a=s("b622"),l=a("match");i.exports=function(c){var h=/./;try{"/./"[c](h)}catch{try{return h[l]=!1,"/./"[c](h)}catch{}}return!1}},ac1f:function(i,o,s){var a=s("23e7"),l=s("9263");a({target:"RegExp",proto:!0,forced:/./.exec!==l},{exec:l})},ad6d:function(i,o,s){var a=s("825a");i.exports=function(){var l=a(this),c="";return l.global&&(c+="g"),l.ignoreCase&&(c+="i"),l.multiline&&(c+="m"),l.dotAll&&(c+="s"),l.unicode&&(c+="u"),l.sticky&&(c+="y"),c}},ae40:function(i,o,s){var a=s("83ab"),l=s("d039"),c=s("5135"),h=Object.defineProperty,u={},f=function(d){throw d};i.exports=function(d,g){if(c(u,d))return u[d];g||(g={});var m=[][d],b=c(g,"ACCESSORS")?g.ACCESSORS:!1,x=c(g,0)?g[0]:f,p=c(g,1)?g[1]:void 0;return u[d]=!!m&&!l(function(){if(b&&!a)return!0;var v={length:-1};b?h(v,1,{enumerable:!0,get:f}):v[1]=1,m.call(v,x,p)})}},ae93:function(i,o,s){var a=s("e163"),l=s("9112"),c=s("5135"),h=s("b622"),u=s("c430"),f=h("iterator"),d=!1,g=function(){return this},m,b,x;[].keys&&(x=[].keys(),"next"in x?(b=a(a(x)),b!==Object.prototype&&(m=b)):d=!0),m==null&&(m={}),!u&&!c(m,f)&&l(m,f,g),i.exports={IteratorPrototype:m,BUGGY_SAFARI_ITERATORS:d}},b041:function(i,o,s){var a=s("00ee"),l=s("f5df");i.exports=a?{}.toString:function(){return"[object "+l(this)+"]"}},b0c0:function(i,o,s){var a=s("83ab"),l=s("9bf2").f,c=Function.prototype,h=c.toString,u=/^\s*function ([^ (]*)/,f="name";a&&!(f in c)&&l(c,f,{configurable:!0,get:function(){try{return h.call(this).match(u)[1]}catch{return""}}})},b622:function(i,o,s){var a=s("da84"),l=s("5692"),c=s("5135"),h=s("90e3"),u=s("4930"),f=s("fdbf"),d=l("wks"),g=a.Symbol,m=f?g:g&&g.withoutSetter||h;i.exports=function(b){return c(d,b)||(u&&c(g,b)?d[b]=g[b]:d[b]=m("Symbol."+b)),d[b]}},b64b:function(i,o,s){var a=s("23e7"),l=s("7b0b"),c=s("df75"),h=s("d039"),u=h(function(){c(1)});a({target:"Object",stat:!0,forced:u},{keys:function(d){return c(l(d))}})},b727:function(i,o,s){var a=s("0366"),l=s("44ad"),c=s("7b0b"),h=s("50c4"),u=s("65f0"),f=[].push,d=function(g){var m=g==1,b=g==2,x=g==3,p=g==4,v=g==6,y=g==5||v;return function(_,w,C,E){for(var S=c(_),T=l(S),R=a(w,C,3),B=h(T.length),L=0,M=E||u,$=m?M(_,B):b?M(_,0):void 0,D,j;B>L;L++)if((y||L in T)&&(D=T[L],j=R(D,L,S),g)){if(m)$[L]=j;else if(j)switch(g){case 3:return!0;case 5:return D;case 6:return L;case 2:f.call($,D)}else if(p)return!1}return v?-1:x||p?p:$}};i.exports={forEach:d(0),map:d(1),filter:d(2),some:d(3),every:d(4),find:d(5),findIndex:d(6)}},c04e:function(i,o,s){var a=s("861d");i.exports=function(l,c){if(!a(l))return l;var h,u;if(c&&typeof(h=l.toString)=="function"&&!a(u=h.call(l))||typeof(h=l.valueOf)=="function"&&!a(u=h.call(l))||!c&&typeof(h=l.toString)=="function"&&!a(u=h.call(l)))return u;throw TypeError("Can't convert object to primitive value")}},c430:function(i,o){i.exports=!1},c6b6:function(i,o){var s={}.toString;i.exports=function(a){return s.call(a).slice(8,-1)}},c6cd:function(i,o,s){var a=s("da84"),l=s("ce4e"),c="__core-js_shared__",h=a[c]||l(c,{});i.exports=h},c740:function(i,o,s){var a=s("23e7"),l=s("b727").findIndex,c=s("44d2"),h=s("ae40"),u="findIndex",f=!0,d=h(u);u in[]&&Array(1)[u](function(){f=!1}),a({target:"Array",proto:!0,forced:f||!d},{findIndex:function(m){return l(this,m,arguments.length>1?arguments[1]:void 0)}}),c(u)},c8ba:function(i,o){var s;s=function(){return this}();try{s=s||new Function("return this")()}catch{typeof window=="object"&&(s=window)}i.exports=s},c975:function(i,o,s){var a=s("23e7"),l=s("4d64").indexOf,c=s("a640"),h=s("ae40"),u=[].indexOf,f=!!u&&1/[1].indexOf(1,-0)<0,d=c("indexOf"),g=h("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:f||!d||!g},{indexOf:function(b){return f?u.apply(this,arguments)||0:l(this,b,arguments.length>1?arguments[1]:void 0)}})},ca84:function(i,o,s){var a=s("5135"),l=s("fc6a"),c=s("4d64").indexOf,h=s("d012");i.exports=function(u,f){var d=l(u),g=0,m=[],b;for(b in d)!a(h,b)&&a(d,b)&&m.push(b);for(;f.length>g;)a(d,b=f[g++])&&(~c(m,b)||m.push(b));return m}},caad:function(i,o,s){var a=s("23e7"),l=s("4d64").includes,c=s("44d2"),h=s("ae40"),u=h("indexOf",{ACCESSORS:!0,1:0});a({target:"Array",proto:!0,forced:!u},{includes:function(d){return l(this,d,arguments.length>1?arguments[1]:void 0)}}),c("includes")},cc12:function(i,o,s){var a=s("da84"),l=s("861d"),c=a.document,h=l(c)&&l(c.createElement);i.exports=function(u){return h?c.createElement(u):{}}},ce4e:function(i,o,s){var a=s("da84"),l=s("9112");i.exports=function(c,h){try{l(a,c,h)}catch{a[c]=h}return h}},d012:function(i,o){i.exports={}},d039:function(i,o){i.exports=function(s){try{return!!s()}catch{return!0}}},d066:function(i,o,s){var a=s("428f"),l=s("da84"),c=function(h){return typeof h=="function"?h:void 0};i.exports=function(h,u){return arguments.length<2?c(a[h])||c(l[h]):a[h]&&a[h][u]||l[h]&&l[h][u]}},d1e7:function(i,o,s){var a={}.propertyIsEnumerable,l=Object.getOwnPropertyDescriptor,c=l&&!a.call({1:2},1);o.f=c?function(u){var f=l(this,u);return!!f&&f.enumerable}:a},d28b:function(i,o,s){var a=s("746f");a("iterator")},d2bb:function(i,o,s){var a=s("825a"),l=s("3bbe");i.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c=!1,h={},u;try{u=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,u.call(h,[]),c=h instanceof Array}catch{}return function(d,g){return a(d),l(g),c?u.call(d,g):d.__proto__=g,d}}():void 0)},d3b7:function(i,o,s){var a=s("00ee"),l=s("6eeb"),c=s("b041");a||l(Object.prototype,"toString",c,{unsafe:!0})},d44e:function(i,o,s){var a=s("9bf2").f,l=s("5135"),c=s("b622"),h=c("toStringTag");i.exports=function(u,f,d){u&&!l(u=d?u:u.prototype,h)&&a(u,h,{configurable:!0,value:f})}},d58f:function(i,o,s){var a=s("1c0b"),l=s("7b0b"),c=s("44ad"),h=s("50c4"),u=function(f){return function(d,g,m,b){a(g);var x=l(d),p=c(x),v=h(x.length),y=f?v-1:0,_=f?-1:1;if(m<2)for(;;){if(y in p){b=p[y],y+=_;break}if(y+=_,f?y<0:v<=y)throw TypeError("Reduce of empty array with no initial value")}for(;f?y>=0:v>y;y+=_)y in p&&(b=g(b,p[y],y,x));return b}};i.exports={left:u(!1),right:u(!0)}},d784:function(i,o,s){s("ac1f");var a=s("6eeb"),l=s("d039"),c=s("b622"),h=s("9263"),u=s("9112"),f=c("species"),d=!l(function(){var p=/./;return p.exec=function(){var v=[];return v.groups={a:"7"},v},"".replace(p,"$<a>")!=="7"}),g=function(){return"a".replace(/./,"$0")==="$0"}(),m=c("replace"),b=function(){return/./[m]?/./[m]("a","$0")==="":!1}(),x=!l(function(){var p=/(?:)/,v=p.exec;p.exec=function(){return v.apply(this,arguments)};var y="ab".split(p);return y.length!==2||y[0]!=="a"||y[1]!=="b"});i.exports=function(p,v,y,_){var w=c(p),C=!l(function(){var L={};return L[w]=function(){return 7},""[p](L)!=7}),E=C&&!l(function(){var L=!1,M=/a/;return p==="split"&&(M={},M.constructor={},M.constructor[f]=function(){return M},M.flags="",M[w]=/./[w]),M.exec=function(){return L=!0,null},M[w](""),!L});if(!C||!E||p==="replace"&&!(d&&g&&!b)||p==="split"&&!x){var S=/./[w],T=y(w,""[p],function(L,M,$,D,j){return M.exec===h?C&&!j?{done:!0,value:S.call(M,$,D)}:{done:!0,value:L.call($,M,D)}:{done:!1}},{REPLACE_KEEPS_$0:g,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:b}),R=T[0],B=T[1];a(String.prototype,p,R),a(RegExp.prototype,w,v==2?function(L,M){return B.call(L,this,M)}:function(L){return B.call(L,this)})}_&&u(RegExp.prototype[w],"sham",!0)}},d81d:function(i,o,s){var a=s("23e7"),l=s("b727").map,c=s("1dde"),h=s("ae40"),u=c("map"),f=h("map");a({target:"Array",proto:!0,forced:!u||!f},{map:function(g){return l(this,g,arguments.length>1?arguments[1]:void 0)}})},da84:function(i,o,s){(function(a){var l=function(c){return c&&c.Math==Math&&c};i.exports=l(typeof globalThis=="object"&&globalThis)||l(typeof window=="object"&&window)||l(typeof self=="object"&&self)||l(typeof a=="object"&&a)||Function("return this")()}).call(this,s("c8ba"))},dbb4:function(i,o,s){var a=s("23e7"),l=s("83ab"),c=s("56ef"),h=s("fc6a"),u=s("06cf"),f=s("8418");a({target:"Object",stat:!0,sham:!l},{getOwnPropertyDescriptors:function(g){for(var m=h(g),b=u.f,x=c(m),p={},v=0,y,_;x.length>v;)_=b(m,y=x[v++]),_!==void 0&&f(p,y,_);return p}})},dbf1:function(i,o,s){(function(a){s.d(o,"a",function(){return c});function l(){return typeof window<"u"?window.console:a.console}var c=l()}).call(this,s("c8ba"))},ddb0:function(i,o,s){var a=s("da84"),l=s("fdbc"),c=s("e260"),h=s("9112"),u=s("b622"),f=u("iterator"),d=u("toStringTag"),g=c.values;for(var m in l){var b=a[m],x=b&&b.prototype;if(x){if(x[f]!==g)try{h(x,f,g)}catch{x[f]=g}if(x[d]||h(x,d,m),l[m]){for(var p in c)if(x[p]!==c[p])try{h(x,p,c[p])}catch{x[p]=c[p]}}}}},df75:function(i,o,s){var a=s("ca84"),l=s("7839");i.exports=Object.keys||function(h){return a(h,l)}},e01a:function(i,o,s){var a=s("23e7"),l=s("83ab"),c=s("da84"),h=s("5135"),u=s("861d"),f=s("9bf2").f,d=s("e893"),g=c.Symbol;if(l&&typeof g=="function"&&(!("description"in g.prototype)||g().description!==void 0)){var m={},b=function(){var w=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),C=this instanceof b?new g(w):w===void 0?g():g(w);return w===""&&(m[C]=!0),C};d(b,g);var x=b.prototype=g.prototype;x.constructor=b;var p=x.toString,v=String(g("test"))=="Symbol(test)",y=/^Symbol\((.*)\)[^)]+$/;f(x,"description",{configurable:!0,get:function(){var w=u(this)?this.valueOf():this,C=p.call(w);if(h(m,w))return"";var E=v?C.slice(7,-1):C.replace(y,"$1");return E===""?void 0:E}}),a({global:!0,forced:!0},{Symbol:b})}},e163:function(i,o,s){var a=s("5135"),l=s("7b0b"),c=s("f772"),h=s("e177"),u=c("IE_PROTO"),f=Object.prototype;i.exports=h?Object.getPrototypeOf:function(d){return d=l(d),a(d,u)?d[u]:typeof d.constructor=="function"&&d instanceof d.constructor?d.constructor.prototype:d instanceof Object?f:null}},e177:function(i,o,s){var a=s("d039");i.exports=!a(function(){function l(){}return l.prototype.constructor=null,Object.getPrototypeOf(new l)!==l.prototype})},e260:function(i,o,s){var a=s("fc6a"),l=s("44d2"),c=s("3f8c"),h=s("69f3"),u=s("7dd0"),f="Array Iterator",d=h.set,g=h.getterFor(f);i.exports=u(Array,"Array",function(m,b){d(this,{type:f,target:a(m),index:0,kind:b})},function(){var m=g(this),b=m.target,x=m.kind,p=m.index++;return!b||p>=b.length?(m.target=void 0,{value:void 0,done:!0}):x=="keys"?{value:p,done:!1}:x=="values"?{value:b[p],done:!1}:{value:[p,b[p]],done:!1}},"values"),c.Arguments=c.Array,l("keys"),l("values"),l("entries")},e439:function(i,o,s){var a=s("23e7"),l=s("d039"),c=s("fc6a"),h=s("06cf").f,u=s("83ab"),f=l(function(){h(1)}),d=!u||f;a({target:"Object",stat:!0,forced:d,sham:!u},{getOwnPropertyDescriptor:function(m,b){return h(c(m),b)}})},e538:function(i,o,s){var a=s("b622");o.f=a},e893:function(i,o,s){var a=s("5135"),l=s("56ef"),c=s("06cf"),h=s("9bf2");i.exports=function(u,f){for(var d=l(f),g=h.f,m=c.f,b=0;b<d.length;b++){var x=d[b];a(u,x)||g(u,x,m(f,x))}}},e8b5:function(i,o,s){var a=s("c6b6");i.exports=Array.isArray||function(c){return a(c)=="Array"}},e95a:function(i,o,s){var a=s("b622"),l=s("3f8c"),c=a("iterator"),h=Array.prototype;i.exports=function(u){return u!==void 0&&(l.Array===u||h[c]===u)}},f5df:function(i,o,s){var a=s("00ee"),l=s("c6b6"),c=s("b622"),h=c("toStringTag"),u=l(function(){return arguments}())=="Arguments",f=function(d,g){try{return d[g]}catch{}};i.exports=a?l:function(d){var g,m,b;return d===void 0?"Undefined":d===null?"Null":typeof(m=f(g=Object(d),h))=="string"?m:u?l(g):(b=l(g))=="Object"&&typeof g.callee=="function"?"Arguments":b}},f772:function(i,o,s){var a=s("5692"),l=s("90e3"),c=a("keys");i.exports=function(h){return c[h]||(c[h]=l(h))}},fb15:function(i,o,s){if(s.r(o),typeof window<"u"){var a=window.document.currentScript;{var l=s("8875");a=l(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:l})}var c=a&&a.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);c&&(s.p=c[1])}s("99af"),s("4de4"),s("4160"),s("c975"),s("d81d"),s("a434"),s("159b"),s("a4d3"),s("e439"),s("dbb4"),s("b64b");function h(I,A,k){return A in I?Object.defineProperty(I,A,{value:k,enumerable:!0,configurable:!0,writable:!0}):I[A]=k,I}function u(I,A){var k=Object.keys(I);if(Object.getOwnPropertySymbols){var z=Object.getOwnPropertySymbols(I);A&&(z=z.filter(function(J){return Object.getOwnPropertyDescriptor(I,J).enumerable})),k.push.apply(k,z)}return k}function f(I){for(var A=1;A<arguments.length;A++){var k=arguments[A]!=null?arguments[A]:{};A%2?u(Object(k),!0).forEach(function(z){h(I,z,k[z])}):Object.getOwnPropertyDescriptors?Object.defineProperties(I,Object.getOwnPropertyDescriptors(k)):u(Object(k)).forEach(function(z){Object.defineProperty(I,z,Object.getOwnPropertyDescriptor(k,z))})}return I}function d(I){if(Array.isArray(I))return I}s("e01a"),s("d28b"),s("e260"),s("d3b7"),s("3ca3"),s("ddb0");function g(I,A){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(I)))){var k=[],z=!0,J=!1,dt=void 0;try{for(var ct=I[Symbol.iterator](),Et;!(z=(Et=ct.next()).done)&&(k.push(Et.value),!(A&&k.length===A));z=!0);}catch(ee){J=!0,dt=ee}finally{try{!z&&ct.return!=null&&ct.return()}finally{if(J)throw dt}}return k}}s("a630"),s("fb6a"),s("b0c0"),s("25f0");function m(I,A){(A==null||A>I.length)&&(A=I.length);for(var k=0,z=new Array(A);k<A;k++)z[k]=I[k];return z}function b(I,A){if(I){if(typeof I=="string")return m(I,A);var k=Object.prototype.toString.call(I).slice(8,-1);if(k==="Object"&&I.constructor&&(k=I.constructor.name),k==="Map"||k==="Set")return Array.from(I);if(k==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(k))return m(I,A)}}function x(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p(I,A){return d(I)||g(I,A)||b(I,A)||x()}function v(I){if(Array.isArray(I))return m(I)}function y(I){if(typeof Symbol<"u"&&Symbol.iterator in Object(I))return Array.from(I)}function _(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(I){return v(I)||y(I)||b(I)||_()}var C=s("a352"),E=s.n(C);function S(I){I.parentElement!==null&&I.parentElement.removeChild(I)}function T(I,A,k){var z=k===0?I.children[0]:I.children[k-1].nextSibling;I.insertBefore(A,z)}var R=s("dbf1");s("13d5"),s("4fad"),s("ac1f"),s("5319");function B(I){var A=Object.create(null);return function(z){var J=A[z];return J||(A[z]=I(z))}}var L=/-(\w)/g,M=B(function(I){return I.replace(L,function(A,k){return k.toUpperCase()})});s("5db7"),s("73d9");var $=["Start","Add","Remove","Update","End"],D=["Choose","Unchoose","Sort","Filter","Clone"],j=["Move"],X=[j,$,D].flatMap(function(I){return I}).map(function(I){return"on".concat(I)}),Ot={manage:j,manageAndEmit:$,emit:D};function Dt(I){return X.indexOf(I)!==-1}s("caad"),s("2ca0");var Tt=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function xt(I){return Tt.includes(I)}function ae(I){return["transition-group","TransitionGroup"].includes(I)}function me(I){return["id","class","role","style"].includes(I)||I.startsWith("data-")||I.startsWith("aria-")||I.startsWith("on")}function le(I){return I.reduce(function(A,k){var z=p(k,2),J=z[0],dt=z[1];return A[J]=dt,A},{})}function It(I){var A=I.$attrs,k=I.componentData,z=k===void 0?{}:k,J=le(Object.entries(A).filter(function(dt){var ct=p(dt,2),Et=ct[0];return ct[1],me(Et)}));return f(f({},J),z)}function Wt(I){var A=I.$attrs,k=I.callBackBuilder,z=le(Te(A));Object.entries(k).forEach(function(dt){var ct=p(dt,2),Et=ct[0],ee=ct[1];Ot[Et].forEach(function(yt){z["on".concat(yt)]=ee(yt)})});var J="[data-draggable]".concat(z.draggable||"");return f(f({},z),{},{draggable:J})}function Te(I){return Object.entries(I).filter(function(A){var k=p(A,2),z=k[0];return k[1],!me(z)}).map(function(A){var k=p(A,2),z=k[0],J=k[1];return[M(z),J]}).filter(function(A){var k=p(A,2),z=k[0];return k[1],!Dt(z)})}s("c740");function ce(I,A){if(!(I instanceof A))throw new TypeError("Cannot call a class as a function")}function un(I,A){for(var k=0;k<A.length;k++){var z=A[k];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(I,z.key,z)}}function In(I,A,k){return A&&un(I.prototype,A),k&&un(I,k),I}var O=function(A){var k=A.el;return k},P=function(A,k){return A.__draggable_context=k},N=function(A){return A.__draggable_context},U=function(){function I(A){var k=A.nodes,z=k.header,J=k.default,dt=k.footer,ct=A.root,Et=A.realList;ce(this,I),this.defaultNodes=J,this.children=[].concat(w(z),w(J),w(dt)),this.externalComponent=ct.externalComponent,this.rootTransition=ct.transition,this.tag=ct.tag,this.realList=Et}return In(I,[{key:"render",value:function(k,z){var J=this.tag,dt=this.children,ct=this._isRootComponent,Et=ct?{default:function(){return dt}}:dt;return k(J,z,Et)}},{key:"updated",value:function(){var k=this.defaultNodes,z=this.realList;k.forEach(function(J,dt){P(O(J),{element:z[dt],index:dt})})}},{key:"getUnderlyingVm",value:function(k){return N(k)}},{key:"getVmIndexFromDomIndex",value:function(k,z){var J=this.defaultNodes,dt=J.length,ct=z.children,Et=ct.item(k);if(Et===null)return dt;var ee=N(Et);if(ee)return ee.index;if(dt===0)return 0;var yt=O(J[0]),at=w(ct).findIndex(function(pt){return pt===yt});return k<at?0:dt}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),I}(),W=s("8bbf");function G(I,A){var k=I[A];return k?k():[]}function Z(I){var A=I.$slots,k=I.realList,z=I.getKey,J=k||[],dt=["header","footer"].map(function(pt){return G(A,pt)}),ct=p(dt,2),Et=ct[0],ee=ct[1],yt=A.item;if(!yt)throw new Error("draggable element must have an item slot");var at=J.flatMap(function(pt,Rt){return yt({element:pt,index:Rt}).map(function(Bt){return Bt.key=z(pt),Bt.props=f(f({},Bt.props||{}),{},{"data-draggable":!0}),Bt})});if(at.length!==J.length)throw new Error("Item slot must have only one child");return{header:Et,footer:ee,default:at}}function K(I){var A=ae(I),k=!xt(I)&&!A;return{transition:A,externalComponent:k,tag:k?Object(W.resolveComponent)(I):A?W.TransitionGroup:I}}function Y(I){var A=I.$slots,k=I.tag,z=I.realList,J=I.getKey,dt=Z({$slots:A,realList:z,getKey:J}),ct=K(k);return new U({nodes:dt,root:ct,realList:z})}function H(I,A){var k=this;Object(W.nextTick)(function(){return k.$emit(I.toLowerCase(),A)})}function st(I){var A=this;return function(k,z){if(A.realList!==null)return A["onDrag".concat(I)](k,z)}}function tt(I){var A=this,k=st.call(this,I);return function(z,J){k.call(A,z,J),H.call(A,I,z)}}var ot=null,ft={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(A){return A}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},wt=["update:modelValue","change"].concat(w([].concat(w(Ot.manageAndEmit),w(Ot.emit)).map(function(I){return I.toLowerCase()}))),Ft=Object(W.defineComponent)({name:"draggable",inheritAttrs:!1,props:ft,emits:wt,data:function(){return{error:!1}},render:function(){try{this.error=!1;var A=this.$slots,k=this.$attrs,z=this.tag,J=this.componentData,dt=this.realList,ct=this.getKey,Et=Y({$slots:A,tag:z,realList:dt,getKey:ct});this.componentStructure=Et;var ee=It({$attrs:k,componentData:J});return Et.render(W.h,ee)}catch(yt){return this.error=!0,Object(W.h)("pre",{style:{color:"red"}},yt.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&R.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var A=this;if(!this.error){var k=this.$attrs,z=this.$el,J=this.componentStructure;J.updated();var dt=Wt({$attrs:k,callBackBuilder:{manageAndEmit:function(ee){return tt.call(A,ee)},emit:function(ee){return H.bind(A,ee)},manage:function(ee){return st.call(A,ee)}}}),ct=z.nodeType===1?z:z.parentElement;this._sortable=new E.a(ct,dt),this.targetDomElement=ct,ct.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var A=this.list;return A||this.modelValue},getKey:function(){var A=this.itemKey;return typeof A=="function"?A:function(k){return k[A]}}},watch:{$attrs:{handler:function(A){var k=this._sortable;k&&Te(A).forEach(function(z){var J=p(z,2),dt=J[0],ct=J[1];k.option(dt,ct)})},deep:!0}},methods:{getUnderlyingVm:function(A){return this.componentStructure.getUnderlyingVm(A)||null},getUnderlyingPotencialDraggableComponent:function(A){return A.__draggable_component__},emitChanges:function(A){var k=this;Object(W.nextTick)(function(){return k.$emit("change",A)})},alterList:function(A){if(this.list){A(this.list);return}var k=w(this.modelValue);A(k),this.$emit("update:modelValue",k)},spliceList:function(){var A=arguments,k=function(J){return J.splice.apply(J,w(A))};this.alterList(k)},updatePosition:function(A,k){var z=function(dt){return dt.splice(k,0,dt.splice(A,1)[0])};this.alterList(z)},getRelatedContextFromMoveEvent:function(A){var k=A.to,z=A.related,J=this.getUnderlyingPotencialDraggableComponent(k);if(!J)return{component:J};var dt=J.realList,ct={list:dt,component:J};if(k!==z&&dt){var Et=J.getUnderlyingVm(z)||{};return f(f({},Et),ct)}return ct},getVmIndexFromDomIndex:function(A){return this.componentStructure.getVmIndexFromDomIndex(A,this.targetDomElement)},onDragStart:function(A){this.context=this.getUnderlyingVm(A.item),A.item._underlying_vm_=this.clone(this.context.element),ot=A.item},onDragAdd:function(A){var k=A.item._underlying_vm_;if(k!==void 0){S(A.item);var z=this.getVmIndexFromDomIndex(A.newIndex);this.spliceList(z,0,k);var J={element:k,newIndex:z};this.emitChanges({added:J})}},onDragRemove:function(A){if(T(this.$el,A.item,A.oldIndex),A.pullMode==="clone"){S(A.clone);return}var k=this.context,z=k.index,J=k.element;this.spliceList(z,1);var dt={element:J,oldIndex:z};this.emitChanges({removed:dt})},onDragUpdate:function(A){S(A.item),T(A.from,A.item,A.oldIndex);var k=this.context.index,z=this.getVmIndexFromDomIndex(A.newIndex);this.updatePosition(k,z);var J={element:this.context.element,oldIndex:k,newIndex:z};this.emitChanges({moved:J})},computeFutureIndex:function(A,k){if(!A.element)return 0;var z=w(k.to.children).filter(function(Et){return Et.style.display!=="none"}),J=z.indexOf(k.related),dt=A.component.getVmIndexFromDomIndex(J),ct=z.indexOf(ot)!==-1;return ct||!k.willInsertAfter?dt:dt+1},onDragMove:function(A,k){var z=this.move,J=this.realList;if(!z||!J)return!0;var dt=this.getRelatedContextFromMoveEvent(A),ct=this.computeFutureIndex(dt,A),Et=f(f({},this.context),{},{futureIndex:ct}),ee=f(f({},A),{},{relatedContext:dt,draggedContext:Et});return z(ee,k)},onDragEnd:function(){ot=null}}}),At=Ft;o.default=At},fb6a:function(i,o,s){var a=s("23e7"),l=s("861d"),c=s("e8b5"),h=s("23cb"),u=s("50c4"),f=s("fc6a"),d=s("8418"),g=s("b622"),m=s("1dde"),b=s("ae40"),x=m("slice"),p=b("slice",{ACCESSORS:!0,0:0,1:2}),v=g("species"),y=[].slice,_=Math.max;a({target:"Array",proto:!0,forced:!x||!p},{slice:function(C,E){var S=f(this),T=u(S.length),R=h(C,T),B=h(E===void 0?T:E,T),L,M,$;if(c(S)&&(L=S.constructor,typeof L=="function"&&(L===Array||c(L.prototype))?L=void 0:l(L)&&(L=L[v],L===null&&(L=void 0)),L===Array||L===void 0))return y.call(S,R,B);for(M=new(L===void 0?Array:L)(_(B-R,0)),$=0;R<B;R++,$++)R in S&&d(M,$,S[R]);return M.length=$,M}})},fc6a:function(i,o,s){var a=s("44ad"),l=s("1d80");i.exports=function(c){return a(l(c))}},fdbc:function(i,o){i.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(i,o,s){var a=s("4930");i.exports=a&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(Hv);var D3=Hv.exports;const B3=Dv(D3),nh=""+new URL("2-67ed371b.jpg",import.meta.url).href,N3=["onMousedown","onMousewheel"],F3=["src"],k3=["id"],$3=["onClick","d"],j3=["d"],W3=["d"],U3=ta({__name:"Svg",props:{list:{type:Array,default:()=>[]},width:{type:Number,default:6144},height:{type:Number,default:3456},opacity:{type:Number,default:.5}},setup(e){const t=e,n=$t(1),r=Ss(()=>`height: ${t.height}px;width: ${t.width}px;`),i=$t(""),o=()=>{const g=new Image;g.src=nh,g.onload=m=>{i.value=nh,console.log(m)}},s=(g,m)=>`M ${g.x} ${g.y}
  m ${-4/m} 0
  a ${4/m},${4/m} 0 1,0 ${8/m},0
  a ${4/m},${4/m} 0 1,0 ${-8/m},0
  `,a=(g,m)=>{let b="",x="",p=[];if(g.pointList.length===2){const[y,_]=g.pointList;p=[y,{x:_.x,y:y.y},_,{x:y.x,y:_.y}]}else p=g.pointList;const v=p.length;for(let y=0;y<v;y++){const _=p[y];b+=s(_,n.value),y===0?x+=`M${_.x} ${_.y} `:y===v-1?x+=`L${_.x} ${_.y} Z`:x+=`L${_.x} ${_.y} `}return m===1?x:b},l=g=>{t.list.forEach(m=>{m.selected=m.id===g.id})},c=$t(null),h=g=>{const m=c.value.style.transform;n.value=m.indexOf("scale")!=-1?+m.split("(")[1].split(")")[0]:1,n.value+=g.wheelDelta/1200/10,n.value>.01&&n.value<2&&(c.value.style.transform="scale("+n.value+")")},u=$t(null),f=g=>{const m=u.value,b=c.value,x=g.pageX-b.offsetLeft,p=g.pageY-b.offsetTop;m.addEventListener("mousemove",v);function v(y){b.style.left=y.pageX-x+"px",b.style.top=y.pageY-p+"px"}b.addEventListener("mouseup",()=>{m.removeEventListener("mousemove",v)}),m.addEventListener("mouseout",()=>{m.removeEventListener("mousemove",v)})},d=()=>{const g=u.value,m=g.clientWidth,b=g.clientHeight;n.value=Math.min(m/t.width,b/t.height),console.log(n.value),n.value-=.01,c.value.style.transform="scale("+n.value+")"};return Gi(()=>{d(),o()}),(g,m)=>(Fn(),Gr("div",{class:"wrap",ref_key:"imgWrap",ref:u},[ht("div",{class:"assist-canvas",ref_key:"image",ref:c,onMousedown:Ou(f,["prevent"]),onMousewheel:Ou(h,["prevent"])},[ht("div",{class:"origin-image",style:kn(`${r.value}`)},[ht("img",{src:i.value,draggable:"false",style:kn(`${r.value}`)},null,12,F3)],4),ht("div",{class:"mask-bg",style:kn(`${r.value}opacity: ${t.opacity};`)},null,4),(Fn(),Gr("svg",{xmlns:"http://www.w3.org/2000/svg",style:kn(`${r.value}`)},[(Fn(!0),Gr(be,null,Ug(t.list,b=>(Fn(),Gr("g",{key:b.id,id:b.id},[b.selected?(Fn(),Gr(be,{key:1},[ht("path",{d:a(b,2),class:"selected"},null,8,j3),ht("path",{d:a(b,1),class:"selected"},null,8,W3)],64)):(Fn(),Gr("path",{key:0,onClick:x=>l(b),d:a(b,1),style:kn(`stroke: ${b.color};fill: ${b.color};`),class:"un-selected"},null,12,$3))],8,k3))),128))],4))],40,N3)],512))}});const ey=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},H3=ey(U3,[["__scopeId","data-v-c6f609ed"]]),Xn=e=>(Sg("data-v-562ceb8d"),e=e(),Og(),e),z3={class:"page"},G3={class:"label-input"},Y3=Xn(()=>ht("br",null,null,-1)),K3={class:"tools_bar"},X3=Xn(()=>ht("label",null,[ht("input",{type:"radio",name:"options",value:"1"}),oi("无共边 ")],-1)),V3=Xn(()=>ht("label",null,[ht("input",{type:"radio",name:"options",value:"2"}),oi("镂空共边 ")],-1)),Z3=Xn(()=>ht("label",null,[ht("input",{type:"radio",name:"options",value:"3"}),oi("融合共边 ")],-1)),J3=Xn(()=>ht("svg",{t:"1689228627753",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2933",width:"32",height:"32"},[ht("path",{d:"M971.989333 485.376l1.365334 1.792 1.322666 1.962667 0.341334 0.512 0.896 1.536a44.458667 44.458667 0 0 1 2.474666 5.162666l0.213334 0.64 0.512 1.408a42.581333 42.581333 0 0 1 1.066666 3.84l0.256 1.066667a42.794667 42.794667 0 0 1 0.853334 7.253333v2.858667c0 0.725333-0.042667 1.493333-0.128 2.218667l-0.128 1.322666-0.128 1.109334a42.794667 42.794667 0 0 1-0.256 1.450666l-0.213334 1.152a42.368 42.368 0 0 1-0.981333 3.797334l-0.341333 1.152a42.325333 42.325333 0 0 1-3.2 7.210666l-0.853334 1.493334-2.005333 2.901333a44.714667 44.714667 0 0 1-4.266667 4.949333l-120.661333 120.661334a42.666667 42.666667 0 1 1-60.330667-60.330667l47.786667-47.786667L554.666667 554.666667v280.96l47.872-47.786667a42.666667 42.666667 0 0 1 60.330666 60.288l-120.661333 120.704-3.242667 2.858667-2.133333 1.706666-0.938667 0.64-1.536 0.981334-1.493333 0.896a44.458667 44.458667 0 0 1-6.4 2.944l-0.810667 0.256a42.538667 42.538667 0 0 1-3.84 1.066666l-1.109333 0.256a42.794667 42.794667 0 0 1-7.253333 0.853334h-2.816c-0.768 0-1.493333-0.042667-2.218667-0.128l-1.365333-0.128-1.066667-0.128a42.794667 42.794667 0 0 1-1.493333-0.256l-1.152-0.213334-1.237334-0.256-1.194666-0.341333a54.997333 54.997333 0 0 1-1.322667-0.384l-1.194667-0.341333a42.325333 42.325333 0 0 1-7.168-3.2l-1.536-0.853334a42.752 42.752 0 0 1-2.901333-2.005333l-0.896-0.682667a44.714667 44.714667 0 0 1-4.010667-3.541333l-120.704-120.704a42.666667 42.666667 0 1 1 60.330667-60.330667L469.333333 835.584V554.666667H188.330667l47.829333 47.829333a42.666667 42.666667 0 0 1-60.330667 60.330667l-120.661333-120.661334-3.114667-3.498666a42.965333 42.965333 0 0 1-0.256-0.256l-0.170666-0.256-0.725334-0.938667-1.578666-2.346667-0.341334-0.554666a42.325333 42.325333 0 0 1-0.341333-0.512l-0.554667-0.981334a42.538667 42.538667 0 0 1-2.944-6.4l-0.256-0.810666-0.384-1.152-0.384-1.322667a42.368 42.368 0 0 1-0.810666-3.626667l-0.213334-1.450666a42.666667 42.666667 0 0 1-0.128-1.109334l-0.128-0.938666a42.922667 42.922667 0 0 1-0.085333-1.493334L42.666667 512.810667v-1.621334l0.085333-1.706666 0.085333-1.493334 0.128-0.981333 0.170667-1.365333 0.426667-2.346667 0.213333-1.066667 0.341333-1.28a42.581333 42.581333 0 0 1 2.56-7.04l0.682667-1.365333 0.725333-1.365333 0.554667-1.024a42.410667 42.410667 0 0 1 3.242667-4.693334l0.170666-0.170666 3.114667-3.456L175.786667 361.130667a42.666667 42.666667 0 0 1 60.330666 60.330666L188.330667 469.333333h280.96V188.330667L421.546667 236.16a42.666667 42.666667 0 1 1-60.373334-60.330667l120.704-120.661333 3.456-3.114667 0.298667-0.256 0.256-0.170666 0.896-0.725334 2.389333-1.578666 0.512-0.341334a42.410667 42.410667 0 0 1 0.512-0.341333l1.024-0.554667a42.538667 42.538667 0 0 1 6.4-2.944l0.810667-0.256a42.538667 42.538667 0 0 1 1.152-0.384l1.322667-0.384a42.368 42.368 0 0 1 3.584-0.810666l1.493333-0.213334a42.666667 42.666667 0 0 1 1.066667-0.128l0.981333-0.128 1.493333-0.085333 1.706667-0.085333h1.621333l1.706667 0.085333 1.493333 0.085333 0.938667 0.128 1.365333 0.170667 2.346667 0.426667 1.109333 0.213333 1.28 0.341333a42.581333 42.581333 0 0 1 6.997334 2.56l1.408 0.682667 1.365333 0.725333 0.981333 0.554667a42.325333 42.325333 0 0 1 4.693334 3.242667l0.170666 0.170666 3.498667 3.114667 120.661333 120.661333a42.666667 42.666667 0 1 1-60.330666 60.330667L554.666667 188.330667V469.333333h281.002666l-47.786666-47.872a42.666667 42.666667 0 0 1 60.288-60.330666l120.704 120.704 1.706666 1.749333 0.256 0.341333 0.426667 0.512 0.469333 0.554667-0.896-1.066667-1.962666-2.133333 3.029333 3.413333 0.128 0.170667z",fill:"#333333","p-id":"2934"})],-1)),Q3=[J3],q3=Xn(()=>ht("svg",{t:"1689228737226",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"7059",width:"32",height:"32"},[ht("path",{d:"M580.76 908.62a53.366667 53.366667 0 0 1-46.28-26.666667L404.1 656.133333l-154.666667 148.586667A21.333333 21.333333 0 0 1 213.333333 789.333333V106.666667a21.333333 21.333333 0 0 1 6.706667-15.526667c5.333333-5.02 15.26-8.74 25.72-2.7l91.946667 53.086667 498.833333 288a21.333333 21.333333 0 0 1-4.733333 38.966666l-206 59.64 130.386666 225.826667a53.333333 53.333333 0 0 1-19.526666 72.86l-129.333334 74.666667a53.02 53.02 0 0 1-26.573333 7.133333zM408.953333 600.546667a20.666667 20.666667 0 0 1 3 0.213333 21.333333 21.333333 0 0 1 15.48 10.453333l144 249.413334a10.666667 10.666667 0 0 0 14.566667 3.906666l129.333333-74.666666a10.666667 10.666667 0 0 0 3.906667-14.573334l-144-249.413333a21.333333 21.333333 0 0 1 12.546667-31.16l184.053333-53.286667L256 143.62v595.633333l138.18-132.76a21.333333 21.333333 0 0 1 14.773333-5.946666z",fill:"#333333","p-id":"7060"})],-1)),tT=[q3],eT=Xn(()=>ht("svg",{t:"1689232578153",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"17746",width:"32",height:"32"},[ht("path",{d:"M904.50393 795.651268V225.084385c32.463366-10.869558 55.862285-41.503253 55.862286-77.623915 0-45.212738-36.647665-81.863473-81.864496-81.863473-35.721573 0-66.084091 22.890336-77.262688 54.798047H226.150158c-11.177574-31.907711-41.538045-54.79907-77.262688-54.79907-45.213761 0-81.864496 36.651758-81.864496 81.864496 0 35.530215 22.63758 65.76175 54.271045 77.086679v571.642379c-31.633465 11.32493-54.271044 41.555441-54.271045 77.084632 0 45.212738 36.652781 81.864496 81.864496 81.864496 34.495652 0 63.98222-21.342074 76.036767-51.532677h577.543786c12.05557 30.190603 41.546232 51.532677 76.035743 51.532677 45.217854 0 81.864496-36.651758 81.864496-81.864496-0.002047-36.120662-23.400966-66.753333-55.864332-77.622892z m-105.182574 56.789401H228.067834c-7.227612-27.548426-28.447912-49.415456-55.609529-57.570183V225.865167c26.077935-7.829316 46.683229-28.300556 54.682414-54.305836H800.249495c7.835456 25.473161 27.768437 45.63434 53.090149 53.80851V795.367813c-26.39516 8.519024-46.930869 30.065759-54.018288 57.072856z","p-id":"17747",fill:"#333333"})],-1)),nT=[eT],rT=Xn(()=>ht("svg",{t:"1689228887315",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"14086",width:"32",height:"32"},[ht("path",{d:"M680.71 915.22H343.29c-39.53 0-76.37-21.27-96.12-55.52L78.46 567.49c-19.75-34.22-19.75-76.77 0-110.99l168.71-292.2c19.75-34.24 56.6-55.52 96.12-55.52h337.42c39.53 0 76.37 21.27 96.12 55.52l168.71 292.2c19.75 34.22 19.75 76.77 0 110.99L776.83 859.7c-19.75 34.24-56.59 55.52-96.12 55.52zM343.29 175.69c-15.7 0-30.35 8.43-38.21 22.04l-168.71 292.2c-7.84 13.61-7.84 30.52 0 44.13l168.71 292.2c7.86 13.61 22.51 22.04 38.21 22.04h337.42c15.7 0 30.35-8.43 38.21-22.04l168.71-292.2c7.84-13.61 7.84-30.52 0-44.13l-168.71-292.2c-7.86-13.61-22.51-22.04-38.21-22.04H343.29z",fill:"#333333","p-id":"14087"})],-1)),iT=[rT],sT=Xn(()=>ht("div",{class:"b"},null,-1)),oT=Xn(()=>ht("div",{class:"b"},null,-1)),aT=["disabled"],lT=["disabled"],cT={class:"mark-box"},uT=Xn(()=>ht("div",{id:"mark-box",class:"design-stage-grid"},null,-1)),hT={class:"object-list"},fT=["onClick","onContextmenu"],dT=["onClick"],pT=ta({__name:"App",setup(e){const t=$t(!1),n=$t(""),r=$t(null),i=$t(!0);function o($){var D;(D=r.value)==null||D.setDrawType($)}const s=$t(!1),a=$t("person"),l=$t("#ff0000");let c=null;function h(){c(null),s.value=!1}function u(){if(a.value=a.value.trim(),l.value=l.value.trim(),!a.value)return alert("请输入标签");if(!l.value)return alert("请输入颜色");c({label:a.value,color:l.value}),s.value=!1}function f($,D){c=$,s.value=!0,a.value=D?D.label:a.value,l.value=D?D.color:l.value}const d=$t([]);function g(){r.value.ruler.changeEnabled(!r.value.ruler.config.enabled)}const m=()=>{r.value.history.undo()},b=()=>{r.value.history.redo()},x=()=>{r.value.history.clear()},p=$t([]),v=$t([]),y=$t("");Gi(()=>{r.value=new VP({view:"mark-box",fill:"#f1f1f1"}),p.value=r.value.history.history.undoStack,v.value=r.value.history.history.redoStack,r.value.app.on(it.ONMOVE,$=>{t.value=$.status}),r.value.app.on(it.ONSELECT,$=>{i.value=$.status}),r.value.app.on(it.ONTIMECHANGE,$=>{y.value=$.time}),r.value.app.on(it.ONDRAW,$=>{n.value=$.type}),r.value.app.on(it.ONCOMPLETE,$=>{f(function(D){D?$.ok(D):$.err()})}),r.value.app.on(it.ONCHANGE,()=>{var $;d.value=JSON.parse(JSON.stringify(($=r.value)==null?void 0:$.objects))}),r.value.setBackground(nh)});function _(){const $=r.value.toJSON();console.log(JSON.stringify($))}const w=$t(`[
  {"index":1,"type":"polygon","label":"person1","color":"#ff0000","pointList":[{"x":0,"y":0},{"x":400,"y":0},{"x":400,"y":200},{"x":200,"y":200},{"x":200,"y":400},{"x":0,"y":400}]},
  {"index":2,"type":"polygon","label":"person1","color":"#ff0000","pointList":[{"x":200,"y":400},{"x":400,"y":400},{"x":400,"y":200},{"x":600,"y":200},{"x":600,"y":600},{"x":200,"y":600}]},
  {"index":2,"type":"polygon","label":"person1","color":"#ff0000","pointList":[{"x":0,"y":0},{"x":400,"y":0},{"x":400,"y":200},{"x":600,"y":200},{"x":600,"y":600},{"x":200,"y":600},{"x":200,"y":400},{"x":0,"y":400}]}
]`);function C(){var $;try{const D=JSON.parse(w.value);($=r.value)==null||$.setObjectData(D)}catch{alert("JSON格式错误")}}function E(){var $;($=r.value)==null||$.clear()}function S(){const $=document.createElement("input");$.type="file",$.accept="image/*",$.onchange=function(D){const j=D.target.files[0];if(j){const X=new FileReader;X.onload=function(Ot){var Dt;(Dt=r.value)==null||Dt.setBackground(Ot.target.result)},X.readAsDataURL(j)}},$.click()}const T=$t(!1);function R(){var $;($=r.value)==null||$.sortObject(d.value.map(D=>D.id))}function B($){var D;(D=r.value)==null||D.selectObjectById($)}function L($){var D;(D=r.value)==null||D.deleteObject($)}function M($,D){$.preventDefault(),f(function(j){var X;j&&((X=r.value)==null||X.setObjectLabel(D.id,j))},D)}return($,D)=>(Fn(),Gr("div",z3,[lo(ht("div",{class:"label-mark",onClick:h},null,512),[[ul,s.value]]),lo(ht("div",G3,[lo(ht("input",{type:"text","onUpdate:modelValue":D[0]||(D[0]=j=>a.value=j)},null,512),[[Rs,a.value]]),lo(ht("input",{type:"color","onUpdate:modelValue":D[1]||(D[1]=j=>l.value=j)},null,512),[[Rs,l.value]]),Y3,ht("button",{onClick:h},"取消"),ht("button",{onClick:u},"提交")],512),[[ul,s.value]]),ht("div",K3,[oi(oo(y.value)+" ",1),X3,V3,Z3,ht("button",{title:"不用选择 按住空格键自动进入平移模式",class:nr({active:t.value})},Q3,2),ht("button",{class:nr({active:i.value}),onClick:D[2]||(D[2]=j=>{var X;return(X=r.value)==null?void 0:X.setSelectMode(!i.value)})},tT,2),ht("button",{class:nr({active:n.value=="rect"}),onClick:D[3]||(D[3]=j=>o("rect"))},nT,2),ht("button",{class:nr({active:n.value=="polygon"}),onClick:D[4]||(D[4]=j=>o("polygon"))},iT,2),sT,ht("button",{onClick:_},"导出"),ht("button",{onClick:C},"导入"),oT,ht("button",{onClick:E},"清空画布"),ht("button",{onClick:S},"上传图片"),ht("button",{onClick:g},"标尺"),ht("button",{onClick:m,disabled:p.value.length===0},"后退("+oo(p.value.length)+")",9,aT),ht("button",{onClick:b,disabled:v.value.length===0},"重做("+oo(v.value.length)+")",9,lT),ht("button",{onClick:x},"清空")]),ht("div",cT,[uT,ht("div",hT,[Yt(Bl(B3),{modelValue:d.value,"onUpdate:modelValue":D[5]||(D[5]=j=>d.value=j),group:"people",onStart:D[6]||(D[6]=j=>T.value=!0),onEnd:R,"item-key":"id"},{item:$l(({element:j})=>[ht("div",{onClick:X=>B(j.id),class:nr(["item",{active:j.select}]),onContextmenu:X=>M(X,j)},[ht("b",{style:kn({background:j.color})},null,4),oi(oo(j.label)+" ",1),ht("a",{onClick:X=>L(j.id)},"删除",8,dT)],42,fT)]),_:1},8,["modelValue"])])]),Yt(H3,{list:d.value},null,8,["list"])]))}});const gT=ey(pT,[["__scopeId","data-v-562ceb8d"]]);Dm(gT).mount("#app");
